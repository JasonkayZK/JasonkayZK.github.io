<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="/js/jquery.goup.min.js" defer></script>
  
  <title>LevelDBä½¿ç”¨ç¤ºä¾‹ - å¼ å°å‡¯çš„åšå®¢</title>
  <meta charset="UTF-8">
  <meta name="description" content="è¬™è™šã¯äººã‚’é€²æ­©ã•ã›ã€ã”ã†ã¾ã‚“ã¯äººã‚’è½å¾Œã•ã›ã‚‹ã€‚ç¤¾ä¼šã®åˆå¿ƒè€…ã‹ã‚‰ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png">
  <meta name="description" content="LevelDB æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„ k/v æ•°æ®åº“ï¼ŒChromeæµè§ˆå™¨ä¸­æ¶‰åŠçš„ IndexedDBï¼Œå°±æ˜¯åŸºäº LevelDB æ„å»ºè€Œæˆçš„ï¼Œæœ¬æ–‡è®²è§£äº†å¦‚ä½•ç®€å•çš„ä½¿ç”¨ LevelDBï¼Œåé¢ä¹Ÿä¼šç»§ç»­å†™ç³»åˆ—æ–‡ç« å¯¹LevelDBçš„æºç è¿›è¡Œåˆ†æï¼›">
<meta name="keywords" content="C++,æ•°æ®åº“,LevelDB">
<meta property="og:type" content="article">
<meta property="og:title" content="LevelDBä½¿ç”¨ç¤ºä¾‹">
<meta property="og:url" content="https://jasonkayzk.github.io/2022/12/09/LevelDBä½¿ç”¨ç¤ºä¾‹/index.html">
<meta property="og:site_name" content="å¼ å°å‡¯çš„åšå®¢">
<meta property="og:description" content="LevelDB æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„ k/v æ•°æ®åº“ï¼ŒChromeæµè§ˆå™¨ä¸­æ¶‰åŠçš„ IndexedDBï¼Œå°±æ˜¯åŸºäº LevelDB æ„å»ºè€Œæˆçš„ï¼Œæœ¬æ–‡è®²è§£äº†å¦‚ä½•ç®€å•çš„ä½¿ç”¨ LevelDBï¼Œåé¢ä¹Ÿä¼šç»§ç»­å†™ç³»åˆ—æ–‡ç« å¯¹LevelDBçš„æºç è¿›è¡Œåˆ†æï¼›">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2026-02-10T12:07:45.742Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LevelDBä½¿ç”¨ç¤ºä¾‹">
<meta name="twitter:description" content="LevelDB æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„ k/v æ•°æ®åº“ï¼ŒChromeæµè§ˆå™¨ä¸­æ¶‰åŠçš„ IndexedDBï¼Œå°±æ˜¯åŸºäº LevelDB æ„å»ºè€Œæˆçš„ï¼Œæœ¬æ–‡è®²è§£äº†å¦‚ä½•ç®€å•çš„ä½¿ç”¨ LevelDBï¼Œåé¢ä¹Ÿä¼šç»§ç»­å†™ç³»åˆ—æ–‡ç« å¯¹LevelDBçš„æºç è¿›è¡Œåˆ†æï¼›">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.16.2/styles/atom-one-dark.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1770725311865">

  <!-- è¿›åº¦æ¡åŠ è½½: nprogress -->
  <link href="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6617852905105366" crossorigin="anonymous"></script>
  <!-- Cloudflare Web Analytics -->
   <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{"token": "73d46a730654451bac205cdc12bea918"}"></script>
  <!-- umami Web Analytics -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="23fadd4b-d559-4ae0-a4f6-f90680c3d4c0"></script>

  <!-- æœ¬åœ°æœç´¢js -->
  <script type="text/javascript" src="/js/search.js"></script>

  <!-- ç™¾åº¦ç«™ç‚¹ç®¡ç† -->
  <meta name="baidu-site-verification" content="code-SKIvb4A1Qx">

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-1NWK4EEKDF');
  </script>

  <!-- ç«™å†…é€šçŸ¥ -->
  <link href="https://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="/css/default.css">
  <link rel="stylesheet" href="/css/animate.min.css">
  <link rel="stylesheet" href="/css/notification.css">
  <link rel="stylesheet" href="/css/index.css">
<link rel="alternate" href="/atom.xml" title="å¼ å°å‡¯çš„åšå®¢" type="application/atom+xml">
</head>

<!-- æ–‡ç« é˜…è¯»è¿›åº¦æ¡æ ·å¼ -->
<style>
  #content_progress {
      /* Positioning */
      position: fixed;
      left: 0;
      top: 0;
      z-index: 99999;
      width: 100%;
      height: 3px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      border: none;
      background-color: transparent;
      color: #ffaa73;
}

#content_progress::-webkit-progress-bar {
      background-color: transparent;
}

#content_progress::-webkit-progress-value {
      background-color: #ffaa73;
}

#content_progress::-moz-progress-bar {
      background-color:#ffaa73;
}
</style>
<!-- æ–‡ç« é˜…è¯»è¿›åº¦æ¡JS -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      var winHeight = window.innerHeight,
            docHeight = document.documentElement.scrollHeight,
            progressBar = document.querySelector('#content_progress');
      progressBar.max = docHeight - winHeight;
      progressBar.value = window.scrollY;

      document.addEventListener('scroll', function () {
            progressBar.max = document.documentElement.scrollHeight - window.innerHeight;
            progressBar.value = window.scrollY;
      });
});
</script>

<body class="mdui-drawer-body-left">
  <!-- æ–‡ç« é˜…è¯»è¿›åº¦æ¡ -->
  <progress id="content_progress" value="0"></progress>

  <!-- éŸ³é¢‘æ’­æ”¾ -->
  <!-- <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script> -->

  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(/images/bg.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <a href="/" title="Jasonkay" class="mdui-btn mdui-btn-icon"><img src="/images/avatar4.jpg"></a>
      </div>
    </div>
  </div>
  <div id="nexmoe-header">
    <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Jasonkay">
            <img src="/images/avatar4.jpg" alt="Jasonkay">
        </a>
    </div>

    <!-- é»‘ç™½åˆ‡æ¢css -->
    <!-- <style>
        .light-dark-checkbox {
            margin: 0 auto;
        }

        /* The switch - the box around the slider */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* Hide default HTML checkbox */
        .switch .theme-switcher {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            transition: 0.4s;
        }

        .slider:before {
            position: absolute;
            content: "ğŸŒ";
            height: 0px;
            width: 0px;
            left: -10px;
            top: 16px;
            line-height: 0px;
            transition: 0.4s;
        }

        .theme-switcher:checked+.slider:before {
            left: 35px;
            content: "ğŸŒ‘";
        }

        .theme-switcher:checked+.slider:before {
            transform: translateX(45px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 40px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /* æš—é»‘æ ·å¼ */
        body.night {
            background-color: #263238;
            color: #aaa;
        }
        body.night img {
            filter: brightness(30%);
        }
        article.night {
            background-color: black;
            color: white;
        }
    </style> -->

    <!-- é»‘ç™½å¼€å…³ -->
    <!-- <div class="nexmoe-list-item mdui-list-item">
        <div class="light-dark-checkbox">
            <div>
                é»‘ç™½æ¨¡å¼åˆ‡æ¢(Beta)
            </div>
            <label class="switch">
                <input id="light-dark-input" type="checkbox" onclick="switchTheme();" class="theme-switcher">
                <span class="slider round"></span>
            </label>
        </div>
    </div> -->

    <!-- é»‘ç™½åˆ‡æ¢js -->
    <!-- <script>
        // get hours of the day in 24Hr format (0-23)
        var hr = (new Date()).getHours();

        $(document).ready(function () {
            var theme = sessionStorage.getItem("theme");
            if (theme == "dark") {
                document.body.classList.add('night');
                console.log('å¤œé—´æ¨¡å¼å¼€å¯');
            } else if (theme == "light") {
                document.body.classList.remove('night');
                console.log('å¤œé—´æ¨¡å¼å…³é—­');
            } else {
                setDefaultTheme(hr);
            }
        });

        function switchTheme() {
            if (sessionStorage.getItem("theme") == "dark") {
                sessionStorage.setItem("theme", "light");
                document.body.classList.remove('night');
                console.log('å¤œé—´æ¨¡å¼å…³é—­');
            } else if (sessionStorage.getItem("theme") == "light") {
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('å¤œé—´æ¨¡å¼å¼€å¯');
            } else {
                setDefaultTheme(hr);
            }
        };

        function setDefaultTheme(curHr) {
            // 6:00-18:00 light
            if (curHr >= 6 && curHr <= 18) {
                document.body.classList.remove('night');
                console.log('å¤œé—´æ¨¡å¼å…³é—­');
                sessionStorage.setItem("theme", "light");
                $("#light-dark-input").attr("checked", false);
            } else {
                // 0:00-6:00 & 18:00-00:00 night
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('å¤œé—´æ¨¡å¼å¼€å¯');
                $("#light-dark-input").attr("checked", true);
            }
        }
    </script> -->

    <div class="nexmoe-count">
        <div><span>æ–‡ç« </span>522</div>
        <div><span>æ ‡ç­¾</span>277</div>
        <div><span>åˆ†ç±»</span>67</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="å›åˆ°é¦–é¡µ">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                å›åˆ°é¦–é¡µ
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/jp/" title="æ—¥è¯­åˆ†ç«™">
            <i class="mdui-list-item-icon nexmoefont icon-calendar-fill"></i>
            <div class="mdui-list-item-content">
                æ—¥è¯­åˆ†ç«™
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about/" title="å…³äºåšå®¢">
            <i class="mdui-list-item-icon nexmoefont icon-eye-fill"></i>
            <div class="mdui-list-item-content">
                å…³äºåšå®¢
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archive" title="æ–‡ç« å½’æ¡£">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                æ–‡ç« å½’æ¡£
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/anki/" title="Ankiç¬”è®°">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                Ankiç¬”è®°
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/study/" title="å­¦ä¹ è¿›åº¦">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                å­¦ä¹ è¿›åº¦
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/running/" title="è·‘æ­¥å¥èº«">
            <i class="mdui-list-item-icon nexmoefont icon-dribbble"></i>
            <div class="mdui-list-item-content">
                è·‘æ­¥å¥èº«
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/interview/" title="é¢è¯•ç›¸å…³">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                é¢è¯•ç›¸å…³
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/algorithm/" title="ç®—æ³•æ€»ç»“">
            <i class="mdui-list-item-icon nexmoefont icon-areachart"></i>
            <div class="mdui-list-item-content">
                ç®—æ³•æ€»ç»“
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/installing/" title="è½¯ä»¶å®‰è£…">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                è½¯ä»¶å®‰è£…
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/board/" title="åˆ›æ„ç™½æ¿">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                åˆ›æ„ç™½æ¿
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="http://159.75.131.252:32352/" title="æ‘„å½±åˆ†äº«">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                æ‘„å½±åˆ†äº«
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/chat/" title="ç•…æ‰€æ¬²è¨€">
            <i class="mdui-list-item-icon nexmoefont icon-ellipsis"></i>
            <div class="mdui-list-item-content">
                ç•…æ‰€æ¬²è¨€
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/realtime/" title="å®æ—¶æ•°æ®ç»Ÿè®¡">
            <i class="mdui-list-item-icon nexmoefont icon-time-circle-fill"></i>
            <div class="mdui-list-item-content">
                å®æ—¶æ•°æ®ç»Ÿè®¡
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/py/" title="å‹æƒ…é“¾æ¥">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                å‹æƒ…é“¾æ¥
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ç¤¾äº¤æŒ‰é’®</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/23364338" target="_blank" mdui-tooltip="{content: 'å“”å“©å“”å“©'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="https://steamcommunity.com/id/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'Steam'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-steam"></i>
        </a><a class="mdui-ripple" href="https://twitter.com/Jasonkay_ZK/" target="_blank" mdui-tooltip="{content: 'Twitter'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-twitter"></i>
        </a><a class="mdui-ripple" href="mailto:jasonkayzk@gmail.com" target="_blank" mdui-tooltip="{content: 'Mail'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-mail-fill"></i>
        </a>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ç«™å†…æœç´¢</h3>
    <div class="nexmoe-widget nexmoe-search">
        <form class="site-search-form">
            <input type="text" id="local-search-input" class="st-search-input">
        </form>
        <div id="local-search-result" class="local-search-result-cls">
        </div>
    </div>
</div>

<!-- æ‰§è¡Œæœ¬åœ°æœç´¢è„šæœ¬ -->
<script type="text/javascript">
    var path = "https://cdn.jsdelivr.net/gh/jasonkayzk/JasonkayZK.github.io@master/search.xml";
    searchFunc(path, 'local-search-input', 'local-search-result');
</script>

<style type="text/css">
/* æœç´¢æ¡ */
.site-search-form {
    text-align: center;
}
#local-search-input {
    width: 100%;
}

/* æœç´¢ç»“æœå…³é—­ */
#local-search-close {
    font-size: 22.5px;
    cursor: pointer;
    color: #ff4e6a;
}

.search-result-list > li {
    line-height: 0.75;
    margin-top: -5px;
}

</style>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ ‡ç­¾äº‘</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/2048/" style="font-size: 10px;">2048</a> <a href="/tags/ACM/" style="font-size: 10px;">ACM</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/AUFS/" style="font-size: 10px;">AUFS</a> <a href="/tags/Android/" style="font-size: 10.91px;">Android</a> <a href="/tags/AppStore/" style="font-size: 10px;">AppStore</a> <a href="/tags/AppleScript/" style="font-size: 10px;">AppleScript</a> <a href="/tags/Aria2/" style="font-size: 10.91px;">Aria2</a> <a href="/tags/Async/" style="font-size: 10px;">Async</a> <a href="/tags/BFS/" style="font-size: 10.45px;">BFS</a> <a href="/tags/Bash/" style="font-size: 10.45px;">Bash</a> <a href="/tags/BitTorrent/" style="font-size: 10px;">BitTorrent</a> <a href="/tags/BloomFilter/" style="font-size: 10px;">BloomFilter</a> <a href="/tags/Bytebase/" style="font-size: 10px;">Bytebase</a> <a href="/tags/C/" style="font-size: 15.91px;">C++</a> <a href="/tags/CAP/" style="font-size: 10px;">CAP</a> <a href="/tags/CDN/" style="font-size: 10.45px;">CDN</a> <a href="/tags/CGLibåŠ¨æ€ä»£ç†/" style="font-size: 10px;">CGLibåŠ¨æ€ä»£ç†</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Caffeine/" style="font-size: 10px;">Caffeine</a> <a href="/tags/Cargo/" style="font-size: 11.82px;">Cargo</a> <a href="/tags/CentOS/" style="font-size: 12.27px;">CentOS</a> <a href="/tags/Cgroups/" style="font-size: 10px;">Cgroups</a> <a href="/tags/Chromeæ‰©å±•/" style="font-size: 10px;">Chromeæ‰©å±•</a> <a href="/tags/Cli/" style="font-size: 10.45px;">Cli</a> <a href="/tags/ClickHouse/" style="font-size: 10px;">ClickHouse</a> <a href="/tags/Cling/" style="font-size: 10px;">Cling</a> <a href="/tags/Clion/" style="font-size: 10px;">Clion</a> <a href="/tags/Colima/" style="font-size: 10px;">Colima</a> <a href="/tags/Container/" style="font-size: 10px;">Container</a> <a href="/tags/DFS/" style="font-size: 10.45px;">DFS</a> <a href="/tags/DLL/" style="font-size: 10.45px;">DLL</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/Docker/" style="font-size: 18.64px;">Docker</a> <a href="/tags/Docker-Compose/" style="font-size: 10.45px;">Docker-Compose</a> <a href="/tags/DockerHub/" style="font-size: 10px;">DockerHub</a> <a href="/tags/Dolt/" style="font-size: 10px;">Dolt</a> <a href="/tags/Dubbo/" style="font-size: 10.91px;">Dubbo</a> <a href="/tags/Easegress/" style="font-size: 10px;">Easegress</a> <a href="/tags/ElasticSearch/" style="font-size: 14.09px;">ElasticSearch</a> <a href="/tags/Electron/" style="font-size: 10.45px;">Electron</a> <a href="/tags/English/" style="font-size: 10px;">English</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/FFmpeg/" style="font-size: 10px;">FFmpeg</a> <a href="/tags/FTP/" style="font-size: 10.45px;">FTP</a> <a href="/tags/FaaS/" style="font-size: 10px;">FaaS</a> <a href="/tags/Future/" style="font-size: 10px;">Future</a> <a href="/tags/GC/" style="font-size: 10px;">GC</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/GRPC/" style="font-size: 10px;">GRPC</a> <a href="/tags/Gin/" style="font-size: 10px;">Gin</a> <a href="/tags/Git/" style="font-size: 13.64px;">Git</a> <a href="/tags/Gitee/" style="font-size: 10px;">Gitee</a> <a href="/tags/Github/" style="font-size: 14.55px;">Github</a> <a href="/tags/Github-Actions/" style="font-size: 10px;">Github-Actions</a> <a href="/tags/Golang/" style="font-size: 18.18px;">Golang</a> <a href="/tags/Gomod/" style="font-size: 10px;">Gomod</a> <a href="/tags/Goroutine/" style="font-size: 10.91px;">Goroutine</a> <a href="/tags/GraalVM/" style="font-size: 10px;">GraalVM</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/HAProxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/IDEAé…ç½®/" style="font-size: 10px;">IDEAé…ç½®</a> <a href="/tags/IDç”Ÿæˆå™¨/" style="font-size: 10.45px;">IDç”Ÿæˆå™¨</a> <a href="/tags/IOæ¨¡å‹/" style="font-size: 10px;">IOæ¨¡å‹</a> <a href="/tags/Ingress/" style="font-size: 10.45px;">Ingress</a> <a href="/tags/JDKåŠ¨æ€ä»£ç†/" style="font-size: 10.45px;">JDKåŠ¨æ€ä»£ç†</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 12.27px;">Java</a> <a href="/tags/JavaWeb/" style="font-size: 10px;">JavaWeb</a> <a href="/tags/JavaåŸºç¡€/" style="font-size: 16.82px;">JavaåŸºç¡€</a> <a href="/tags/Javaæ³¨è§£/" style="font-size: 10px;">Javaæ³¨è§£</a> <a href="/tags/Javaæºç /" style="font-size: 12.27px;">Javaæºç </a> <a href="/tags/Javaé¢è¯•/" style="font-size: 11.36px;">Javaé¢è¯•</a> <a href="/tags/JuiceFS/" style="font-size: 10px;">JuiceFS</a> <a href="/tags/JupyterLab/" style="font-size: 10px;">JupyterLab</a> <a href="/tags/Kafka/" style="font-size: 10.45px;">Kafka</a> <a href="/tags/Kubernetes/" style="font-size: 15.45px;">Kubernetes</a> <a href="/tags/LVS/" style="font-size: 10.91px;">LVS</a> <a href="/tags/Lambdaè¡¨è¾¾å¼/" style="font-size: 10.91px;">Lambdaè¡¨è¾¾å¼</a> <a href="/tags/LevelDB/" style="font-size: 10px;">LevelDB</a> <a href="/tags/Library/" style="font-size: 10.45px;">Library</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 16.36px;">Linux</a> <a href="/tags/LruCache/" style="font-size: 10px;">LruCache</a> <a href="/tags/MacOS/" style="font-size: 10.45px;">MacOS</a> <a href="/tags/Maven/" style="font-size: 12.27px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 13.64px;">MySQL</a> <a href="/tags/Mybatis/" style="font-size: 10.91px;">Mybatis</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/NIO/" style="font-size: 10.91px;">NIO</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Namespace/" style="font-size: 10px;">Namespace</a> <a href="/tags/Netty/" style="font-size: 10px;">Netty</a> <a href="/tags/Newman/" style="font-size: 10px;">Newman</a> <a href="/tags/Nginx/" style="font-size: 12.27px;">Nginx</a> <a href="/tags/Node-js/" style="font-size: 11.36px;">Node.js</a> <a href="/tags/Okular/" style="font-size: 10px;">Okular</a> <a href="/tags/P2P/" style="font-size: 10px;">P2P</a> <a href="/tags/POML/" style="font-size: 10px;">POML</a> <a href="/tags/Panic/" style="font-size: 10px;">Panic</a> <a href="/tags/PipelineDB/" style="font-size: 10px;">PipelineDB</a> <a href="/tags/PostgreSQL/" style="font-size: 10.45px;">PostgreSQL</a> <a href="/tags/Postman/" style="font-size: 10.45px;">Postman</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/Protobuf/" style="font-size: 10.91px;">Protobuf</a> <a href="/tags/Python/" style="font-size: 11.36px;">Python</a> <a href="/tags/RAII/" style="font-size: 10px;">RAII</a> <a href="/tags/RPC/" style="font-size: 10px;">RPC</a> <a href="/tags/RSS/" style="font-size: 10.91px;">RSS</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/Redash/" style="font-size: 10px;">Redash</a> <a href="/tags/Redis/" style="font-size: 14.55px;">Redis</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Rust/" style="font-size: 18.64px;">Rust</a> <a href="/tags/SPA/" style="font-size: 10px;">SPA</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/SSH/" style="font-size: 10.45px;">SSH</a> <a href="/tags/Serverless/" style="font-size: 10px;">Serverless</a> <a href="/tags/Shadowsocks/" style="font-size: 10.91px;">Shadowsocks</a> <a href="/tags/Skiplist/" style="font-size: 10px;">Skiplist</a> <a href="/tags/Slice/" style="font-size: 10px;">Slice</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/Spring/" style="font-size: 11.82px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/Springæºç /" style="font-size: 10px;">Springæºç </a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/Swagger/" style="font-size: 10px;">Swagger</a> <a href="/tags/TOML/" style="font-size: 10px;">TOML</a> <a href="/tags/Telegraf/" style="font-size: 10px;">Telegraf</a> <a href="/tags/Telegram/" style="font-size: 10px;">Telegram</a> <a href="/tags/Tomcat/" style="font-size: 10.45px;">Tomcat</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UUID/" style="font-size: 10px;">UUID</a> <a href="/tags/UnionFS/" style="font-size: 10px;">UnionFS</a> <a href="/tags/VMWare/" style="font-size: 13.18px;">VMWare</a> <a href="/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/tags/WebAssembly/" style="font-size: 10.45px;">WebAssembly</a> <a href="/tags/Websocket/" style="font-size: 10px;">Websocket</a> <a href="/tags/XML/" style="font-size: 10.91px;">XML</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/Zookeeper/" style="font-size: 10.91px;">Zookeeper</a> <a href="/tags/apt/" style="font-size: 10px;">apt</a> <a href="/tags/autok3s/" style="font-size: 10px;">autok3s</a> <a href="/tags/cURL/" style="font-size: 10px;">cURL</a> <a href="/tags/chroot/" style="font-size: 10px;">chroot</a> <a href="/tags/cmder/" style="font-size: 10px;">cmder</a> <a href="/tags/grpc/" style="font-size: 10px;">grpc</a> <a href="/tags/hashå†²çª/" style="font-size: 10px;">hashå†²çª</a> <a href="/tags/inoreader/" style="font-size: 10px;">inoreader</a> <a href="/tags/k3s/" style="font-size: 10.45px;">k3s</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/libp2p/" style="font-size: 10px;">libp2p</a> <a href="/tags/minikube/" style="font-size: 10.45px;">minikube</a> <a href="/tags/ntfy/" style="font-size: 10px;">ntfy</a> <a href="/tags/picocli/" style="font-size: 10px;">picocli</a> <a href="/tags/telnet/" style="font-size: 10px;">telnet</a> <a href="/tags/uv/" style="font-size: 10px;">uv</a> <a href="/tags/vcpkg/" style="font-size: 10px;">vcpkg</a> <a href="/tags/xorm/" style="font-size: 10px;">xorm</a> <a href="/tags/äºŒåˆ†æ³•/" style="font-size: 10px;">äºŒåˆ†æ³•</a> <a href="/tags/äºŒå‰æ ‘/" style="font-size: 15.45px;">äºŒå‰æ ‘</a> <a href="/tags/äºŒç»´ç /" style="font-size: 10px;">äºŒç»´ç </a> <a href="/tags/äº¤å‰ç¼–è¯‘/" style="font-size: 10px;">äº¤å‰ç¼–è¯‘</a> <a href="/tags/äººå·¥æ™ºèƒ½/" style="font-size: 10.91px;">äººå·¥æ™ºèƒ½</a> <a href="/tags/äººç”Ÿæ—¥è®°/" style="font-size: 17.73px;">äººç”Ÿæ—¥è®°</a> <a href="/tags/ä»£ç†æ¨¡å¼/" style="font-size: 10px;">ä»£ç†æ¨¡å¼</a> <a href="/tags/ä½è¿ç®—/" style="font-size: 10.45px;">ä½è¿ç®—</a> <a href="/tags/ä¿¡å·/" style="font-size: 10px;">ä¿¡å·</a> <a href="/tags/ä¿¡æ¯èšåˆ/" style="font-size: 10px;">ä¿¡æ¯èšåˆ</a> <a href="/tags/å†…å­˜ç®¡ç†/" style="font-size: 10.45px;">å†…å­˜ç®¡ç†</a> <a href="/tags/å†…ç½‘ç©¿é€/" style="font-size: 10px;">å†…ç½‘ç©¿é€</a> <a href="/tags/å‡½æ•°å¼æ¥å£/" style="font-size: 10px;">å‡½æ•°å¼æ¥å£</a> <a href="/tags/åˆ†å¸ƒå¼/" style="font-size: 15.91px;">åˆ†å¸ƒå¼</a> <a href="/tags/åŠå…¬/" style="font-size: 10px;">åŠå…¬</a> <a href="/tags/åŠ¨æ€è§„åˆ’/" style="font-size: 11.36px;">åŠ¨æ€è§„åˆ’</a> <a href="/tags/åç¨‹æ± /" style="font-size: 10px;">åç¨‹æ± </a> <a href="/tags/åšå®¢ç®¡ç†/" style="font-size: 13.18px;">åšå®¢ç®¡ç†</a> <a href="/tags/åšå®¢ç¾åŒ–/" style="font-size: 11.82px;">åšå®¢ç¾åŒ–</a> <a href="/tags/åŒæŒ‡é’ˆ/" style="font-size: 10.45px;">åŒæŒ‡é’ˆ</a> <a href="/tags/åå°„/" style="font-size: 12.27px;">åå°„</a> <a href="/tags/å£æ‰/" style="font-size: 10px;">å£æ‰</a> <a href="/tags/å“ˆå¸Œè¡¨/" style="font-size: 10.45px;">å“ˆå¸Œè¡¨</a> <a href="/tags/å›æº¯/" style="font-size: 10.45px;">å›æº¯</a> <a href="/tags/å›æº¯æ³•/" style="font-size: 10px;">å›æº¯æ³•</a> <a href="/tags/å †/" style="font-size: 10.45px;">å †</a> <a href="/tags/å¤šçº¿ç¨‹ä¸‹è½½/" style="font-size: 10.45px;">å¤šçº¿ç¨‹ä¸‹è½½</a> <a href="/tags/å¤§æ•°æ®/" style="font-size: 10px;">å¤§æ•°æ®</a> <a href="/tags/å­—ç¬¦ä¸²/" style="font-size: 13.18px;">å­—ç¬¦ä¸²</a> <a href="/tags/å­—ç¬¦ä¸²å¤„ç†/" style="font-size: 10px;">å­—ç¬¦ä¸²å¤„ç†</a> <a href="/tags/å­¦ä¹ æ¡ˆä¾‹/" style="font-size: 10.45px;">å­¦ä¹ æ¡ˆä¾‹</a> <a href="/tags/å®¹å™¨/" style="font-size: 10px;">å®¹å™¨</a> <a href="/tags/å·¥å…·åˆ†äº«/" style="font-size: 19.09px;">å·¥å…·åˆ†äº«</a> <a href="/tags/å¹¶å‘ç¼–ç¨‹/" style="font-size: 15.45px;">å¹¶å‘ç¼–ç¨‹</a> <a href="/tags/å¹¶è¡Œè®¡ç®—/" style="font-size: 10px;">å¹¶è¡Œè®¡ç®—</a> <a href="/tags/åºåˆ—åŒ–/" style="font-size: 10px;">åºåˆ—åŒ–</a> <a href="/tags/å»ºç­‘/" style="font-size: 10px;">å»ºç­‘</a> <a href="/tags/å¼€å‘è§„èŒƒ/" style="font-size: 10.45px;">å¼€å‘è§„èŒƒ</a> <a href="/tags/å¼€æºåè®®/" style="font-size: 10px;">å¼€æºåè®®</a> <a href="/tags/æ€§èƒ½æŒ‡æ ‡/" style="font-size: 10px;">æ€§èƒ½æŒ‡æ ‡</a> <a href="/tags/æŠ€æœ¯æ‚è°ˆ/" style="font-size: 20px;">æŠ€æœ¯æ‚è°ˆ</a> <a href="/tags/æ’åº/" style="font-size: 11.82px;">æ’åº</a> <a href="/tags/æ¨é€/" style="font-size: 10px;">æ¨é€</a> <a href="/tags/æœç´¢/" style="font-size: 10px;">æœç´¢</a> <a href="/tags/æ“ä½œç³»ç»Ÿ/" style="font-size: 10.91px;">æ“ä½œç³»ç»Ÿ</a> <a href="/tags/æ•™å¸ˆ/" style="font-size: 10.45px;">æ•™å¸ˆ</a> <a href="/tags/æ•™æ¡ˆ/" style="font-size: 10.45px;">æ•™æ¡ˆ</a> <a href="/tags/æ•°å­¦/" style="font-size: 12.73px;">æ•°å­¦</a> <a href="/tags/æ•°æ®åº“/" style="font-size: 15px;">æ•°æ®åº“</a> <a href="/tags/æ•°ç»„/" style="font-size: 13.64px;">æ•°ç»„</a> <a href="/tags/æ–‡å­—éšè—/" style="font-size: 10px;">æ–‡å­—éšè—</a> <a href="/tags/æ–­ç‚¹ç»­ä¼ /" style="font-size: 10px;">æ–­ç‚¹ç»­ä¼ </a> <a href="/tags/æ–°æµªå¾®åš/" style="font-size: 10px;">æ–°æµªå¾®åš</a> <a href="/tags/æ—¥å¿—/" style="font-size: 10px;">æ—¥å¿—</a> <a href="/tags/æ—¥æœ¬èª/" style="font-size: 14.55px;">æ—¥æœ¬èª</a> <a href="/tags/æ—¥è¨˜/" style="font-size: 10.45px;">æ—¥è¨˜</a> <a href="/tags/æœåŠ¡è‡ªå»º/" style="font-size: 10.91px;">æœåŠ¡è‡ªå»º</a> <a href="/tags/æŸ¥æ‰¾/" style="font-size: 10.91px;">æŸ¥æ‰¾</a> <a href="/tags/æ ˆ/" style="font-size: 10.91px;">æ ˆ</a> <a href="/tags/æ­Œè©/" style="font-size: 10px;">æ­Œè©</a> <a href="/tags/æ­£åˆ™è¡¨è¾¾å¼/" style="font-size: 10.91px;">æ­£åˆ™è¡¨è¾¾å¼</a> <a href="/tags/æ±‡ç¼–è¯­è¨€/" style="font-size: 10px;">æ±‡ç¼–è¯­è¨€</a> <a href="/tags/æµ‹è¯•/" style="font-size: 10px;">æµ‹è¯•</a> <a href="/tags/æ»‘çª—/" style="font-size: 10px;">æ»‘çª—</a> <a href="/tags/ç‰ˆæœ¬æ§åˆ¶/" style="font-size: 10px;">ç‰ˆæœ¬æ§åˆ¶</a> <a href="/tags/ç”Ÿæ´»æ€»ç»“/" style="font-size: 10px;">ç”Ÿæ´»æ€»ç»“</a> <a href="/tags/ç¦åˆ©åˆ†äº«/" style="font-size: 10px;">ç¦åˆ©åˆ†äº«</a> <a href="/tags/ç®—æ³•/" style="font-size: 12.73px;">ç®—æ³•</a> <a href="/tags/ç®—æ³•é¢˜ç›®/" style="font-size: 19.55px;">ç®—æ³•é¢˜ç›®</a> <a href="/tags/ç±»åŠ è½½å™¨/" style="font-size: 10.45px;">ç±»åŠ è½½å™¨</a> <a href="/tags/ç´ æ•°/" style="font-size: 10px;">ç´ æ•°</a> <a href="/tags/çº¿æ€§æ¢æµ‹æ³•/" style="font-size: 10px;">çº¿æ€§æ¢æµ‹æ³•</a> <a href="/tags/çº¿ç¨‹æ± /" style="font-size: 10.91px;">çº¿ç¨‹æ± </a> <a href="/tags/ç¼–è¯‘ä¼˜åŒ–/" style="font-size: 10px;">ç¼–è¯‘ä¼˜åŒ–</a> <a href="/tags/ç¼–è¯‘å™¨/" style="font-size: 10px;">ç¼–è¯‘å™¨</a> <a href="/tags/ç½‘ç›˜/" style="font-size: 10px;">ç½‘ç›˜</a> <a href="/tags/ç½‘ç»œçº¿è·¯/" style="font-size: 10px;">ç½‘ç»œçº¿è·¯</a> <a href="/tags/ç¿»è¨³/" style="font-size: 10.45px;">ç¿»è¨³</a> <a href="/tags/è‡ªå¯åŠ¨/" style="font-size: 10px;">è‡ªå¯åŠ¨</a> <a href="/tags/è’™ç‰¹å¡ç½—æ–¹æ³•/" style="font-size: 10px;">è’™ç‰¹å¡ç½—æ–¹æ³•</a> <a href="/tags/è™šæ‹Ÿæœº/" style="font-size: 10.45px;">è™šæ‹Ÿæœº</a> <a href="/tags/è¡—æ™¯/" style="font-size: 10px;">è¡—æ™¯</a> <a href="/tags/è£…é¥°å™¨æ¨¡å¼/" style="font-size: 10px;">è£…é¥°å™¨æ¨¡å¼</a> <a href="/tags/è®¡ç®—æœºç½‘ç»œ/" style="font-size: 10px;">è®¡ç®—æœºç½‘ç»œ</a> <a href="/tags/è®¾è®¡æ¨¡å¼/" style="font-size: 10px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/è¯¾ç¨‹/" style="font-size: 10px;">è¯¾ç¨‹</a> <a href="/tags/è´Ÿè½½å‡è¡¡/" style="font-size: 12.27px;">è´Ÿè½½å‡è¡¡</a> <a href="/tags/è´ªå¿ƒ/" style="font-size: 10px;">è´ªå¿ƒ</a> <a href="/tags/è·³è·³è›™æ—¥è¯­è¯»åº“/" style="font-size: 10.45px;">è·³è·³è›™æ—¥è¯­è¯»åº“</a> <a href="/tags/è½¯ä»¶å®‰è£…ä¸é…ç½®/" style="font-size: 17.27px;">è½¯ä»¶å®‰è£…ä¸é…ç½®</a> <a href="/tags/è½¯ä»¶æ¨è/" style="font-size: 15px;">è½¯ä»¶æ¨è</a> <a href="/tags/è½¯ä»¶æµ‹è¯•/" style="font-size: 10.45px;">è½¯ä»¶æµ‹è¯•</a> <a href="/tags/è½¯è€ƒ/" style="font-size: 10px;">è½¯è€ƒ</a> <a href="/tags/è¿›åº¦æ¡/" style="font-size: 10.45px;">è¿›åº¦æ¡</a> <a href="/tags/è¿›ç¨‹é€šä¿¡/" style="font-size: 10px;">è¿›ç¨‹é€šä¿¡</a> <a href="/tags/é€†å‘å·¥ç¨‹/" style="font-size: 10px;">é€†å‘å·¥ç¨‹</a> <a href="/tags/é€’å½’/" style="font-size: 10.45px;">é€’å½’</a> <a href="/tags/é‡å®šå‘/" style="font-size: 10px;">é‡å®šå‘</a> <a href="/tags/é‡è£…ç³»ç»Ÿ/" style="font-size: 10px;">é‡è£…ç³»ç»Ÿ</a> <a href="/tags/é“¾è¡¨/" style="font-size: 13.64px;">é“¾è¡¨</a> <a href="/tags/é˜Ÿåˆ—/" style="font-size: 10px;">é˜Ÿåˆ—</a> <a href="/tags/éšæœºå›¾ç‰‡/" style="font-size: 10px;">éšæœºå›¾ç‰‡</a> <a href="/tags/é›†åˆ/" style="font-size: 14.09px;">é›†åˆ</a> <a href="/tags/é›¶å®½å­—ç¬¦/" style="font-size: 10px;">é›¶å®½å­—ç¬¦</a> <a href="/tags/é™æ€ä»£ç†/" style="font-size: 10px;">é™æ€ä»£ç†</a> <a href="/tags/é¢è¯•æ€»ç»“/" style="font-size: 15px;">é¢è¯•æ€»ç»“</a> <a href="/tags/é¡¹ç›®æ€»ç»“/" style="font-size: 10.91px;">é¡¹ç›®æ€»ç»“</a> <a href="/tags/é¡¹ç›®æ„å»º/" style="font-size: 10.91px;">é¡¹ç›®æ„å»º</a> <a href="/tags/é¡¹ç›®éƒ¨ç½²/" style="font-size: 11.36px;">é¡¹ç›®éƒ¨ç½²</a> <a href="/tags/é»‘è‹¹æœ/" style="font-size: 10px;">é»‘è‹¹æœ</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ–‡ç« åˆ†ç±»</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ACM/">ACM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Android/">Android</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C/">C++</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/CUDA/">CUDA</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Chromeæ‰©å±•/">Chromeæ‰©å±•</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ClickHouse/">ClickHouse</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/">Docker</a>
          <span class="category-list-count">25</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dolt/">Dolt</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dubbo/">Dubbo</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Electron/">Electron</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Git/">Git</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Github/">Github</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Golang/">Golang</a>
          <span class="category-list-count">31</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/GraalVM/">GraalVM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/IOåŸºç¡€/">IOåŸºç¡€</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Java/">Java</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Javaæºç /">Javaæºç </a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JuiceFS/">JuiceFS</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Kubernetes/">Kubernetes</a>
          <span class="category-list-count">12</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Life/">Life</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Linux/">Linux</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Maven/">Maven</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MongoDB/">MongoDB</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MySQL/">MySQL</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/">Mybatis</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/NPM/">NPM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Netty/">Netty</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Nginx/">Nginx</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Node-js/">Node.js</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/PostgreSQL/">PostgreSQL</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Protobuf/">Protobuf</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Python/">Python</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redash/">Redash</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/Redis/">Redis</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Ruby/">Ruby</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Rust/">Rust</a>
          <span class="category-list-count">35</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Spring/">Spring</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TOML/">TOML</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TypeScript/">TypeScript</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Websocket/">Websocket</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/äººç”Ÿæ—¥è®°/">äººç”Ÿæ—¥è®°</a>
          <span class="category-list-count">27</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/åˆ†å¸ƒå¼/">åˆ†å¸ƒå¼</a>
          <span class="category-list-count">10</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/åŠå…¬/">åŠå…¬</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/åšå®¢ç®¡ç†/">åšå®¢ç®¡ç†</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/æŠ€æœ¯æ‚è°ˆ/å­¦ä¹ æ¡ˆä¾‹/">å­¦ä¹ æ¡ˆä¾‹</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å·¥å…·åˆ†äº«/">å·¥å…·åˆ†äº«</a>
          <span class="category-list-count">41</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å¹¶å‘ç¼–ç¨‹/">å¹¶å‘ç¼–ç¨‹</a>
          <span class="category-list-count">13</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/æŠ€æœ¯æ‚è°ˆ/">æŠ€æœ¯æ‚è°ˆ</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ•™å¸ˆ/">æ•™å¸ˆ</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ•°æ®åº“/">æ•°æ®åº“</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ—¥æœ¬èª/">æ—¥æœ¬èª</a>
          <span class="category-list-count">11</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æœåŠ¡è‡ªå»º/">æœåŠ¡è‡ªå»º</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ±‡ç¼–è¯­è¨€/">æ±‡ç¼–è¯­è¨€</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ç®—æ³•/">ç®—æ³•</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ç®—æ³•é¢˜ç›®/">ç®—æ³•é¢˜ç›®</a>
          <span class="category-list-count">60</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/è¯¾ç¨‹/">è¯¾ç¨‹</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redis/è½¯ä»¶å®‰è£…ä¸é…ç½®/">è½¯ä»¶å®‰è£…ä¸é…ç½®</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/è½¯ä»¶æµ‹è¯•/">è½¯ä»¶æµ‹è¯•</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/è½¯è€ƒ/">è½¯è€ƒ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/é¢è¯•æ€»ç»“/">é¢è¯•æ€»ç»“</a>
          <span class="category-list-count">15</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/é¡¹ç›®æ€»ç»“/">é¡¹ç›®æ€»ç»“</a>
          <span class="category-list-count">3</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2026/02/10/å†è§2025ï¼Œä½ å¥½2026ï¼/">å†è§2025ï¼Œä½ å¥½2026ï¼</a>
          </li>
        
          <li>
            <a href="/2025/08/20/ä¸‹ä¸€ä»£æç¤ºè¯å·¥ç¨‹è¯­è¨€POMLç®€æ˜æ•™ç¨‹/">ä¸‹ä¸€ä»£æç¤ºè¯å·¥ç¨‹è¯­è¨€POMLç®€æ˜æ•™ç¨‹</a>
          </li>
        
          <li>
            <a href="/2025/07/30/å¼€äº†ä¸€ä¸ªæ–°çš„ä¸“é—¨å­¦ä¹ æ—¥è¯­çš„åšå®¢/">å¼€äº†ä¸€ä¸ªæ–°çš„ä¸“é—¨å­¦ä¹ æ—¥è¯­çš„åšå®¢</a>
          </li>
        
          <li>
            <a href="/2025/07/29/ä¸€ã€å¹¶è¡Œç¼–ç¨‹å¯¼è®ºä¸CUDAå…¥é—¨/">ä¸€ã€å¹¶è¡Œç¼–ç¨‹å¯¼è®ºä¸CUDAå…¥é—¨</a>
          </li>
        
          <li>
            <a href="/2025/07/24/ä¸€äº›å…è´¹çš„GPUèµ„æº/">ä¸€äº›å…è´¹çš„GPUèµ„æº</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <div class="nexmoe-copyright">
        <span style="color:#707070;font-size: 14px;">
            æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ <br>
            æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡ <br>
        </span>
        <span id="showsectime" style="color:#707070;font-size: 14px;">
            æœ¬ç«™å·²è¿è¡Œ0å¤©0å°æ—¶0åˆ†0ç§’
        </span>
        <i class="fa fa-heart throb" style="color:#d43f57">â¤</i><br>

        &copy; 2026 Jasonkay
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>

    <div id="footer-info">

    </div>

    <script type="text/javascript">
        function NewDate(str) {
            str = str.split('-');
            var date = new Date();
            date.setUTCFullYear(str[0], str[1] - 1, str[2]);
            date.setUTCHours(0, 0, 0, 0);
            return date;
        }
        function showsectime() {
            var birthDay = NewDate("2019-09-01");
            var today = new Date();
            var timeold = today.getTime() - birthDay.getTime();
            var sectimeold = timeold / 1000
            var secondsold = Math.floor(sectimeold);
            var msPerDay = 24 * 60 * 60 * 1000; var e_daysold = timeold / msPerDay;
            var daysold = Math.floor(e_daysold);
            var e_hrsold = (daysold - e_daysold) * -24;
            var hrsold = Math.floor(e_hrsold);
            var e_minsold = (hrsold - e_hrsold) * -60;
            var minsold = Math.floor((hrsold - e_hrsold) * -60); var seconds = Math.floor((minsold - e_minsold) * -60).toString();
            document.getElementById("showsectime").innerHTML = "æœ¬ç«™å·²è¿è¡Œ" + daysold + "å¤©" + hrsold + "å°æ—¶" + minsold + "åˆ†" + seconds + "ç§’";
            setTimeout(showsectime, 1000);
        }
        showsectime();
    </script>

</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
      <div class="nexmoe-post">
  <div class="nexmoe-post-cover">
    
    <img src="https://img.paulzzh.com/touhou/random?33">
    
    <h1>LevelDBä½¿ç”¨ç¤ºä¾‹</h1>
  </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2022å¹´12æœˆ09æ—¥</a>
    <a><i class="nexmoefont icon-areachart"></i>7.8k å­—</a>
    <a><i class="nexmoefont icon-areachart"></i><span class="archive-article-date">é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>
      </span></a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 37 åˆ†é’Ÿ</a>

    
    <a class="nexmoefont icon-appstore-fill -link" href="/categories/æ•°æ®åº“/">æ•°æ®åº“</a>
    
    
    <a class="nexmoefont icon-tag-fill -link" href="/tags/C/">C++</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/LevelDB/">LevelDB</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/æ•°æ®åº“/">æ•°æ®åº“</a>
    
  </div>
  <article>
    
    <div id="toc" class="toc-article">
      <ul class="markdownIt-TOC">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#LevelDBä½¿ç”¨ç¤ºä¾‹"><span class="toc-text">LevelDBä½¿ç”¨ç¤ºä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#å‰è¨€"><span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç¼–è¯‘LevelDb"><span class="toc-text">ç¼–è¯‘LevelDb</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LevelDBå¤´æ–‡ä»¶ç®€ä»‹"><span class="toc-text">LevelDBå¤´æ–‡ä»¶ç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LevelDBä½¿ç”¨æ–¹æ³•"><span class="toc-text">LevelDBä½¿ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LevelDBåŠŸèƒ½"><span class="toc-text">LevelDBåŠŸèƒ½</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å¼€å¯-å…³é—­æ•°æ®åº“"><span class="toc-text">å¼€å¯/å…³é—­æ•°æ®åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ•°æ®åº“è¯»å†™"><span class="toc-text">æ•°æ®åº“è¯»å†™</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Putæ–¹æ³•"><span class="toc-text">Putæ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Getæ–¹æ³•"><span class="toc-text">Getæ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Deleteæ–¹æ³•"><span class="toc-text">Deleteæ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŸå­æ“ä½œ"><span class="toc-text">åŸå­æ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŒæ­¥å†™æ“ä½œ"><span class="toc-text">åŒæ­¥å†™æ“ä½œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è¿­ä»£æ•°æ®åº“æ•°æ®"><span class="toc-text">è¿­ä»£æ•°æ®åº“æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¿«ç…§ï¼ˆSnapshotï¼‰"><span class="toc-text">å¿«ç…§ï¼ˆSnapshotï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ¯”è¾ƒå™¨ï¼ˆComparatorï¼‰"><span class="toc-text">æ¯”è¾ƒå™¨ï¼ˆComparatorï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨"><span class="toc-text">åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ— æ³•ä¸ºå·²å­˜åœ¨æ•°æ®åº“æŒ‡å®šæ¯”è¾ƒå™¨"><span class="toc-text">æ— æ³•ä¸ºå·²å­˜åœ¨æ•°æ®åº“æŒ‡å®šæ¯”è¾ƒå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ¯”è¾ƒé¡ºåºçš„å‘åå…¼å®¹æ€§"><span class="toc-text">æ¯”è¾ƒé¡ºåºçš„å‘åå…¼å®¹æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è¿‡æ»¤å™¨ï¼ˆFilterï¼‰"><span class="toc-text">è¿‡æ»¤å™¨ï¼ˆFilterï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…¶ä»–å†…å®¹"><span class="toc-text">å…¶ä»–å†…å®¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Slice"><span class="toc-text">Slice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¹¶å‘"><span class="toc-text">å¹¶å‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ€§èƒ½è°ƒä¼˜"><span class="toc-text">æ€§èƒ½è°ƒä¼˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Block-å¤§å°"><span class="toc-text">Block å¤§å°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å…³é—­å‹ç¼©"><span class="toc-text">å…³é—­å‹ç¼©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç¼“å­˜"><span class="toc-text">ç¼“å­˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Key-çš„å¸ƒå±€"><span class="toc-text">Key çš„å¸ƒå±€</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ ¡éªŒå’Œï¼ˆChecksumï¼‰"><span class="toc-text">æ ¡éªŒå’Œï¼ˆChecksumï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è¿‘ä¼¼ç©ºé—´å¤§å°"><span class="toc-text">è¿‘ä¼¼ç©ºé—´å¤§å°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç¯å¢ƒå˜é‡"><span class="toc-text">ç¯å¢ƒå˜é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¯ç§»æ¤"><span class="toc-text">å¯ç§»æ¤</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#é™„å½•"><span class="toc-text">é™„å½•</span></a></li></ol>
      </ul>
    </div>
    
    <p><a href="https://github.com/google/leveldb" target="_blank" rel="noopener">LevelDB</a> æ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„ k/v æ•°æ®åº“ï¼ŒChromeæµè§ˆå™¨ä¸­æ¶‰åŠçš„ IndexedDBï¼Œå°±æ˜¯åŸºäº LevelDB æ„å»ºè€Œæˆçš„ï¼›</p>
<p>æœ¬æ–‡è®²è§£äº†å¦‚ä½•ç®€å•çš„ä½¿ç”¨ LevelDbï¼Œåé¢ä¹Ÿä¼šç»§ç»­å†™ç³»åˆ—æ–‡ç« å¯¹LevelDBçš„æºç è¿›è¡Œåˆ†æï¼›</p>
<p>æºä»£ç ï¼š</p>
<ul>
<li><a href="https://github.com/JasonkayZK/leveldb" target="_blank" rel="noopener">https://github.com/JasonkayZK/leveldb</a></li>
</ul>
<br>

<a id="more"></a>

<h1 id="LevelDBä½¿ç”¨ç¤ºä¾‹"><a href="#LevelDBä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="LevelDBä½¿ç”¨ç¤ºä¾‹"></a><strong>LevelDBä½¿ç”¨ç¤ºä¾‹</strong></h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a><strong>å‰è¨€</strong></h2><p>å…³äº LevelDB çš„ä»‹ç»ç½‘ä¸Šæœ‰å¾ˆå¤šäº†ï¼Œä¸‹é¢æ˜¯å®ƒçš„ä¸€äº›ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>åµŒå…¥å¼æ•°æ®åº“ï¼Œæ²¡æœ‰ Server çš„æ¦‚å¿µè€Œæ˜¯é‡‡ç”¨åº“çš„æ–¹å¼å¼•å…¥ï¼›</strong></li>
<li>keys å’Œ values æ˜¯ä»»æ„çš„å­—èŠ‚æ•°ç»„ï¼›</li>
<li>æ•°æ®æŒ‰ key å€¼æ’åºå­˜å‚¨ï¼›</li>
<li>è°ƒç”¨è€…å¯ä»¥æä¾›ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°æ¥é‡å†™æ’åºé¡ºåºï¼›</li>
<li>æä¾›åŸºæœ¬çš„ <code>Put(key,value)</code>ï¼Œ<code>Get(key)</code>ï¼Œ<code>Delete(key)</code> æ“ä½œï¼›</li>
<li>å¤šä¸ªæ›´æ”¹å¯ä»¥åœ¨ä¸€ä¸ªåŸå­æ‰¹å¤„ç†ä¸­ç”Ÿæ•ˆï¼›</li>
<li>ç”¨æˆ·å¯ä»¥åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼ˆsnapshotï¼‰ï¼Œä»¥è·å¾—æ•°æ®çš„ä¸€è‡´æ€§è§†å›¾ï¼›</li>
<li>åœ¨æ•°æ®ä¸Šæ”¯æŒå‘å‰å’Œå‘åè¿­ä»£ï¼›</li>
<li>ä½¿ç”¨ Snappy å‹ç¼©åº“å¯¹æ•°æ®è¿›è¡Œè‡ªåŠ¨å‹ç¼©ï¼›</li>
<li>ä¸å¤–éƒ¨äº¤äº’çš„æ“ä½œéƒ½è¢«æŠ½è±¡æˆäº†æ¥å£(å¦‚æ–‡ä»¶ç³»ç»Ÿæ“ä½œç­‰)ï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥æ ¹æ®æ¥å£è‡ªå®šä¹‰æ“ä½œç³»ç»Ÿäº¤äº’ï¼›</li>
</ul>
<p>ä¸Šé¢æ˜¯ä»å®˜æ–¹æ–‡æ¡£ä¸­ç¿»è¯‘çš„ç‰¹æ€§ï¼Œä¸‹é¢æ˜¯å®ƒçš„ä¸€äº›ä¸è¶³ï¼š</p>
<ul>
<li>ä¸æ˜¯ä¸€ä¸ª SQL æ•°æ®åº“ï¼Œå®ƒæ²¡æœ‰å…³ç³»æ•°æ®æ¨¡å‹ï¼Œä¸æ”¯æŒ SQL æŸ¥è¯¢ï¼Œä¹Ÿä¸æ”¯æŒç´¢å¼•ï¼›</li>
<li>åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹(å¯èƒ½æ˜¯å…·æœ‰å¤šçº¿ç¨‹çš„è¿›ç¨‹)è®¿é—®ä¸€ä¸ªç‰¹å®šçš„æ•°æ®åº“ï¼›</li>
<li>æ²¡æœ‰å†…ç½®çš„ client-server æ”¯æŒï¼Œæœ‰éœ€è¦çš„å¿…é¡»è‡ªå·±å°è£…ï¼›</li>
</ul>
<br>

<h2 id="ç¼–è¯‘LevelDb"><a href="#ç¼–è¯‘LevelDb" class="headerlink" title="ç¼–è¯‘LevelDb"></a><strong>ç¼–è¯‘LevelDb</strong></h2><p>LevelDB çš„ç¼–è¯‘ä¹Ÿéå¸¸ç®€å•ï¼ˆé¦–å…ˆè¦æœ‰ C++ å¼€å‘ç¯å¢ƒï¼Œä¾‹å¦‚ï¼šgccã€cmakeç­‰ç­‰ï¼‰ï¼›</p>
<p>é¦–å…ˆï¼Œclone åŒ…å«å­æ¨¡å—çš„é¡¹ç›®ï¼ˆä½ ä¹Ÿå¯ä»¥ fork ä¸€ä¸ªè‡ªå·±çš„repoï¼‰ï¼š</p>
<pre><code class="bash">git clone --recurse-submodules https://github.com/google/leveldb.git</code></pre>
<p>éšåï¼Œç¼–è¯‘ï¼š</p>
<pre><code class="bash">mkdir -p build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=Release .. &amp;&amp; cmake --build .</code></pre>
<blockquote>
<p>  <strong>è¿™é‡Œå¯èƒ½ä¼šæç¤º benchmark åº“ä¸­æœ‰ä¸ªå˜é‡æœªä½¿ç”¨ï¼š</strong></p>
<pre><code>  [ 71%] Building CXX object third_party/benchmark/src/CMakeFiles/benchmark.dir/complexity.cc.o
  third_party/benchmark/src/complexity.cc:85:10: error: variable &#39;sigma_gn&#39; set but not used [-Werror,-Wunused-but-set-variable]
    double sigma_gn = 0.0;
           ^
  1 error generated.
  make[2]: *** [third_party/benchmark/src/CMakeFiles/benchmark.dir/complexity.cc.o] Error 1
  make[1]: *** [third_party/benchmark/src/CMakeFiles/benchmark.dir/all] Error 2
  make: *** [all] Error 2</code></pre><p>  æ­¤æ—¶ä¿®æ”¹ <code>third_party/benchmark/src/complexity.cc</code> æ–‡ä»¶ï¼Œå°†å˜é‡æ³¨é‡Šæ‰å³å¯ï¼š</p>
<pre><code class="diff">  LeastSq MinimalLeastSq(const std::vector&lt;int64_t&gt;&amp; n,
                         const std::vector&lt;double&gt;&amp; time,
                         BigOFunc* fitting_curve) {
  - double sigma_gn = 0.0;
  + //  double sigma_gn = 0.0;
    double sigma_gn_squared = 0.0;
    double sigma_time = 0.0;
    double sigma_time_gn = 0.0;

    // Calculate least square fitting parameter
    for (size_t i = 0; i &lt; n.size(); ++i) {
      double gn_i = fitting_curve(n[i]);
  -     sigma_gn += gn_i;
  + //    sigma_gn += gn_i;
      sigma_gn_squared += gn_i * gn_i;
      sigma_time += time[i];
      sigma_time_gn += time[i] * gn_i;
  }</code></pre>
<p>  è§æˆ‘æçš„è¿™ä¸ª issueï¼š</p>
<ul>
<li><a href="https://github.com/google/leveldb/issues/1074" target="_blank" rel="noopener">https://github.com/google/leveldb/issues/1074</a></li>
</ul>
</blockquote>
<p>ç¼–è¯‘å®Œæˆåå¯ä»¥çœ‹åˆ°é™æ€é“¾æ¥åº“ <code>libleveldb.a</code> ä»¥åŠä¸€äº›æµ‹è¯•ç”¨æ‰§è¡Œæ–‡ä»¶ï¼š</p>
<pre><code class="bash">$ tree -L 2
.
â”œâ”€â”€ c_test
â”œâ”€â”€ db_bench
â”œâ”€â”€ db_bench_sqlite3
â”œâ”€â”€ env_posix_test
â”œâ”€â”€ leveldb_tests
â”œâ”€â”€ leveldbutil
â”œâ”€â”€ libleveldb.a
...</code></pre>
<br>

<h2 id="LevelDBå¤´æ–‡ä»¶ç®€ä»‹"><a href="#LevelDBå¤´æ–‡ä»¶ç®€ä»‹" class="headerlink" title="LevelDBå¤´æ–‡ä»¶ç®€ä»‹"></a><strong>LevelDBå¤´æ–‡ä»¶ç®€ä»‹</strong></h2><p><strong>LevelDB å¯¹å¤–æš´éœ²çš„æ¥å£éƒ½åœ¨ <code>include/*.h</code> ä¸­</strong>ï¼Œåº“ä½¿ç”¨è€…ä¸åº”è¯¥ä¾èµ–ä»»ä½•å…¶å®ƒç›®å½•ä¸‹çš„å¤´æ–‡ä»¶ï¼ˆè¿™äº›å†…éƒ¨ API å¯èƒ½ä¼šåœ¨æ²¡æœ‰è­¦å‘Šçš„æƒ…å†µä¸‹è¢«æ”¹å˜ï¼‰ï¼›</p>
<ul>
<li><code>include/leveldb/db.h</code>ï¼šä¸»è¦çš„ DB æ¥å£ï¼Œå…¥å£æ–‡ä»¶ï¼›</li>
<li><code>include/leveldb/options.h</code>ï¼š æ§åˆ¶æ•°æ®åº“çš„è¡Œä¸ºï¼Œä¹Ÿæ§åˆ¶è¯»å’Œå†™çš„è¡Œä¸ºï¼›</li>
<li><code>include/leveldb/comparator.h</code>ï¼š æŠ½è±¡çš„æ¯”è¾ƒå‡½æ•°ã€‚å¦‚æœåªæƒ³å¯¹ key é€å­—èŠ‚æ¯”è¾ƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤çš„æ¯”è¾ƒå™¨ï¼Œå¦‚æœæƒ³è¦è‡ªå®šä¹‰æ’åºï¼ˆä¾‹å¦‚å¤„ç†ä¸åŒçš„å­—ç¬¦ç¼–ç ã€è§£ç ç­‰ï¼‰ï¼Œå¯ä»¥å®ç°è‡ªå·±çš„æ¯”è¾ƒå™¨ï¼›</li>
<li><code>include/leveldb/iterator.h</code>ï¼šè¿­ä»£æ•°æ®çš„æ¥å£ï¼Œä½ å¯ä»¥ä»ä¸€ä¸ª DB å¯¹è±¡è·å–åˆ°ä¸€ä¸ªè¿­ä»£å™¨ï¼›</li>
<li><code>include/leveldb/write_batch.h</code>ï¼šåŸå­åœ°å°†å¤šä¸ªæ“ä½œåº”ç”¨åˆ°æ•°æ®åº“ï¼›</li>
<li><code>include/leveldb/slice.h</code>ï¼šç±»ä¼¼ stringï¼Œç»´æŠ¤ç€æŒ‡å‘å­—èŠ‚æ•°ç»„çš„æŒ‡é’ˆå’Œå¯¹åº”çš„é•¿åº¦ï¼›</li>
<li><code>include/leveldb/status.h</code>ï¼šè®¸å¤šå…¬å…±æ¥å£éƒ½ä¼šè¿”å› <code>Status</code>ï¼Œç”¨äºæŠ¥å‘ŠæˆåŠŸæˆ–å„ç§é”™è¯¯ï¼›</li>
<li><code>include/leveldb/env.h</code>ï¼šæ“ä½œç³»ç»Ÿç¯å¢ƒçš„æŠ½è±¡ï¼Œè¯¥æ¥å£çš„ posix å®ç°ä½äº <code>util/env_posix.cc</code> ä¸­ï¼›</li>
<li><code>include/leveldb/table.h, include/leveldb/table_builder.h</code>ï¼šå­˜å‚¨åº•å±‚æ¨¡å—ï¼Œç”¨äº Build immutable å’Œ sorted mapï¼Œåº“ä½¿ç”¨è€…ä¸€èˆ¬ä¸ä¼šç”¨åˆ°ï¼›</li>
</ul>
<p>æ›´å¤šå…³äºå„ä¸ªå¤´æ–‡ä»¶åŒ…å«çš„å†…å®¹è§å„ä¸ªå¤´æ–‡ä»¶é¡¶éƒ¨çš„æ³¨é‡Šï¼›</p>
<br>

<h2 id="LevelDBä½¿ç”¨æ–¹æ³•"><a href="#LevelDBä½¿ç”¨æ–¹æ³•" class="headerlink" title="LevelDBä½¿ç”¨æ–¹æ³•"></a><strong>LevelDBä½¿ç”¨æ–¹æ³•</strong></h2><p>ä½œä¸ºåµŒå…¥å¼ç±»å‹çš„æ•°æ®åº“ï¼ŒLevelDB å¹¶æ²¡æœ‰æä¾› serverï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢å‡ ç§æ–¹å¼æ¥ä½¿ç”¨ï¼š</p>
<ul>
<li><strong>clone æºç ï¼Œå¹¶å¼•å…¥è‡³å…¶ä»– CMake å·¥ç¨‹ä¸­ï¼š</strong>ç”±äº LevelDB çš„ä»£ç æ˜¯å¼€æºçš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æºä»£ç  clone åˆ°æœ¬åœ°ï¼Œç„¶åé€šè¿‡ CMake å¼•å…¥å³å¯ä½¿ç”¨ï¼›</li>
<li><strong>ç¼–è¯‘ä¸ºé™æ€åº“ï¼š</strong>ä¸Šé¢ä½¿ç”¨CMakeå·¥ç¨‹å¼•å…¥çš„æ–¹å¼åªé€‚åˆå…¶ä»–C++é¡¹ç›®ï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰å°† LevelDB çš„æºç ç¼–è¯‘ä¸ºäº†é™æ€é“¾æ¥åº“ <code>libleveldb.a</code>ï¼Œå› æ­¤å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç›´æ¥é“¾æ¥è¿™ä¸ªé™æ€åº“ï¼Œè¿™æ ·å…¶ä»–è¯­è¨€ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼›</li>
</ul>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ LevelDB æºç ä¸­åˆ›å»ºä½¿ç”¨çš„ç¤ºä¾‹ï¼Œå¹¶ä½¿ç”¨å…¶å†…éƒ¨çš„ gtest æµ‹è¯•ï¼›</p>
<p>é¦–å…ˆï¼Œåˆ›å»º <code>examples</code> ç›®å½•ï¼Œå¹¶åˆ›å»º <code>main.cc</code> æ–‡ä»¶ä½œä¸ºç¼–è¯‘æˆ‘ä»¬è‡ªå·±ç”¨ä¾‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<p>examples/main.cc</p>
<pre><code class="c++">#include &lt;cassert&gt;
#include &lt;iostream&gt;

#include &quot;leveldb/db.h&quot;

#include &quot;gtest/gtest.h&quot;

TEST(Usage, InitDb) {
  leveldb::DB* db;
  leveldb::Options options;
  options.create_if_missing = true;
  leveldb::Status status = leveldb::DB::Open(options, &quot;/tmp/test_db&quot;, &amp;db);

  std::cout &lt;&lt; &quot;db started, status: &quot; &lt;&lt; status.ToString() &lt;&lt; std::endl;
  assert(status.ok());
  delete db;
}

int main(int argc, char** argv) {
  printf(&quot;Running main() from %s\n&quot;, __FILE__);
  ::testing::InitGoogleTest(&amp;argc, argv);
  return RUN_ALL_TESTS();
}</code></pre>
<p>éšåï¼Œåœ¨ <code>CMakeLists.txt</code> é…ç½®ä¸­åŠ å…¥æˆ‘ä»¬çš„æµ‹è¯•æ–‡ä»¶ï¼š</p>
<pre><code class="diff">leveldb_test(&quot;db/c_test.c&quot;)
+ leveldb_test(&quot;examples/main.cc&quot;)</code></pre>
<p>å³å¯ç¼–è¯‘å‡ºæˆ‘ä»¬çš„æµ‹è¯•æ–‡ä»¶ï¼ˆClion å¯¼å…¥é¡¹ç›®åç”šè‡³å¯ä»¥ç›´æ¥ç¼–è¯‘å‡º debug ç‰ˆæœ¬çš„äºŒè¿›åˆ¶ï¼‰ï¼›</p>
<p>æ‰§è¡Œåè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code class="bash">Running main() from leveldb/examples/main.cc
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from Usage
[ RUN      ] Usage.InitDb
db started, status: OK
[       OK ] Usage.InitDb (71 ms)
[----------] 1 test from Usage (71 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (71 ms total)
[  PASSED  ] 1 test.</code></pre>
<p>æµ‹è¯•OKï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹å…·ä½“ LevelDB çš„åŠŸèƒ½ï¼›</p>
<br>

<h2 id="LevelDBåŠŸèƒ½"><a href="#LevelDBåŠŸèƒ½" class="headerlink" title="LevelDBåŠŸèƒ½"></a><strong>LevelDBåŠŸèƒ½</strong></h2><h3 id="å¼€å¯-å…³é—­æ•°æ®åº“"><a href="#å¼€å¯-å…³é—­æ•°æ®åº“" class="headerlink" title="å¼€å¯/å…³é—­æ•°æ®åº“"></a><strong>å¼€å¯/å…³é—­æ•°æ®åº“</strong></h3><p>åœ¨ LevelDB ä¸­ï¼Œæ¯ä¸ªæ•°æ®åº“éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œè¯¥åå­—ç›´æ¥å¯¹åº”æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ä¸€ä¸ªç›®å½•ï¼Œè¯¥æ•°æ®åº“ä¸­çš„å†…å®¹å…¨éƒ½å­˜åœ¨è¯¥ç›®å½•ä¸‹ï¼›</p>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•æ‰“å¼€ä¸€ä¸ªæ•°æ®åº“ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºæ•°æ®åº“ï¼š</p>
<pre><code class="c++">const std::string db_name = &quot;/tmp/test_db&quot;;

TEST(LevelDBDemo, OpenDB) {
  leveldb::DB* db;
  leveldb::Options options;
  options.create_if_missing = true;
  //  options.error_if_exists = true;
  leveldb::Status status = leveldb::DB::Open(options, db_name, &amp;db);

  std::cout &lt;&lt; &quot;db started, status: &quot; &lt;&lt; status.ToString() &lt;&lt; std::endl;
  ASSERT_TRUE(status.ok());
  delete db;
}</code></pre>
<p><strong><code>leveldb::Status</code> ä¸­å°è£…äº† LevelDB æ¥å£è¿”å›çš„è¯¦ç»†ä¿¡æ¯ï¼›</strong></p>
<p>å¦‚æœæƒ³åœ¨æ•°æ®åº“å·²å­˜åœ¨çš„æ—¶å€™è§¦å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ Options ä¸­çš„å…¶ä»–é…ç½®ï¼š</p>
<pre><code>options.error_if_exists = true;</code></pre><p>æ‰§è¡Œåï¼Œä¼šåœ¨ <code>/tmp</code> ä¸‹åˆ›å»ºå¯¹åº”çš„ç›®å½• <code>test_db/</code> å…¶ä¸­å­˜æ”¾äº†æ•°æ®åº“ç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶ï¼š</p>
<pre><code class="bash">$ tree /tmp/test_db 
/tmp/test_db
â”œâ”€â”€ 000013.log
â”œâ”€â”€ CURRENT
â”œâ”€â”€ LOCK
â”œâ”€â”€ LOG
â”œâ”€â”€ LOG.old
â””â”€â”€ MANIFEST-000012</code></pre>
<p>çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å’Œ Chrome ä¸­å­˜å‚¨çš„æ•°æ®éå¸¸çš„ç±»ä¼¼ï¼Ÿ</p>
<p><strong>å…³é—­æ•°æ®åº“å°±æ›´åŠ ç®€å•äº†ï¼Œåªéœ€è¦ï¼š<code>delete db;</code> å³å¯ï¼</strong></p>
<br>

<p>ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†æ•°æ®åº“åˆå§‹åŒ–ç›´æ¥å°è£…ï¼š</p>
<pre><code class="c++">const std::string db_name = &quot;/tmp/test_db&quot;;

leveldb::Options get_options() {
  leveldb::Options options;
  options.create_if_missing = true;
  return options;
}

leveldb::DB* init_db(leveldb::Options&amp;&amp; options) {
  leveldb::DB* db;
  leveldb::Status status = leveldb::DB::Open(options, db_name, &amp;db);
  assert(status.ok());
  return db;
}</code></pre>
<p>ä½¿ç”¨æ—¶ç›´æ¥ç”¨ä¸‹é¢çš„ä»£ç å³å¯ï¼š</p>
<pre><code class="c++">leveldb::DB* db = init_db(get_options());

// Some logic...

delete db;</code></pre>
<br>

<h3 id="æ•°æ®åº“è¯»å†™"><a href="#æ•°æ®åº“è¯»å†™" class="headerlink" title="æ•°æ®åº“è¯»å†™"></a><strong>æ•°æ®åº“è¯»å†™</strong></h3><p>LevelDB æä¾›äº† <code>Put</code>ã€<code>Delete</code> å’Œ <code>Get</code> æ–¹æ³•æ¥ä¿®æ”¹/æŸ¥è¯¢æ•°æ®åº“ï¼Œä¸‹é¢çš„ä»£ç å±•ç¤ºäº†è¿™äº›æ“ä½œçš„ç”¨æ³•ï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, CRUD) {
  leveldb::DB* db = init_db(get_options());
  std::string k = &quot;name&quot;;

  // Write data.
  leveldb::Status status = db-&gt;Put(leveldb::WriteOptions(), k, &quot;test&quot;);
  ASSERT_TRUE(status.ok());

  // Read data.
  std::string val;
  status = db-&gt;Get(leveldb::ReadOptions(), k, &amp;val);
  ASSERT_TRUE(status.ok());
  std::cout &lt;&lt; &quot;Get key: &quot; &lt;&lt; k &lt;&lt; &quot;, val: &quot; &lt;&lt; val &lt;&lt; std::endl;
  ASSERT_EQ(val, &quot;test&quot;);

  // Delete data.
  status = db-&gt;Delete(leveldb::WriteOptions(), &quot;name&quot;);
  ASSERT_TRUE(status.ok());

  // Re-Get the key:
  status = db-&gt;Get(leveldb::ReadOptions(), k, &amp;val);
  ASSERT_FALSE(status.ok());
  std::cout &lt;&lt; &quot;Get key after delete, status: &quot; &lt;&lt; status.ToString()
            &lt;&lt; std::endl;
  ASSERT_TRUE(status.IsNotFound());

  delete db;
}</code></pre>
<br>

<h4 id="Putæ–¹æ³•"><a href="#Putæ–¹æ³•" class="headerlink" title="Putæ–¹æ³•"></a><strong>Putæ–¹æ³•</strong></h4><p>Put æ–¹æ³•ç”¨äºå†™å…¥ä¸€ä¸ª k-vï¼›</p>
<p>å†™å…¥æ–¹æ³•ç¬¬ä¸€ä¸ªå…¥å‚æ˜¯ä¸€ä¸ª WriteOptionsï¼Œå¯é€‰å‚æ•°ä¸ºï¼š</p>
<ul>
<li>syncï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒLevelDB æ¯ä¸ªå†™æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼šè¿›ç¨‹æŠŠè¦å†™çš„å†…å®¹ä¸¢ç»™æ“ä½œç³»ç»Ÿåç«‹å³è¿”å›ï¼Œä»æ“ä½œç³»ç»Ÿå†…å­˜åˆ°åº•å±‚æŒä¹…åŒ–å­˜å‚¨çš„ä¼ è¾“æ˜¯å¼‚æ­¥è¿›è¡Œçš„ï¼›å°† sync è®¾ç½®ä¸º true å¯ä»¥ä¸ºæŸä¸ªç‰¹å®šçš„å†™æ“ä½œæ‰“å¼€åŒæ­¥æ ‡è¯†ï¼Œæ­¤æ—¶å†™æ“ä½œä¼šç­‰åˆ°æ•°æ®çœŸæ­£è¢«åˆ·åˆ°æŒä¹…åŒ–å­˜å‚¨ï¼ˆç¡¬ç›˜ï¼‰åå†è¿”å›ï¼ˆåœ¨ Posix ç³»ç»Ÿä¸Šï¼Œè¿™æ˜¯é€šè¿‡åœ¨å†™æ“ä½œè¿”å›å‰è°ƒç”¨ <code>fsync(...)</code> æˆ– <code>fdatasync(...)</code> æˆ– <code>msync(..., MS_SYNC)</code> æ¥å®ç°çš„ï¼‰ï¼›</li>
</ul>
<blockquote>
<p>  <strong>å¼‚æ­¥å†™é€šå¸¸æ¯”åŒæ­¥å†™å¿« 1000 å€ï¼›</strong></p>
<p>  å¼‚æ­¥å†™çš„ç¼ºç‚¹æ˜¯ï¼šä¸€æ—¦æœºå™¨å´©æºƒå¯èƒ½ä¼šå¯¼è‡´æœ€åå‡ ä¸ªæ›´æ–°æ“ä½œä¸¢å¤±ï¼›</p>
<p>  <font color="#f00"><strong>æ³¨æ„ï¼šå¦‚æœä»…ä»…æ˜¯å†™è¿›ç¨‹å´©æºƒï¼ˆè€Œéæœºå™¨é‡å¯ï¼‰ä¸ä¼šé€ æˆä»»ä½•æŸå¤±ï¼Œå› ä¸ºå“ªæ€• sync æ ‡è¯†ä¸º falseï¼Œåœ¨è¿›ç¨‹é€€å‡ºä¹‹å‰ï¼Œå†™æ“ä½œä¹Ÿå·²ç»ä»è¿›ç¨‹å†…å­˜æ¨åˆ°äº†æ“ä½œç³»ç»Ÿï¼›</strong></font></p>
<p>  å¼‚æ­¥å†™é€šå¸¸å¯ä»¥å®‰å…¨ä½¿ç”¨ï¼Œæ¯”å¦‚ä½ è¦å°†å¤§é‡çš„æ•°æ®å†™å…¥æ•°æ®åº“ï¼Œå¦‚æœä¸¢å¤±äº†æœ€åå‡ ä¸ªæ›´æ–°æ“ä½œï¼Œä¹Ÿå¯ä»¥é‡åšæ•´ä¸ªå†™è¿‡ç¨‹ï¼›</p>
<p>  å¦‚æœæ•°æ®é‡éå¸¸å¤§ï¼Œä¸€ä¸ªä¼˜åŒ–ç‚¹æ˜¯é‡‡ç”¨æ··åˆæ–¹æ¡ˆï¼š</p>
<p>  æ¯è¿›è¡Œ N ä¸ªå¼‚æ­¥å†™æ“ä½œåˆ™è¿›è¡Œä¸€æ¬¡åŒæ­¥å†™ï¼Œå¦‚æœæœŸé—´å‘ç”Ÿäº†å´©æºƒï¼Œé‡å¯ä»ä¸Šä¸€ä¸ªæˆåŠŸçš„åŒæ­¥å†™æ“ä½œå¼€å§‹å³å¯ï¼ˆåŒæ­¥å†™æ“ä½œå¯ä»¥åŒæ—¶æ›´æ–°ä¸€ä¸ªæ ‡è¯†ï¼Œæè¿°å´©æºƒæ—¶é‡å¯çš„ä½ç½®ï¼‰ï¼›</p>
<p>  <code>WriteBatch</code> å¯ä»¥ä½œä¸ºå¼‚æ­¥å†™æ“ä½œçš„æ›¿ä»£å“ï¼Œå¤šä¸ªæ›´æ–°æ“ä½œå¯ä»¥æ”¾åˆ°åŒä¸€ä¸ª <code>WriteBatch</code> ä¸­ç„¶åé€šè¿‡ä¸€æ¬¡åŒæ­¥å†™(å³ <code>write_options.sync = true</code>)ä¸€èµ·è½ç›˜ï¼›</p>
</blockquote>
<br>

<h4 id="Getæ–¹æ³•"><a href="#Getæ–¹æ³•" class="headerlink" title="Getæ–¹æ³•"></a><strong>Getæ–¹æ³•</strong></h4><p>å’Œ Put æ–¹æ³•ç±»ä¼¼ï¼ŒGet æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå…¥å‚æ˜¯ä¸€ä¸ª ReadOptionsï¼Œå¯é€‰å‚æ•°æœ‰ï¼š</p>
<ul>
<li><code>verify_checksums</code>ï¼šå¯ä»¥è®¾ç½®ä¸º trueï¼Œä»¥å¼ºåˆ¶å¯¹æ‰€æœ‰ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–çš„æ•°æ®è¿›è¡Œæ ¡éªŒï¼›é»˜è®¤ä¸º falseï¼Œå³ï¼Œä¸è¿›è¡Œæ ¡éªŒï¼›</li>
<li><code>fill_cache</code>ï¼šæ˜¯å¦å°†æŸ¥è¯¢ç»“æœå­˜å…¥ç¼“å­˜å—ä¸­ï¼›</li>
<li><code>snapshot</code>ï¼šä»æŸæ¬¡å¿«ç…§ä¸­è¯»å–æ•°æ®ï¼ˆå¯ä»¥å®ç° MVCCï¼Œåæ–‡ä¼šè®²ï¼‰ï¼›</li>
</ul>
<p>å¦‚æœ Get ä¸€ä¸ªä¸å­˜åœ¨çš„ keyï¼Œåˆ™è¿”å›çš„ status ä¸æ˜¯ ok çš„ï¼Œå¯ä»¥é€šè¿‡ <code>status.IsNotFound()</code> åˆ¤æ–­ï¼š</p>
<pre><code class="c++">ASSERT_FALSE(status.ok());
ASSERT_TRUE(status.IsNotFound());</code></pre>
<br>

<h4 id="Deleteæ–¹æ³•"><a href="#Deleteæ–¹æ³•" class="headerlink" title="Deleteæ–¹æ³•"></a><strong>Deleteæ–¹æ³•</strong></h4><p>ç”±äº Delete æ–¹æ³•ä¹Ÿæ˜¯å†™å…¥æ“ä½œï¼Œå› æ­¤ä¹Ÿæœ‰å’Œ Put æ–¹æ³•ä¸€æ ·çš„ WriteOptions å…¥å‚ï¼›</p>
<p>Delete ä¸€ä¸ªä¸å­˜åœ¨çš„ key ä¸ä¼šæŠ¥é”™ï¼</p>
<br>

<h3 id="åŸå­æ“ä½œ"><a href="#åŸå­æ“ä½œ" class="headerlink" title="åŸå­æ“ä½œ"></a><strong>åŸå­æ“ä½œ</strong></h3><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦åŒæ—¶æ‰§è¡Œå¤šä¸ªå†™å…¥æ“ä½œï¼Œè¿™äº›æ“ä½œè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ï¼›</p>
<p>LevelDB ä¸­æä¾›äº†åŸå­æ“ä½œï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, Atomic) {
  leveldb::DB* db = init_db(get_options());
  db-&gt;Put(leveldb::WriteOptions{}, &quot;k1&quot;, &quot;v1&quot;);
  db-&gt;Put(leveldb::WriteOptions{}, &quot;k2&quot;, &quot;v2&quot;);

  // Batch write
  leveldb::WriteBatch batch;
  batch.Delete(&quot;k1&quot;);
  batch.Put(&quot;k2&quot;, &quot;new-v2&quot;);
  auto s = db-&gt;Write(leveldb::WriteOptions{}, &amp;batch);
  ASSERT_TRUE(s.ok());

  std::string v1;
  s = db-&gt;Get(leveldb::ReadOptions(), &quot;k1&quot;, &amp;v1);
  ASSERT_TRUE(s.IsNotFound());

  std::string v2;
  s = db-&gt;Get(leveldb::ReadOptions(), &quot;k2&quot;, &amp;v2);
  ASSERT_TRUE(s.ok());
  ASSERT_EQ(v2, &quot;new-v2&quot;);

  delete db;
}</code></pre>
<p>é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª <code>WriteBatch</code>ï¼Œç„¶åé€šè¿‡ batch è¿›è¡Œäº† Delete å’Œ Put ä¸¤ä¸ªæ“ä½œï¼›</p>
<p>æœ€åè°ƒç”¨ <code>db-&gt;Write</code> ä¼ å…¥ batch æ“ä½œï¼Œå³å¯ï¼›</p>
<br>

<h3 id="åŒæ­¥å†™æ“ä½œ"><a href="#åŒæ­¥å†™æ“ä½œ" class="headerlink" title="åŒæ­¥å†™æ“ä½œ"></a><strong>åŒæ­¥å†™æ“ä½œ</strong></h3><p>å‰é¢æåˆ°ï¼Œåœ¨è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œå¯ä»¥è®¾ç½® <code>sync</code> ä¸º trueï¼Œæ­¤æ—¶ä¼šå°†ç»“æœåŒæ­¥çš„åˆ·å…¥ç£ç›˜ä¸­ï¼›</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, SyncWrite) {
  leveldb::DB* db = init_db(get_options());

  // Sync write
  leveldb::WriteOptions write_options;
  write_options.sync = true;
  auto s = db-&gt;Put(write_options, &quot;sync-write-key&quot;, &quot;sync-write&quot;);
  ASSERT_TRUE(s.ok());

  delete db;
}</code></pre>
<p>å¯ä»¥å°è¯•åœ¨åŒæ­¥çŠ¶æ€ä¸‹å¾ªç¯å†™å…¥å¤šä¸ª k-vï¼Œè‚‰çœ¼å¯è§çš„æ…¢ï½</p>
<br>

<h3 id="è¿­ä»£æ•°æ®åº“æ•°æ®"><a href="#è¿­ä»£æ•°æ®åº“æ•°æ®" class="headerlink" title="è¿­ä»£æ•°æ®åº“æ•°æ®"></a><strong>è¿­ä»£æ•°æ®åº“æ•°æ®</strong></h3><p>åœ¨ LevelDB ä¸­æ•°æ®æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œæœ‰æ—¶æˆ‘ä»¬æƒ³è¦éå†æŸä¸ªåŒºé—´å†…çš„æ•°æ®ï¼Œæ­¤æ—¶å°±ç”¨åˆ°äº†è¿­ä»£å™¨ï¼›</p>
<p>è¿­ä»£çš„åœºæ™¯æœ‰ï¼š</p>
<ul>
<li>ä»å¤´åˆ°å°¾éå†ï¼šSeekToFirst + Valid + Nextï¼›</li>
<li>ä»å°¾åˆ°å¤´éå†ï¼šSeekToLast + Valid + Prevï¼›</li>
<li>ä»æŸä¸ªä½ç½®å¼€å§‹ã€å¦ä¸€ä¸ªä½ç½®ç»“æŸéå†ï¼šSeek(start) + Valid &amp;&amp; <code>it-&gt;key().ToString() &lt; limit</code> + Nextï¼›</li>
</ul>
<p>ä½¿ç”¨èµ·æ¥éå¸¸çµæ´»ï¼Œä¸‹é¢çš„ä»£ç å±•ç¤ºäº†è¿™äº›åœºæ™¯ï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, Iteration) {
  leveldb::DB* db = init_db(get_options());
  leveldb::WriteBatch batch;
  for (int i = 0; i &lt; 100; ++i) {
    std::string idx = std::to_string(i);
    batch.Put(&quot;iter-key-&quot; + idx, &quot;iter-value-&quot; + idx);
  }
  auto s = db-&gt;Write(leveldb::WriteOptions{}, &amp;batch);

  // Iteration
  std::cout &lt;&lt; &quot;\n###### Iteration ######\n&quot; &lt;&lt; std::endl;
  leveldb::Iterator* it = db-&gt;NewIterator(leveldb::ReadOptions());
  for (it-&gt;SeekToFirst(); it-&gt;Valid(); it-&gt;Next()) {
    std::cout &lt;&lt; it-&gt;key().ToString() &lt;&lt; &quot;: &quot; &lt;&lt; it-&gt;value().ToString()
              &lt;&lt; std::endl;
  }
  ASSERT_TRUE(it-&gt;status().ok());  // Check for any errors found during the scan
  delete it;

  // Reverse Iteration
  std::cout &lt;&lt; &quot;\n###### Reverse Iteration ######\n&quot; &lt;&lt; std::endl;
  it = db-&gt;NewIterator(leveldb::ReadOptions());
  for (it-&gt;SeekToLast(); it-&gt;Valid(); it-&gt;Prev()) {
    std::cout &lt;&lt; it-&gt;key().ToString() &lt;&lt; &quot;: &quot; &lt;&lt; it-&gt;value().ToString()
              &lt;&lt; std::endl;
  }
  ASSERT_TRUE(it-&gt;status().ok());  // Check for any errors found during the scan
  delete it;

  // Iterate Range: [start, limit)
  std::cout &lt;&lt; &quot;\n###### Iterate Range: [start, limit) ######\n&quot; &lt;&lt; std::endl;
  std::string limit = &quot;iter-key-2&quot;;
  it = db-&gt;NewIterator(leveldb::ReadOptions());
  for (it-&gt;SeekToFirst(); it-&gt;Valid() &amp;&amp; it-&gt;key().ToString() &lt; limit;
       it-&gt;Next()) {
    std::cout &lt;&lt; it-&gt;key().ToString() &lt;&lt; &quot;: &quot; &lt;&lt; it-&gt;value().ToString()
              &lt;&lt; std::endl;
  }
  ASSERT_TRUE(it-&gt;status().ok());  // Check for any errors found during the scan
  delete it;

  // Iterate Range: [seek, limit)
  std::cout &lt;&lt; &quot;\n###### Iterate Range: [seek, limit) ######\n&quot; &lt;&lt; std::endl;
  std::string seek = &quot;iter-key-2&quot;;
  limit = &quot;iter-key-3&quot;;
  it = db-&gt;NewIterator(leveldb::ReadOptions());
  for (it-&gt;Seek(seek); it-&gt;Valid() &amp;&amp; it-&gt;key().ToString() &lt; limit;
       it-&gt;Next()) {
    std::cout &lt;&lt; it-&gt;key().ToString() &lt;&lt; &quot;: &quot; &lt;&lt; it-&gt;value().ToString()
              &lt;&lt; std::endl;
  }
  ASSERT_TRUE(it-&gt;status().ok());  // Check for any errors found during the scan
  delete it;

  delete db;
}</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
<ul>
<li><strong>æ‰€æœ‰çš„è¿­ä»£å™¨éƒ½é€šè¿‡ <code>NewIterator</code> åˆ›å»ºï¼›</strong></li>
<li><strong>å½“è¿­ä»£ç»“æŸåè¦é€šè¿‡ <code>delete it</code> é‡Šæ”¾æ‰è¿­ä»£å™¨èµ„æºï¼</strong></li>
</ul>
<br>

<h3 id="å¿«ç…§ï¼ˆSnapshotï¼‰"><a href="#å¿«ç…§ï¼ˆSnapshotï¼‰" class="headerlink" title="å¿«ç…§ï¼ˆSnapshotï¼‰"></a><strong>å¿«ç…§ï¼ˆSnapshotï¼‰</strong></h3><p>å¿«ç…§æä¾›äº†é’ˆå¯¹æ•´ä¸ª K-V å­˜å‚¨çš„ä¸€è‡´æ€§åªè¯»è§†å›¾ï¼ˆconsistent read-only viewsï¼‰ï¼›ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç†Ÿæ‚‰çš„ MySQL ä¸­å„ä¸ªäº‹åŠ¡åœ¨æœªæäº¤æ—¶ï¼Œéƒ½æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„è§†å›¾ï¼ˆå¦‚æœé…ç½®äº†å¯¹åº”çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸æ˜¯è„è¯»ï¼‰ï¼Œå„ä¸ªäº‹åŠ¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œå³ MVCCï¼›</p>
<p>å¯¹äºè¯»æ“ä½œè€Œè¨€ï¼š</p>
<ul>
<li><strong>å¦‚æœ <code>ReadOptions::snapshot</code> ä¸ä¸º null åˆ™è¡¨ç¤ºè¯»æ“ä½œä½œç”¨åœ¨å½“å‰ DB çš„ç‰¹å®šå¿«ç…§ç‰ˆæœ¬ä¸Šï¼›</strong></li>
<li><strong>è‹¥ä¸º nullï¼Œåˆ™è¯»æ“ä½œå°†ä¼šä½œç”¨åœ¨å½“å‰ç‰ˆæœ¬çš„ä¸€ä¸ªéšå¼çš„å¿«ç…§ä¸Šï¼›</strong></li>
</ul>
<p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, Snapshot) {
  leveldb::DB* db = init_db(get_options());
  std::string k = &quot;snapshot-key&quot;, v = &quot;snapshot-value&quot;;
  db-&gt;Put(leveldb::WriteOptions{}, k, v);

  // Create snapshot
  leveldb::ReadOptions snapshot_options;
  snapshot_options.snapshot = db-&gt;GetSnapshot();

  // Do some updates
  db-&gt;Put(leveldb::WriteOptions{}, k, v + &quot;-updated&quot;);

  // Read not using snapshot
  std::string updated_val;
  db-&gt;Get(leveldb::ReadOptions{}, k, &amp;updated_val);
  std::cout &lt;&lt; &quot;Read with no snapshots: &quot; &lt;&lt; updated_val &lt;&lt; std::endl;
  ASSERT_EQ(updated_val, v + &quot;-updated&quot;);

  // Read using snapshot
  std::string snapshot_read_val;
  db-&gt;Get(snapshot_options, k, &amp;snapshot_read_val);
  std::cout &lt;&lt; &quot;Read with snapshot: &quot; &lt;&lt; snapshot_read_val &lt;&lt; std::endl;
  ASSERT_EQ(snapshot_read_val, v);

  // Release snapshot
  db-&gt;ReleaseSnapshot(snapshot_options.snapshot);

  delete db;
}</code></pre>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å†™å…¥äº† k-v å¯¹ <code>(&quot;snapshot-key&quot;, &quot;snapshot-value&quot;)</code> ï¼Œå¹¶åˆ›å»ºäº†å¯¹åº”çš„è§†å›¾ï¼›</p>
<p>éšåï¼Œæˆ‘ä»¬æ›´æ–°äº† value å˜ä¸ºï¼š<code>&quot;snapshot-value-updated&quot;</code>ï¼›</p>
<p>ç„¶åï¼š</p>
<ul>
<li>å½“ä¸ç”¨ snapshot æŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢ç»“æœä¸º <code>&quot;snapshot-value-updated&quot;</code>ï¼›</li>
<li>å½“ä½¿ç”¨äº† snapshot æŸ¥è¯¢åï¼ŒæŸ¥è¯¢ç»“æœä¸º Put ä¹‹å‰çš„å€¼ï¼š<code>&quot;snapshot-value&quot;</code>ï¼›</li>
</ul>
<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>Read with no snapshots: snapshot-value-updated
Read with snapshot: snapshot-value</code></pre><p><font color="#f00"><strong>æ³¨æ„ï¼Œå½“ä¸€ä¸ªå¿«ç…§ä¸å†ä½¿ç”¨çš„æ—¶å€™ï¼Œåº”è¯¥é€šè¿‡ <code>DB::ReleaseSnapshot</code> æ¥å£è¿›è¡Œé‡Šæ”¾ï¼›</strong></font></p>
<br>

<h3 id="æ¯”è¾ƒå™¨ï¼ˆComparatorï¼‰"><a href="#æ¯”è¾ƒå™¨ï¼ˆComparatorï¼‰" class="headerlink" title="æ¯”è¾ƒå™¨ï¼ˆComparatorï¼‰"></a><strong>æ¯”è¾ƒå™¨ï¼ˆComparatorï¼‰</strong></h3><h4 id="åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨"><a href="#åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨" class="headerlink" title="åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨"></a><strong>åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨</strong></h4><p>åœ¨ LevelDB ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯é¡ºåºå­˜å‚¨çš„ï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹çš„æ¯”è¾ƒå‡½æ•°ï¼Œæ˜¯æŒ‰ç…§é€å­—èŠ‚å­—å…¸åºæ¯”è¾ƒï¼›</p>
<p>æ­¤å¤–ï¼Œ<font color="#f00"><strong>LevelDB è¿˜å…è®¸è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œåœ¨é¦–æ¬¡æ‰“å¼€æ•°æ®åº“æ—¶ä¼ å…¥ï¼</strong></font></p>
<p>è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œåªéœ€è¦ç»§æ‰¿ <code>leveldb::Comparator</code> ç„¶åå®šä¹‰ç›¸å…³é€»è¾‘å³å¯ï¼›</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="c++">class TwoPartComparator : public leveldb::Comparator {
  public:
  // Three-way comparison function:
  //   if a &lt; b: negative result
  //   if a &gt; b: positive result
  //   else: zero result
  int Compare(const leveldb::Slice&amp; a,
              const leveldb::Slice&amp; b) const override {
    long a1, a2, b1, b2;
    ParseKey(a, &amp;a1, &amp;a2);
    ParseKey(b, &amp;b1, &amp;b2);
    if (a1 &lt; b1) return -1;
    if (a1 &gt; b1) return +1;
    if (a2 &lt; b2) return -1;
    if (a2 &gt; b2) return +1;
    return 0;
  }

  const char* Name() const override { return &quot;TwoPartComparator&quot;; }
  void FindShortestSeparator(std::string*,
                             const leveldb::Slice&amp;) const override {}
  void FindShortSuccessor(std::string*) const override {}

  private:
  static void ParseKey(const leveldb::Slice&amp; k, long* x1, long* x2) {
    std::string parts = k.ToString();
    auto index = parts.find_first_of(&#39;:&#39;);
    *x1 = strtol(parts.substr(0, index).c_str(), nullptr, 10);
    *x2 = strtol(parts.substr(index + 1, parts.size()).c_str(), nullptr, 10);
  }
};</code></pre>
<p>ä¸Šé¢çš„è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°å°†ä¸€ä¸ªå­—ç¬¦ä¸²é€šè¿‡ <code>:</code> æ‹†åˆ†ä¸ºä¸¤ä¸ªæ•´æ•°éƒ¨åˆ†ï¼Œé¦–å…ˆæ¯”è¾ƒå‰åŠéƒ¨åˆ†æ•°å€¼çš„å¤§å°ï¼Œå¦‚æœå‰åŠéƒ¨åˆ†ç›¸åŒï¼Œåˆ™å†æ¯”è¾ƒååŠéƒ¨åˆ†æ•°å€¼ï¼›</p>
<p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, Comparator) {
  leveldb::DB* db;
  leveldb::Options options;
  TwoPartComparator cmp;
  options.create_if_missing = true;
  options.comparator = &amp;cmp;
  leveldb::Status status =
      leveldb::DB::Open(options, &quot;/tmp/comparator-demo&quot;, &amp;db);
  ASSERT_TRUE(status.ok());

  // populate the database
  leveldb::Slice key1 = &quot;1:3&quot;;
  leveldb::Slice key2 = &quot;2:3&quot;;
  leveldb::Slice key3 = &quot;2:1&quot;;
  leveldb::Slice key4 = &quot;2:100&quot;;
  std::string val1 = &quot;one&quot;;
  std::string val2 = &quot;two&quot;;
  std::string val3 = &quot;three&quot;;
  std::string val4 = &quot;four&quot;;
  db-&gt;Put(leveldb::WriteOptions(), key1, val1);
  db-&gt;Put(leveldb::WriteOptions(), key2, val2);
  db-&gt;Put(leveldb::WriteOptions(), key3, val3);
  db-&gt;Put(leveldb::WriteOptions(), key4, val4);

  // iterate the database
  leveldb::Iterator* it = db-&gt;NewIterator(leveldb::ReadOptions());
  for (it-&gt;SeekToFirst(); it-&gt;Valid(); it-&gt;Next()) {
    std::cout &lt;&lt; it-&gt;key().ToString() &lt;&lt; &quot;: &quot; &lt;&lt; it-&gt;value().ToString()
              &lt;&lt; std::endl;
  }
  // 1:3: one
  // 2:1: three
  // 2:3: two
  // 2:100: four
  delete it;

  // Open a wrong comparator database cause error
  status = leveldb::DB::Open(options, db_name, &amp;db);
  ASSERT_FALSE(status.ok());
  std::cout &lt;&lt; &quot;Open a wrong comparator database: &quot; &lt;&lt; status.ToString()
            &lt;&lt; std::endl;
  ASSERT_TRUE(status.IsInvalidArgument());

  delete db;
}</code></pre>
<p>æˆ‘ä»¬åˆ›å»ºäº†è‡ªå®šä¹‰æ¯”è¾ƒå™¨ TwoPartComparator å¯¹è±¡ï¼Œå°†å…¶ä¼ å…¥ options ä¸­ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ª options åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼š<code>&quot;/tmp/comparator-demo&quot;</code>ï¼›</p>
<p>éšååŠ å…¥äº†å‡ ä¸ª k-v å¯¹ï¼Œkey å€¼å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>1:3</code>ï¼›</li>
<li><code>2:3</code>ï¼›</li>
<li><code>2:1</code>ï¼›</li>
<li><code>2:100</code>ï¼›</li>
</ul>
<p>éšåé€šè¿‡è¿­ä»£å™¨éå†ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="bash">1:3: one
2:1: three
2:3: two
2:100: four</code></pre>
<p>å¦‚æœæŒ‰ç…§è‡ªç„¶é¡ºåºï¼Œåˆ™åº”å½“è¾“å‡ºï¼š</p>
<pre><code>1:3: one
2:1: three
2:100: four
2:3: two</code></pre><p>è¯´æ˜æˆ‘ä»¬çš„è‡ªå®šä¹‰æ¯”è¾ƒå™¨ç”Ÿæ•ˆï¼›</p>
<br>

<h4 id="æ— æ³•ä¸ºå·²å­˜åœ¨æ•°æ®åº“æŒ‡å®šæ¯”è¾ƒå™¨"><a href="#æ— æ³•ä¸ºå·²å­˜åœ¨æ•°æ®åº“æŒ‡å®šæ¯”è¾ƒå™¨" class="headerlink" title="æ— æ³•ä¸ºå·²å­˜åœ¨æ•°æ®åº“æŒ‡å®šæ¯”è¾ƒå™¨"></a><strong>æ— æ³•ä¸ºå·²å­˜åœ¨æ•°æ®åº“æŒ‡å®šæ¯”è¾ƒå™¨</strong></h4><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šç”±äºåœ¨ LevelDB ä¸­ï¼Œæ•°æ®çš„æ¯”è¾ƒé¡ºåºæ˜¯éå¸¸é‡è¦çš„ï¼Œå› æ­¤ä¸€æ—¦åˆ›å»ºäº†æ•°æ®åº“å°±ä¸èƒ½å†æ›´æ”¹æ¯”è¾ƒé¡ºåºäº†ï¼›</p>
<p>å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­æ‰€å±•ç¤ºçš„ï¼Œè¿™æ®µä»£ç å°†ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="c++">// Open a wrong comparator database cause error
status = leveldb::DB::Open(options, db_name, &amp;db);
ASSERT_FALSE(status.ok());
std::cout &lt;&lt; &quot;Open a wrong comparator database: &quot; &lt;&lt; status.ToString()
  &lt;&lt; std::endl;
ASSERT_TRUE(status.IsInvalidArgument());</code></pre>
<p>é”™è¯¯å†…å®¹ï¼š</p>
<pre><code>Open a wrong comparator database: Invalid argument: leveldb.BytewiseComparator does not match existing comparator : TwoPartComparator</code></pre><p>ä»è€Œä¿è¯äº†æ•°æ®çš„å‘åå…¼å®¹æ€§ï¼›</p>
<br>

<h4 id="æ¯”è¾ƒé¡ºåºçš„å‘åå…¼å®¹æ€§"><a href="#æ¯”è¾ƒé¡ºåºçš„å‘åå…¼å®¹æ€§" class="headerlink" title="æ¯”è¾ƒé¡ºåºçš„å‘åå…¼å®¹æ€§"></a><strong>æ¯”è¾ƒé¡ºåºçš„å‘åå…¼å®¹æ€§</strong></h4><p><font color="#f00"><strong>æ¯”è¾ƒå™¨çš„ <code>Name()</code> æ–¹æ³•è¿”å›çš„ç»“æœåœ¨åˆ›å»ºæ•°æ®åº“æ—¶ä¼šè¢«ç»‘å®šåˆ°æ•°æ®åº“ä¸Šï¼Œåç»­æ¯æ¬¡æ‰“å¼€éƒ½ä¼šè¿›è¡Œæ£€æŸ¥ï¼šå¦‚æœåç§°æ”¹å˜ï¼Œåˆ™å¯¹ <code>leveldb::DB::Open</code> çš„è°ƒç”¨å°±ä¼šå¤±è´¥ï¼›</strong></font></p>
<p><strong>å› æ­¤ï¼Œå½“ä¸”ä»…å½“åœ¨æ–°çš„ key æ ¼å¼å’Œæ¯”è¾ƒå‡½æ•°ä¸å·²æœ‰çš„æ•°æ®åº“ä¸å…¼å®¹è€Œä¸”å·²æœ‰æ•°æ®ä¸å†è¢«éœ€è¦çš„æ—¶å€™ï¼Œæ‰èƒ½å¤Ÿä¿®æ”¹æ¯”è¾ƒå™¨åç§°ï¼›æ€»è€Œè¨€ä¹‹ï¼Œä¸€ä¸ªæ•°æ®åº“åªèƒ½å¯¹åº”ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œè€Œä¸”æ¯”è¾ƒå™¨ç”±åå­—å”¯ä¸€ç¡®å®šï¼Œä¸€æ—¦ä¿®æ”¹åç§°æˆ–æ¯”è¾ƒå™¨é€»è¾‘ï¼Œæ•°æ®åº“çš„æ“ä½œé€»è¾‘å‡ä¼šå‡ºé”™ï¼</strong></p>
<p>å¦‚æœä¸€å®šè¦ä¿®æ”¹æ¯”è¾ƒé€»è¾‘ï¼Œå¯ä»¥æ ¹æ®é¢„å…ˆè§„åˆ’ä¸€ç‚¹ç‚¹çš„æ”¹è¿› key æ ¼å¼ï¼ˆæ³¨æ„ï¼Œäº‹å…ˆçš„æ”¹è¿›è§„åˆ’éå¸¸é‡è¦ï¼‰ï¼›</p>
<p>æ¯”å¦‚ï¼Œä½ å¯ä»¥å…ˆåœ¨æ¯ä¸ª key çš„ç»“å°¾å­˜å‚¨ä¸€ä¸ªç‰ˆæœ¬å·ï¼ˆé€šå¸¸ä¸€ä¸ªå­—èŠ‚è¶³çŸ£ï¼‰ï¼Œå½“éœ€è¦åˆ‡æ¢åˆ°æ–°çš„ key æ ¼å¼çš„æ—¶ï¼ˆä¾‹å¦‚å‰é¢ <code>TwoPartComparator</code> å¤„ç†çš„ keysï¼‰ï¼Œé‚£ä¹ˆéœ€è¦åšçš„æ˜¯ï¼š</p>
<ul>
<li>ä¿æŒç›¸åŒçš„æ¯”è¾ƒå™¨åç§°ï¼›</li>
<li>é€’å¢æ–° keys çš„ç‰ˆæœ¬å·ï¼›</li>
<li>ä¿®æ”¹æ¯”è¾ƒå™¨å‡½æ•°ä»¥è®©å…¶é€šè¿‡åˆ¤æ–­ç‰ˆæœ¬å·æ¥å†³å®šå¦‚ä½•è¿›è¡Œæ’åºï¼›</li>
</ul>
<br>

<h3 id="è¿‡æ»¤å™¨ï¼ˆFilterï¼‰"><a href="#è¿‡æ»¤å™¨ï¼ˆFilterï¼‰" class="headerlink" title="è¿‡æ»¤å™¨ï¼ˆFilterï¼‰"></a><strong>è¿‡æ»¤å™¨ï¼ˆFilterï¼‰</strong></h3><p>è€ƒè™‘åˆ° LevelDB æ•°æ®åœ¨ç£ç›˜ä¸Šçš„ç»„ç»‡å½¢å¼ï¼Œä¸€æ¬¡ <code>Get</code> è°ƒç”¨å¯èƒ½æ¶‰åŠå¤šæ¬¡ç£ç›˜çš„ IO æ“ä½œï¼Œå› æ­¤å¯ä»¥é…ç½® FilterPolicy æ¥å¤§å¹…å‡å°‘ç£ç›˜è¯»æ¬¡æ•°ï¼›</p>
<p>ä¾‹å¦‚ï¼Œå¯ç”¨ BloomFilterï¼š</p>
<pre><code class="c++">leveldb::Options options;
// è®¾ç½®å¯ç”¨åŸºäºå¸ƒéš†è¿‡æ»¤å™¨çš„è¿‡æ»¤ç­–ç•¥
options.filter_policy = NewBloomFilterPolicy(10);
leveldb::DB* db;
// ç”¨è¯¥è®¾ç½®æ‰“å¼€æ•°æ®åº“
leveldb::DB::Open(options, &quot;/tmp/test_db&quot;, &amp;db);
... use the database ...
delete db;
delete options.filter_policy;</code></pre>
<p>ä¸Šé¢çš„ä»£ç å°†ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨çš„è¿‡æ»¤ç­–ç•¥ä¸æ•°æ®åº“è¿›è¡Œäº†å…³è”ï¼Œ<font color="#f00"><strong>å¦‚æœæ•°æ®é›†æ— æ³•å…¨éƒ¨æ”¾å…¥å†…å­˜åŒæ—¶åˆå­˜åœ¨å¤§é‡éšæœºè¯»çš„åº”ç”¨åº”å½“è®¾ç½®ä¸€ä¸ªè¿‡æ»¤å™¨ç­–ç•¥ï¼</strong></font></p>
<blockquote>
<p>  <strong>åŸºäºå¸ƒéš†è¿‡æ»¤å™¨çš„è¿‡æ»¤æ–¹å¼ä¾èµ–äºå¦‚ä¸‹äº‹å®ï¼š</strong></p>
<p>  åœ¨å†…å­˜ä¸­ä¿å­˜æ¯ä¸ª key çš„éƒ¨åˆ†ä½ï¼ˆåœ¨ä¸Šé¢ä¾‹å­ä¸­æ˜¯ 10 ä½ï¼Œå› ä¸ºæˆ‘ä»¬ä¼ ç»™ <code>NewBloomFilterPolicy</code> çš„å‚æ•°æ˜¯ 10ï¼‰ï¼Œè¿™ä¸ªè¿‡æ»¤å™¨å°†ä¼šä½¿å¾— Get() è°ƒç”¨ä¸­éå¿…é¡»çš„ç£ç›˜è¯»æ“ä½œå¤§çº¦å‡å°‘ 100 å€ï¼Œæ¯ä¸ª key ç”¨äºè¿‡æ»¤å™¨çš„ä½æ•°å¢åŠ å°†ä¼šè¿›ä¸€æ­¥å‡å°‘è¯»ç£ç›˜æ¬¡æ•°ï¼Œå½“ç„¶ä¹Ÿä¼šå ç”¨æ›´å¤šå†…å­˜ç©ºé—´ï¼›</p>
</blockquote>
<br>

<p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼›</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<font color="#f00"><strong>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„æ¯”è¾ƒå™¨ï¼Œåˆ™åº”è¯¥ç¡®ä¿ä½ è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ç­–ç•¥ä¸ä½ çš„æ¯”è¾ƒå™¨é€»è¾‘ä¸Šå…¼å®¹ï¼›</strong></font></p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœä¸€ä¸ªæ¯”è¾ƒå™¨åœ¨æ¯”è¾ƒ key çš„æ—¶å€™å¿½ç•¥ç»“å°¾çš„ç©ºæ ¼ï¼Œé‚£ä¹ˆ <code>NewBloomFilterPolicy</code> ä¸€å®šä¸èƒ½ä¸æ­¤æ¯”è¾ƒå™¨å…±å­˜ï¼›ç›¸åï¼Œåº”è¯¥æä¾›ä¸€ä¸ªè‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ç­–ç•¥ï¼Œè€Œä¸”å®ƒä¹Ÿåº”è¯¥å¿½ç•¥ key çš„å°¾éƒ¨ç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="c++">class CustomFilterPolicy : public leveldb::FilterPolicy {
  public:
  explicit CustomFilterPolicy(int i)
    : builtin_policy_(leveldb::NewBloomFilterPolicy(i)) {}
  ~CustomFilterPolicy() override { delete builtin_policy_; }

  const char* Name() const override { return &quot;IgnoreTrailingSpacesFilter&quot;; }

  void CreateFilter(const leveldb::Slice* keys, int n,
                    std::string* dst) const override {
    // Use builtin bloom filter code after removing trailing spaces
    std::vector&lt;leveldb::Slice&gt; trimmed(n);
    int i;
    for (i = 0; i &lt; n; i++) {
      trimmed[i] = RemoveTrailingSpaces(keys[i]);
    }
    return builtin_policy_-&gt;CreateFilter(&amp;trimmed[i], n, dst);
  }

  bool KeyMayMatch(const leveldb::Slice&amp; key,
                   const leveldb::Slice&amp; filter) const override {
    // Use builtin bloom filter code after removing trailing spaces
    return builtin_policy_-&gt;KeyMayMatch(RemoveTrailingSpaces(key), filter);
  }

  private:
  static leveldb::Slice RemoveTrailingSpaces(leveldb::Slice s) {
    std::string str = s.ToString();
    const auto strBegin = str.find_first_not_of(&#39; &#39;);
    if (strBegin == std::string::npos) return &quot;&quot;;  // no content

    const auto strEnd = str.find_last_not_of(&#39; &#39;);
    const auto strRange = strEnd - strBegin + 1;

    return str.substr(strBegin, strRange);
  }

  private:
  const FilterPolicy* builtin_policy_;
};</code></pre>
<p>ä¸Šé¢çš„è‡ªå®šä¹‰è¿‡æ»¤å™¨å»é™¤äº†å‰åçš„ç©ºæ ¼ä¹‹åï¼Œå†ä½¿ç”¨ BloomFilter è¿›è¡ŒåŒ¹é…ï¼›</p>
<p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, Filter) {
  leveldb::DB* db;
  leveldb::Options options;
  CustomFilterPolicy filter(100);
  options.create_if_missing = true;
  options.filter_policy = &amp;filter;
  leveldb::Status status = leveldb::DB::Open(options, &quot;/tmp/filter-demo&quot;, &amp;db);
  ASSERT_TRUE(status.ok());

  // populate the database
  leveldb::Slice key1 = &quot;hello&quot;;
  leveldb::Slice key2 = &quot; hello&quot;;
  leveldb::Slice key3 = &quot;hello &quot;;
  leveldb::Slice key4 = &quot; hello &quot;;
  std::string val1 = &quot;one&quot;;
  std::string val2 = &quot;two&quot;;
  std::string val3 = &quot;three&quot;;
  std::string val4 = &quot;four&quot;;
  db-&gt;Put(leveldb::WriteOptions(), key1, val1);
  db-&gt;Put(leveldb::WriteOptions(), key2, val2);
  db-&gt;Put(leveldb::WriteOptions(), key3, val3);
  db-&gt;Put(leveldb::WriteOptions(), key4, val4);

  // iterate the database
  leveldb::Iterator* it = db-&gt;NewIterator(leveldb::ReadOptions());
  for (it-&gt;SeekToFirst(); it-&gt;Valid(); it-&gt;Next()) {
    std::cout &lt;&lt; it-&gt;key().ToString() &lt;&lt; &quot;: &quot; &lt;&lt; it-&gt;value().ToString()
              &lt;&lt; std::endl;
  }
  // hello: two
  // hello : four
  // hello: one
  // hello : three
  delete it;

  delete db;
}</code></pre>
<p>å½“ç„¶ä¹Ÿå¯ä»¥æä¾›éåŸºäºå¸ƒéš†è¿‡æ»¤å™¨çš„è¿‡æ»¤å™¨ç­–ç•¥ï¼Œå…·ä½“è§ <code>leveldb/filter_policy.h</code>ï¼›</p>
<br>

<h2 id="å…¶ä»–å†…å®¹"><a href="#å…¶ä»–å†…å®¹" class="headerlink" title="å…¶ä»–å†…å®¹"></a><strong>å…¶ä»–å†…å®¹</strong></h2><h3 id="Slice"><a href="#Slice" class="headerlink" title="Slice"></a><strong>Slice</strong></h3><p>å¯¹äºè¿­ä»£å™¨è€Œè¨€ï¼Œ<code>it-&gt;key()</code> å’Œ <code>it-&gt;value()</code> è°ƒç”¨è¿”å›çš„å€¼æ˜¯ <code>leveldb::Slice</code> ç±»å‹ï¼›</p>
<p>ç†Ÿæ‚‰ Go çš„åŒå­¦åº”è¯¥å¯¹ Slice ä¸é™Œç”Ÿï¼šSlice æ˜¯ä¸€ä¸ªç®€å•çš„æ•°æ®ç»“æ„ï¼ŒåŒ…å«ä¸€ä¸ªé•¿åº¦å’Œä¸€ä¸ªæŒ‡å‘å¤–éƒ¨å­—èŠ‚æ•°ç»„çš„æŒ‡é’ˆï¼Œ<font color="#f00"><strong>è¿”å›ä¸€ä¸ª Slice æ¯”ç›´æ¥è¿”å›ä¸€ä¸ª <code>std::string</code> æ›´é«˜æ•ˆï¼Œå› ä¸ºä¸éœ€è¦éšå¼åœ°æ‹·è´å¤§é‡çš„ keys å’Œ valuesï¼›</strong></font></p>
<p><font color="#f00"><strong>å¦å¤–ï¼ŒLevelDB ä¸­çš„æ–¹æ³•ä¸ä¼šè¿”å›ä»¥ <code>\0</code> ç»“å°¾çš„ C é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œå› ä¸º LevelDB ä¸­çš„ keys å’Œ values å…è®¸åŒ…å« <code>\0</code> ï¼›</strong></font></p>
<p>C++ é£æ ¼çš„ string å’Œ C é£æ ¼ <code>\0</code> ç»“å°¾çš„å­—ç¬¦ä¸²éƒ½å¯ä»¥å¾ˆå®¹æ˜“åœ°è½¬æ¢ä¸ºä¸€ä¸ª Sliceï¼š</p>
<pre><code class="c++">leveldb::Slice s1 = &quot;hello&quot;;

std::string str(&quot;world&quot;);
leveldb::Slice s2 = str;</code></pre>
<p>ä¸€ä¸ª Slice ä¹Ÿå¾ˆå®¹æ˜“è½¬æ¢å› C++ é£æ ¼çš„å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="c++">std::string str = s1.ToString();
assert(str == std::string(&quot;hello&quot;));</code></pre>
<p>ä½†æ˜¯ï¼Œåœ¨ä½¿ç”¨ Slice æ—¶è¦å°å¿ƒï¼š<font color="#f00"><strong>è¦ç”±è°ƒç”¨è€…æ¥ç¡®ä¿ Slice æŒ‡å‘çš„å¤–éƒ¨å­—èŠ‚æ•°ç»„çš„æœ‰æ•ˆæ€§ï¼›</strong></font></p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç å°±æœ‰ bug ï¼š</p>
<pre><code class="c++">leveldb::Slice slice;
if (...) {
  std::string str = ...;
  slice = str;
}
Use(slice);</code></pre>
<p><strong>å½“ if è¯­å¥ç»“æŸçš„æ—¶å€™ï¼Œstr å°†ä¼šè¢«é”€æ¯ï¼ŒSlice çš„æŒ‡å‘ä¹Ÿéšä¹‹æ¶ˆå¤±ï¼Œåé¢å†ç”¨å°±ä¼šå‡ºé—®é¢˜ï¼</strong></p>
<br>

<h3 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a><strong>å¹¶å‘</strong></h3><p><font color="#f00"><strong>å¯¹äº LevelDB æ¥è¯´ï¼Œä¸€ä¸ªæ•°æ®åº“åŒæ—¶åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹æ‰“å¼€ï¼šLevelDB ä¼šä»æ“ä½œç³»ç»Ÿè·å–ä¸€æŠŠé”æ¥é˜²æ­¢å¤šè¿›ç¨‹åŒæ—¶æ‰“å¼€åŒä¸€ä¸ªæ•°æ®åº“ï¼›</strong></font></p>
<p><font color="#f00">åœ¨å•ä¸ªè¿›ç¨‹ä¸­ï¼ŒåŒä¸€ä¸ª leveldb::DB å¯¹è±¡åˆ™å¯ä»¥è¢«å¤šä¸ªå¹¶å‘çº¿ç¨‹å®‰å…¨åœ°ä½¿ç”¨ï¼Œä¸åŒçš„çº¿ç¨‹å¯ä»¥åœ¨<strong>ä¸éœ€è¦ä»»ä½•å¤–éƒ¨åŒæ­¥åŸè¯­</strong>çš„æƒ…å†µä¸‹ï¼Œå†™å…¥ã€è·å–è¿­ä»£å™¨æˆ–è€…è°ƒç”¨ <code>Get</code>ï¼ˆleveldb å®ç°ä¼šç¡®ä¿æ‰€éœ€çš„åŒæ­¥ï¼‰ï¼›</font></p>
<p><strong>ä½†æ˜¯å…¶å®ƒå¯¹è±¡ï¼Œæ¯”å¦‚ <code>Iterator</code> æˆ–è€… <code>WriteBatch</code> åˆ™éœ€è¦å¤–éƒ¨è‡ªå·±æä¾›åŒæ­¥ä¿è¯ï¼Œå¦‚æœä¸¤ä¸ªçº¿ç¨‹å…±äº«æ­¤ç±»å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨è‡ªå·±çš„é”è¿›è¡Œäº’æ–¥è®¿é—®ï¼›</strong></p>
<br>

<h3 id="æ€§èƒ½è°ƒä¼˜"><a href="#æ€§èƒ½è°ƒä¼˜" class="headerlink" title="æ€§èƒ½è°ƒä¼˜"></a><strong>æ€§èƒ½è°ƒä¼˜</strong></h3><p>LevelDB æä¾›äº†å„ç§è¿è¡Œå‚æ•°ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ <code>include/leveldb/options.h</code> ä¸­å®šä¹‰çš„ç±»å‹çš„é»˜è®¤å€¼æ¥å¯¹ LevelDB çš„æ€§èƒ½è¿›è¡Œè°ƒä¼˜ï¼›</p>
<h4 id="Block-å¤§å°"><a href="#Block-å¤§å°" class="headerlink" title="Block å¤§å°"></a><strong>Block å¤§å°</strong></h4><p>LevelDB æŠŠç›¸é‚»çš„ keys ç»„ç»‡åœ¨åŒä¸€ä¸ª block ä¸­ï¼ˆå…·ä½“è§åç»­ç³»åˆ—æ–‡ç« å¯¹ sstable æ–‡ä»¶æ ¼å¼çš„æè¿°ï¼‰ï¼Œblock æ˜¯æ•°æ®åœ¨å†…å­˜å’ŒæŒä¹…åŒ–å­˜å‚¨ä¹‹é—´ä¼ è¾“çš„åŸºæœ¬å•ä½ï¼›</p>
<p><strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œæœªå‹ç¼©çš„ block å¤§å°å¤§çº¦ä¸º 4KBï¼Œè€Œå¯¹äºï¼š</strong></p>
<ul>
<li><strong>ç»å¸¸éœ€è¦æ‰¹é‡æ‰«æå¤§é‡æ•°æ®çš„åº”ç”¨å¯ä»¥æŠŠè¿™ä¸ªå€¼è°ƒå¤§ï¼›</strong></li>
<li><strong>é’ˆå¯¹åªåšâ€œå•ç‚¹è¯»â€çš„åº”ç”¨åˆ™å¯ä»¥å°†è¿™ä¸ªå€¼è°ƒå°ä¸€äº›ï¼›</strong></li>
</ul>
<p><strong>ä½†æ˜¯ï¼Œæ²¡æœ‰è¯æ®è¡¨æ˜è¯¥å€¼å°äº 1KB æˆ–è€…å¤§äºå‡ ä¸ª MB çš„æ—¶å€™æ€§èƒ½ä¼šè¡¨ç°å¾—æ›´å¥½ï¼›</strong></p>
<p><font color="#f00"><strong>å¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼šä½¿ç”¨è¾ƒå¤§çš„ block sizeï¼Œå‹ç¼©æ•ˆç‡ä¼šæ›´é«˜æ•ˆï¼›</strong></font></p>
<br>

<h4 id="å…³é—­å‹ç¼©"><a href="#å…³é—­å‹ç¼©" class="headerlink" title="å…³é—­å‹ç¼©"></a><strong>å…³é—­å‹ç¼©</strong></h4><p><font color="#f00"><strong>æ¯ä¸€å— block åœ¨å†™å…¥æŒä¹…åŒ–å­˜å‚¨ä¹‹å‰éƒ½ä¼šè¢«å•ç‹¬å‹ç¼©ï¼›</strong></font></p>
<p><strong>å‹ç¼©é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œå› ä¸ºé»˜è®¤çš„å‹ç¼©ç®—æ³•éå¸¸å¿«ï¼Œä¸”å¯¹äºä¸å¯å‹ç¼©çš„æ•°æ®ä¼šè‡ªåŠ¨å…³é—­å‹ç¼©åŠŸèƒ½ï¼Œæå°‘æœ‰åœºæ™¯ä¼šéœ€è¦å®Œå…¨å…³é—­å‹ç¼©åŠŸèƒ½ï¼Œé™¤éåŸºå‡†æµ‹è¯•æ˜¾ç¤ºå…³é—­å‹ç¼©ä¼šæ˜¾è‘—æ”¹å–„æ€§èƒ½ï¼›</strong></p>
<p>æ­¤æ—¶å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼å…³é—­å‹ç¼©åŠŸèƒ½ï¼š</p>
<pre><code class="c++">leveldb::Options options;
options.compression = leveldb::kNoCompression;
... leveldb::DB::Open(options, name, ...) ....</code></pre>
<br>

<h4 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a><strong>ç¼“å­˜</strong></h4><p>æ•°æ®åº“çš„å†…å®¹å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ç»„æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½å­˜å‚¨äº†ä¸€ç³»åˆ—å‹ç¼©åçš„ blocksï¼Œå¦‚æœ <code>options.block_cache</code> ä¸æ˜¯ NULLï¼Œåˆ™å¯ä»¥ç¼“å­˜ç»å¸¸ä½¿ç”¨çš„å·²è§£å‹ç¼© block å†…å®¹ï¼š</p>
<pre><code class="c++">#include &quot;leveldb/cache.h&quot;

leveldb::Options options;
options.block_cache = leveldb::NewLRUCache(100 * 1048576);  // 100MB cache
leveldb::DB* db;
leveldb::DB::Open(options, name, &amp;db);
... use the db ...
delete db
delete options.block_cache;</code></pre>
<p><font color="#f00"><strong>æ³¨æ„ï¼šåœ¨ cache ä¸­ä¿å­˜çš„æ˜¯æœªå‹ç¼©çš„æ•°æ®ï¼Œå› æ­¤åº”è¯¥æ ¹æ®åº”ç”¨æ‰€éœ€æ•°æ®å¤§å°æ¥è®¾ç½®å®ƒçš„å¤§å°</strong></font>ï¼ˆå·²å‹ç¼©æ•°æ®çš„ç¼“å­˜å·¥ä½œæ˜¯ç”±æ“ä½œç³»ç»Ÿçš„ buffer cache æˆ–è€…ç”¨æˆ·è‡ªå®šä¹‰ <code>Env</code> å®ç°å®Œæˆï¼‰ï¼›</p>
<p><font color="#f00"><strong>å½“æ‰§è¡Œä¸€ä¸ªå¤§å—æ•°æ®è¯»æ“ä½œæ—¶ï¼Œåº”ç”¨ç¨‹åºå¯èƒ½æƒ³è¦å–æ¶ˆç¼“å­˜åŠŸèƒ½ï¼šæ­¤æ—¶ï¼Œè¯»è¿›æ¥çš„å¤§å—æ•°æ®å°±ä¸ä¼šå¯¼è‡´å½“å‰ cache ä¸­çš„å¤§éƒ¨åˆ†æ•°æ®è¢«æ›¿æ¢å‡ºå»ï¼›</strong></font></p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªå•ç‹¬çš„ iterator æ¥è¾¾åˆ°è¯¥ç›®çš„ï¼š</p>
<pre><code class="c++">leveldb::ReadOptions options;
options.fill_cache = false;
leveldb::Iterator* it = db-&gt;NewIterator(options);
for (it-&gt;SeekToFirst(); it-&gt;Valid(); it-&gt;Next()) {
  ...
}</code></pre>
<br>

<h4 id="Key-çš„å¸ƒå±€"><a href="#Key-çš„å¸ƒå±€" class="headerlink" title="Key çš„å¸ƒå±€"></a><strong>Key çš„å¸ƒå±€</strong></h4><p>å‰é¢è¯´è¿‡ï¼Œç£ç›˜ä¼ è¾“å’Œç¼“å­˜çš„åŸºæœ¬å•ä½éƒ½æ˜¯ä¸€ä¸ª blockï¼›è€Œå¯¹äº key çš„æ’åˆ—è€Œè¨€ï¼Œç›¸é‚»çš„ keysï¼ˆå·²æ’åºï¼‰æ€»æ˜¯åœ¨åŒä¸€ä¸ª block ä¸­ï¼›</p>
<p>å› æ­¤ï¼Œåº”ç”¨å¯ä»¥é€šè¿‡å°†éœ€è¦ä¸€èµ·è®¿é—®çš„ keys æ”¾åœ¨ä¸€èµ·ï¼ŒåŒæ—¶æŠŠä¸ç»å¸¸ä½¿ç”¨çš„ keys æ”¾åˆ°ä¸€ä¸ªç‹¬ç«‹çš„é”®ç©ºé—´åŒºåŸŸæ¥æå‡æ€§èƒ½ï¼›</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æ­£åŸºäº LevelDB æ¥å®ç°ä¸€ä¸ªç®€å•çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œå­˜å‚¨åˆ°è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š</p>
<pre><code class="rust">filename -&gt; permission-bits, length, list of file_block_ids
file_block_id -&gt; data</code></pre>
<p>åˆ™å¯ä»¥<strong>ç»™ä¸Šé¢è¡¨ç¤º filename çš„ key å¢åŠ ä¸€ä¸ªå­—ç¬¦å‰ç¼€ï¼Œä¾‹å¦‚ <code>&#39;/&#39;</code>ï¼Œç„¶åç»™è¡¨ç¤º file_block_id çš„ key å¢åŠ å¦ä¸€ä¸ªä¸åŒçš„å‰ç¼€ï¼Œä¾‹å¦‚ <code>&#39;0&#39;</code>ï¼›</strong></p>
<p>è¿™æ ·ï¼Œè¿™äº›ä¸åŒç”¨é€”çš„ key å°±å…·æœ‰äº†å„è‡ªç‹¬ç«‹çš„é”®ç©ºé—´ï¼Œæ‰«æå…ƒæ•°æ®æ—¶å°±ä¸ç”¨è¯»å–å’Œç¼“å­˜å¤§å—æ–‡ä»¶å†…å®¹æ•°æ®äº†ï¼›</p>
<br>

<h3 id="æ ¡éªŒå’Œï¼ˆChecksumï¼‰"><a href="#æ ¡éªŒå’Œï¼ˆChecksumï¼‰" class="headerlink" title="æ ¡éªŒå’Œï¼ˆChecksumï¼‰"></a><strong>æ ¡éªŒå’Œï¼ˆChecksumï¼‰</strong></h3><p>LevelDB å°†æ ¡éªŒå’Œå’Œå®ƒå­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®è¿›è¡Œå…³è”ï¼Œå¯¹äºè¿™äº›æ ¡éªŒå’Œï¼Œæœ‰ä¸¤ä¸ªç‹¬ç«‹çš„æ§åˆ¶ï¼š</p>
<ul>
<li><code>ReadOptions::verify_checksums</code>ï¼šå¯ä»¥è®¾ç½®ä¸º trueï¼Œä»¥<strong>å¼ºåˆ¶å¯¹æ‰€æœ‰ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–çš„æ•°æ®è¿›è¡Œæ ¡éªŒï¼›</strong>é»˜è®¤ä¸º falseï¼Œå³ä¸ä¼šè¿›è¡Œè¿™æ ·çš„æ ¡éªŒï¼›</li>
<li><code>Options::paranoid_checks</code>ï¼šåœ¨æ•°æ®åº“æ‰“å¼€ä¹‹å‰è®¾ç½®ä¸º true ï¼Œä»¥ä½¿å¾—<strong>ä¸€æ—¦æ•°æ®åº“æ£€æµ‹åˆ°æ•°æ®æŸæ¯åˆ™ç«‹å³æŠ¥é”™é€€å‡º</strong>ï¼›è¯¥é…ç½®é»˜è®¤æ˜¯å…³é—­ï¼Œå³æŒä¹…åŒ–å­˜å‚¨åœ¨éƒ¨åˆ†æŸåæ—¶æ•°æ®åº“ä¹Ÿèƒ½ç»§ç»­ä½¿ç”¨ï¼›</li>
</ul>
<p><font color="#f00"><strong>æ³¨ï¼šå¦‚æœæ•°æ®åº“æŸåäº†ï¼ˆå½“å¼€å¯ Options::paranoid_checks çš„æ—¶å€™å¯èƒ½å°±æ‰“ä¸å¼€äº†ï¼‰ï¼Œ<code>leveldb::RepairDB()</code> å‡½æ•°å¯ä»¥ç”¨äºå¯¹å°½å¯èƒ½å¤šçš„æ•°æ®è¿›è¡Œä¿®å¤ï¼›</strong></font></p>
<br>

<h3 id="è¿‘ä¼¼ç©ºé—´å¤§å°"><a href="#è¿‘ä¼¼ç©ºé—´å¤§å°" class="headerlink" title="è¿‘ä¼¼ç©ºé—´å¤§å°"></a><strong>è¿‘ä¼¼ç©ºé—´å¤§å°</strong></h3><p><code>GetApproximateSizes</code> æ–¹æ³•ç”¨äºè·å–ä¸€ä¸ªæˆ–å¤šä¸ªé”®åŒºé—´å æ®çš„æ–‡ä»¶ç³»ç»Ÿè¿‘ä¼¼å¤§å°ï¼ˆå•ä½, å­—èŠ‚ï¼‰ï¼›</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="c++">TEST(LevelDBDemo, GetApproximateSizes) {
  leveldb::DB* db = init_db(get_options());

  // GetApproximateSizes
  leveldb::Range ranges[2];
  ranges[0] = leveldb::Range(&quot;a&quot;, &quot;c&quot;);
  ranges[1] = leveldb::Range(&quot;x&quot;, &quot;z&quot;);
  uint64_t sizes[2];
  db-&gt;GetApproximateSizes(ranges, 2, sizes);

  std::cout &lt;&lt; &quot;sizes[0]: &quot; &lt;&lt; sizes[0] &lt;&lt; &quot;, sizes[1]: &quot; &lt;&lt; sizes[1]
            &lt;&lt; std::endl;

  delete db;
}</code></pre>
<p>ä¸Šè¿°ä»£ç ç»“æœæ˜¯ï¼Œ<code>size[0]</code> ä¿å­˜ <code>[a..c)</code> åŒºé—´å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿå¤§è‡´å­—èŠ‚æ•°ã€‚<code>size[1]</code> ä¿å­˜ <code>[x..z)</code> é”®åŒºé—´å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿå¤§è‡´å­—èŠ‚æ•°ï¼›</p>
<br>

<h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a><strong>ç¯å¢ƒå˜é‡</strong></h3><p><font color="#f00"><strong>ç”± LevelDB å‘èµ·çš„å…¨éƒ¨æ–‡ä»¶æ“ä½œä»¥åŠå¯¹åº”çš„æ“ä½œç³»ç»Ÿè°ƒç”¨ï¼Œæœ€åéƒ½ä¼šè¢«è·¯ç”±ç»™ä¸€ä¸ª <code>leveldb::Env</code> å¯¹è±¡ï¼›</strong></font></p>
<p>åº“ä½¿ç”¨è€…ä¹Ÿå¯ä»¥æä¾›è‡ªå·±çš„ Env å®ç°ä»¥è¾¾åˆ°æ›´å¥½çš„æ§åˆ¶ï¼›</p>
<p>æ¯”å¦‚ï¼šå¦‚æœåº”ç”¨ç¨‹åºæƒ³è¦é’ˆå¯¹ LevelDB çš„æ–‡ä»¶ IO å¼•å…¥ä¸€ä¸ªäººå·¥å»¶è¿Ÿä»¥é™åˆ¶ LevelDB å¯¹åŒä¸€ç³»ç»Ÿä¸­å…¶å®ƒåº”ç”¨çš„å½±å“ï¼š</p>
<pre><code class="c++">// å®šåˆ¶è‡ªå·±çš„ Env 
class SlowEnv : public leveldb::Env {
  ... implementation of the Env interface ...
};

SlowEnv env;
leveldb::Options options;
// ç”¨å®šåˆ¶çš„ Env æ‰“å¼€æ•°æ®åº“
options.env = &amp;env;
Status s = leveldb::DB::Open(options, ...);</code></pre>
<br>

<h3 id="å¯ç§»æ¤"><a href="#å¯ç§»æ¤" class="headerlink" title="å¯ç§»æ¤"></a><strong>å¯ç§»æ¤</strong></h3><p>å¦‚æœæŸä¸ªç‰¹å®šå¹³å°æä¾› <code>leveldb/port/port.h</code> å¯¼å‡ºçš„ç±»å‹/æ–¹æ³•/å‡½æ•°å®ç°ï¼Œé‚£ä¹ˆ LevelDB å¯ä»¥è¢«ç§»æ¤åˆ°è¯¥å¹³å°ä¸Šï¼Œæ›´å¤šç»†èŠ‚è§ <code>leveldb/port/port_example.h</code>ï¼›</p>
<p>å¦å¤–ï¼Œæ–°å¹³å°å¯èƒ½è¿˜éœ€è¦ä¸€ä¸ªæ–°çš„é»˜è®¤çš„ leveldb::Env å®ç°ã€‚å…·ä½“å¯å‚è€ƒ <code>leveldb/util/env_posix.h</code> å®ç°ï¼›</p>
<br>

<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a><strong>é™„å½•</strong></h1><p>æºä»£ç ï¼š</p>
<ul>
<li><a href="https://github.com/JasonkayZK/leveldb" target="_blank" rel="noopener">https://github.com/JasonkayZK/leveldb</a></li>
</ul>
<p>å‚è€ƒæ–‡ç« ï¼›</p>
<ul>
<li><a href="https://juejin.cn/post/6901257330524946445" target="_blank" rel="noopener">https://juejin.cn/post/6901257330524946445</a></li>
<li><a href="https://github.com/google/leveldb/issues/1074" target="_blank" rel="noopener">https://github.com/google/leveldb/issues/1074</a></li>
<li><a href="https://leveldb-handbook.readthedocs.io/zh/latest/index.html" target="_blank" rel="noopener">https://leveldb-handbook.readthedocs.io/zh/latest/index.html</a></li>
<li><a href="https://yuerblog.cc/wp-content/uploads/leveldb%E5%AE%9E%E7%8E%B0%E8%A7%A3%E6%9E%90.pdf" target="_blank" rel="noopener">https://yuerblog.cc/wp-content/uploads/leveldb%E5%AE%9E%E7%8E%B0%E8%A7%A3%E6%9E%90.pdf</a></li>
<li><a href="https://github.com/balloonwj/CppGuide/blob/master/articles/leveldb%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/leveldb%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%901.md" target="_blank" rel="noopener">https://github.com/balloonwj/CppGuide/blob/master/articles/leveldb%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/leveldb%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%901.md</a></li>
</ul>
<br>

  </article>

  <div id="like-container" style="text-align: center">
    <div class="like-feed">
      <p>è§‰å¾—æœ¬æ–‡ä¸é”™å°±ç‚¹ä¸ª<span>â™¥</span>å†èµ°å§~</p>
      <div class="like-img">
        <div class="like-heart" id="like" rel="like"></div>
        <div class="like-count" id="like-count"></div>
      </div>
    </div>
  </div>

  <!-- æ–‡ç« åˆ†äº« -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
  <div class="social-share" data-mode="prepend" data-disabled="tencent,diandian"></div>
  <br>

  
  
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>æœ¬æ–‡ä½œè€…ï¼š</strong>Jasonkay<br>
<strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://jasonkayzk.github.io/2022/12/09/LevelDBä½¿ç”¨ç¤ºä¾‹/" title="https://jasonkayzk.github.io/2022/12/09/LevelDBä½¿ç”¨ç¤ºä¾‹/" target="_blank" rel="noopener">https://jasonkayzk.github.io/2022/12/09/LevelDBä½¿ç”¨ç¤ºä¾‹/</a><br>

  <strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬æ–‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> åè®®è¿›è¡Œè®¸å¯

</div>


  

  <!-- å¢åŠ é¢è¯•ç‚¹å‡»æ ‡é¢˜æ‰æ˜¾ç¤ºç­”æ¡ˆç­‰æ•ˆæœ! -->
  <!-- <script type="text/javascript">
    $(".question").click(function () {
      var a = $(".answer").eq($(".question").index(this));
      a.is(".answer_shown") ? a.animate({ 'opacity': '1' }, 800).removeClass("answer_shown") : a.animate({ 'opacity': '0' }, 800).addClass("answer_shown");
    });
  </script> -->
  <!-- <style>
    .answer_shown {
      opacity: 0;
    }
  </style> -->

  <!-- åŠ è½½åšå®¢ç‚¹èµåŠŸèƒ½ -->
  <script>
    function ajax(options) {
      return new Promise(function (resolve, reject) {
        $.ajax(options).done(resolve).fail(reject);
      });
    }

    var docName = $('meta[property="og:title"]').attr('content');
    
    // è·³è¿‡localhost
    if (location.hostname !== 'localhost') {
      // åˆå§‹åŒ–
      ajax({
        url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
        type: 'post',
        contentType: 'application/json; charset=utf-8',
        data: JSON.stringify({
          "actionId": "get",
          "docName": docName
        })
      }).then(
        function fulfillHandler(data) {
          $('#like-count').text(data.likeNum);
        },
        function rejectHandler(jqXHR, textStatus, errorThrown) {
          $('#like-count').text(0);
          console.log(jqXHR, textStatus, errorThrown);
        }
      ).catch(function errorHandler(error) {
        $('#like-count').text(0);
        console.log(error);
      });

      $(document).ready(function () {
        $(".like-heart").on("click", function () {
          var heart = $(this);
          var likeCount = $("#like-count" + heart.attr("id").split("like")[1]);
          var intCount = parseInt(likeCount.html());
          var rel = heart.attr("rel");

          if (rel === "like") {
            likeCount.html(intCount + 1);
            heart.addClass("like-heartAnimation").attr("rel", "unlike");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "add",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          } else {
            likeCount.html(intCount - 1);
            heart.removeClass("like-heartAnimation").attr("rel", "like");
            heart.css("background-position", "left");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "subtract",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          }
        }).on("mouseleave", function () {
          $(this).css("background-position", "");
        });
      });
    }
  </script>
  <style>
    #like-container {
      margin: 0 auto;
      width: 100%;
    }

    .like-img {
      width: 200px;
      height: 100px;
      display: inline-block;
    }

    .like-heart {
      float: left;
      background: url(/images/web_heart_animation.png);
      background-position: left;
      background-repeat: no-repeat;
      height: 50px;
      width: 120px;
      left: -14px;
      background-size: 2900%;
    }

    .like-count {
      float: left;
      font-family: 'Georgia', Times, Times New Roman, serif;
      font-size: 35px;
      color: #999999;
      text-align: left;
      height: 50px;
      width: 50px;
      line-height: 44px;
    }

    .like-heart:hover,
    .like-heart:focus {
      background-position: right;
    }

    @-webkit-keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    @keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    .like-heartAnimation {
      display: inline-block;
      -webkit-animation-name: heartBlast;
      animation-name: heartBlast;
      -webkit-animation-duration: .8s;
      animation-duration: .8s;
      -webkit-animation-iteration-count: 1;
      animation-iteration-count: 1;
      -webkit-animation-timing-function: steps(28);
      animation-timing-function: steps(28);
      background-position: right;
    }

    .like-feed {
      height: 90px;
      margin-bottom: 20px;
      text-align: center
    }

    .like-feed p {
      font-family: 'microsoft yahei', 'Georgia';
      font-size: 25px;
    }

    .like-feed span {
      font-size: 30px;
      color: #D33115;
    }
  </style>

  <section class="nexmoe-comment">
    <div class="utterances"></div>
<style>
    .v .vwrap {
      border: 1px dashed #c4bfbf
    }
  
    .v .vwrap .vheader .vinput {
      border-bottom: 1px dashed #c4bfbf
    }
</style>
<script src="https://utteranc.es/client.js" repo="JasonkayZK/JasonkayZK.github.io" issue-term="title" label="commentâœ¨ğŸ’¬âœ¨" theme="github-light" crossorigin="anonymous" async>
</script>

</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?v=1770725312003"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>




  
    <!-- Google Analytics -->
<script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'G-1NWK4EEKDF', 'auto');
    ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>






    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5f5ec71a32c11ff54dff64d0341017b0";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<!-- 
<script type="text/javascript">
  !function (e, t, a) { function n() { c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), o(), r() } function r() { for (var e = 0; e < d.length; e++)d[e].alpha <= 0 ? (t.body.removeChild(d[e].el), d.splice(e, 1)) : (d[e].y--, d[e].scale += .004, d[e].alpha -= .013, d[e].el.style.cssText = "left:" + d[e].x + "px;top:" + d[e].y + "px;opacity:" + d[e].alpha + ";transform:scale(" + d[e].scale + "," + d[e].scale + ") rotate(45deg);background:" + d[e].color + ";z-index:99999"); requestAnimationFrame(r) } function o() { var t = "function" == typeof e.onclick && e.onclick; e.onclick = function (e) { t && t(), i(e) } } function i(e) { var a = t.createElement("div"); a.className = "heart", d.push({ el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: s() }), t.body.appendChild(a) } function c(e) { var a = t.createElement("style"); a.type = "text/css"; try { a.appendChild(t.createTextNode(e)) } catch (t) { a.styleSheet.cssText = e } t.getElementsByTagName("head")[0].appendChild(a) } function s() { return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")" } var d = []; e.requestAnimationFrame = function () { return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) { setTimeout(e, 1e3 / 60) } }(), n() }(window, document);
</script>
 -->
 
<script>
  // è¿›åº¦æ¡åŠ è½½: nprogress
  NProgress.start()
  NProgress.done()
</script>

<script type="text/javascript" defer>
  $(document).ready(function () {
    $.goup({
      trigger: 100,
      bottomOffset: 50,
      locationOffset: 50,
      title: '0%',
      titleAsText: true
    });
    $(".goup-container").css("background", "#64dcf0 none repeat scroll 0% 0%").css("opacity", 0.9);
    $(".goup-text").css("font-weight", 600).css("opacity", 0.9);
  });

  $(document).scroll(function () {
    var d_h = $(document).height();
    var c_h = $(window).height();
    var c_t_h = $(window).scrollTop();
    var schedule = c_t_h / (d_h - c_h - 0.5);
    var str = Number(schedule * 100).toFixed();
    str += "%";
    $(".goup-text").text(str);
  });
</script>

<!-- ç«™å†…é€šçŸ¥ -->
<script src="/js/notification.js"></script>
<script>
  'use strict';

  (function () {
    $(function () {
      $('.position').click(function (event) {
        var el = $(event.target);
        $('.position').removeClass('selected');
        el.addClass('selected');
        position = el.attr('data-position');
      });
    });
  });

  var position = 2;
  // å…³é—­ç™¾æ¯«ç§’æ•°
  var closeTime = 50;
  var notifyFunc = function () {
    // Notification.create(
    //   //Â Title
    //   "Tencentå†…æ¨ä¸­ğŸ“§",
    //   //Â Text
    //   "ç®€å†æŠ•é€’å¤„ï¼š<BR/><a href='/hiring/'>ç®€å†æŠ•é€’</a>",
    //   //Â Illustration
    //   "/images/avatar4.jpg",
    //   //Â Effect
    //   'fadeInRight',
    //   //Â PositionÂ 1, 2,Â 3,Â 4
    //   position,
    //   closeTime
    // );
    // setTimeout(() => {
    //   Notification.create(
    //     "èµ„æºä¸‹è½½âš¡",
    //     "ä¼ é€é—¨ï¼š<BR/><a href='/sharing/'>æ–‡ä»¶åˆ†äº«</a>",
    //     "/images/avatar4.jpg",
    //     'fadeInRight',
    //     position,
    //     closeTime
    //   )
    // }, 350);
    setTimeout(() => {
      Notification.create(
        "RSSè®¢é˜…ğŸ“¢",
        "ä¼ é€é—¨ï¼š<BR/><a href='/atom.xml'>RSSè®¢é˜…</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 0);
    setTimeout(() => {
        Notification.create(
        "åœ¨çº¿ç¾¤èŠğŸ’­",
        "ä¼ é€é—¨ï¼š<BR/><a href='/chat/'>ç•…æ‰€æ¬²è¨€</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 350);
    setTimeout(() => {
        Notification.create(
        // "è·‘æ­¥å¥èº«ğŸƒ",
        // "ä¼ é€é—¨ï¼š<BR/><a href='/running/'>è·‘æ­¥å¥èº«</a>",
        "æ‘„å½±åˆ†äº«ğŸ“·",
        "ä¼ é€é—¨ï¼š<BR/><a href='http://159.75.131.252:32352/'>æ‘„å½±åˆ†äº«</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 700);
  };

  (function once() {
    if (sessionStorage.getItem('load') == null) {
      notifyFunc();
      sessionStorage.setItem('load', false);
    } else {
      return;
    }
  })();
</script>
<script>
  $(document).on("click", ".dismiss", function (e) {
    Notification.hide(e.currentTarget.classList[1].split('-')[1]);
  })
</script>

</html>