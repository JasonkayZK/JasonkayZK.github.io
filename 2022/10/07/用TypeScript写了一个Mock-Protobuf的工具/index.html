<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="/js/jquery.goup.min.js" defer></script>
  
  <title>Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock ProtobufÁöÑÂ∑•ÂÖ∑ - Âº†Â∞èÂáØÁöÑÂçöÂÆ¢</title>
  <meta charset="UTF-8">
  <meta name="description" content="Ë¨ôËôö„ÅØ‰∫∫„ÇíÈÄ≤Ê≠©„Åï„Åõ„ÄÅ„Åî„ÅÜ„Åæ„Çì„ÅØ‰∫∫„ÇíËêΩÂæå„Åï„Åõ„Çã„ÄÇÁ§æ‰ºö„ÅÆÂàùÂøÉËÄÖ„Åã„Çâ„ÄÅ„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„Åó„Åæ„ÅôÔºÅ">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png">
  <meta name="description" content="ÊúÄËøëÈÉ®Èó®Ë¶ÅÊêûAPIÂÖàË°åÔºåÂêéÁ´ØÂÆö‰πâÂ•ΩÊé•Âè£‰πãÂêéÂ∞±Ë¶ÅÁªôÂâçÁ´ØMockÂ•ΩÊï∞ÊçÆ„ÄÇÂú®ÁΩë‰∏äÊâæ‰∫ÜÂÖ≥‰∫éProtobufËΩ¨JSONÁöÑÂ∑•ÂÖ∑ÔºåÈÉΩÊ≤°ÊúâÊâæÂà∞„ÄÇÊâÄ‰ª•Ëá™Â∑±ÂÜô‰∫Ü‰∏Ä‰∏™„ÄÇ">
<meta name="keywords" content="Â∑•ÂÖ∑ÂàÜ‰∫´,Protobuf,TypeScript">
<meta property="og:type" content="article">
<meta property="og:title" content="Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock ProtobufÁöÑÂ∑•ÂÖ∑">
<meta property="og:url" content="https://jasonkayzk.github.io/2022/10/07/Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock-ProtobufÁöÑÂ∑•ÂÖ∑/index.html">
<meta property="og:site_name" content="Âº†Â∞èÂáØÁöÑÂçöÂÆ¢">
<meta property="og:description" content="ÊúÄËøëÈÉ®Èó®Ë¶ÅÊêûAPIÂÖàË°åÔºåÂêéÁ´ØÂÆö‰πâÂ•ΩÊé•Âè£‰πãÂêéÂ∞±Ë¶ÅÁªôÂâçÁ´ØMockÂ•ΩÊï∞ÊçÆ„ÄÇÂú®ÁΩë‰∏äÊâæ‰∫ÜÂÖ≥‰∫éProtobufËΩ¨JSONÁöÑÂ∑•ÂÖ∑ÔºåÈÉΩÊ≤°ÊúâÊâæÂà∞„ÄÇÊâÄ‰ª•Ëá™Â∑±ÂÜô‰∫Ü‰∏Ä‰∏™„ÄÇ">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2025-07-30T10:34:36.223Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock ProtobufÁöÑÂ∑•ÂÖ∑">
<meta name="twitter:description" content="ÊúÄËøëÈÉ®Èó®Ë¶ÅÊêûAPIÂÖàË°åÔºåÂêéÁ´ØÂÆö‰πâÂ•ΩÊé•Âè£‰πãÂêéÂ∞±Ë¶ÅÁªôÂâçÁ´ØMockÂ•ΩÊï∞ÊçÆ„ÄÇÂú®ÁΩë‰∏äÊâæ‰∫ÜÂÖ≥‰∫éProtobufËΩ¨JSONÁöÑÂ∑•ÂÖ∑ÔºåÈÉΩÊ≤°ÊúâÊâæÂà∞„ÄÇÊâÄ‰ª•Ëá™Â∑±ÂÜô‰∫Ü‰∏Ä‰∏™„ÄÇ">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.16.2/styles/atom-one-dark.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1753871720597">

  <!-- ËøõÂ∫¶Êù°Âä†ËΩΩ: nprogress -->
  <link href="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6617852905105366" crossorigin="anonymous"></script>
  <!-- Cloudflare Web Analytics -->
   <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{"token": "73d46a730654451bac205cdc12bea918"}"></script>
  <!-- umami Web Analytics -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="23fadd4b-d559-4ae0-a4f6-f90680c3d4c0"></script>

  <!-- Êú¨Âú∞ÊêúÁ¥¢js -->
  <script type="text/javascript" src="/js/search.js"></script>

  <!-- ÁôæÂ∫¶Á´ôÁÇπÁÆ°ÁêÜ -->
  <meta name="baidu-site-verification" content="code-SKIvb4A1Qx">

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-1NWK4EEKDF');
  </script>

  <!-- Á´ôÂÜÖÈÄöÁü• -->
  <link href="https://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="/css/default.css">
  <link rel="stylesheet" href="/css/animate.min.css">
  <link rel="stylesheet" href="/css/notification.css">
  <link rel="stylesheet" href="/css/index.css">
<link rel="alternate" href="/atom.xml" title="Âº†Â∞èÂáØÁöÑÂçöÂÆ¢" type="application/atom+xml">
</head>

<!-- ÊñáÁ´†ÈòÖËØªËøõÂ∫¶Êù°Ê†∑Âºè -->
<style>
  #content_progress {
      /* Positioning */
      position: fixed;
      left: 0;
      top: 0;
      z-index: 99999;
      width: 100%;
      height: 3px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      border: none;
      background-color: transparent;
      color: #ffaa73;
}

#content_progress::-webkit-progress-bar {
      background-color: transparent;
}

#content_progress::-webkit-progress-value {
      background-color: #ffaa73;
}

#content_progress::-moz-progress-bar {
      background-color:#ffaa73;
}
</style>
<!-- ÊñáÁ´†ÈòÖËØªËøõÂ∫¶Êù°JS -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      var winHeight = window.innerHeight,
            docHeight = document.documentElement.scrollHeight,
            progressBar = document.querySelector('#content_progress');
      progressBar.max = docHeight - winHeight;
      progressBar.value = window.scrollY;

      document.addEventListener('scroll', function () {
            progressBar.max = document.documentElement.scrollHeight - window.innerHeight;
            progressBar.value = window.scrollY;
      });
});
</script>

<body class="mdui-drawer-body-left">
  <!-- ÊñáÁ´†ÈòÖËØªËøõÂ∫¶Êù° -->
  <progress id="content_progress" value="0"></progress>

  <!-- Èü≥È¢ëÊí≠Êîæ -->
  <!-- <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script> -->

  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(/images/bg.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <a href="/" title="Jasonkay" class="mdui-btn mdui-btn-icon"><img src="/images/avatar4.jpg"></a>
      </div>
    </div>
  </div>
  <div id="nexmoe-header">
    <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Jasonkay">
            <img src="/images/avatar4.jpg" alt="Jasonkay">
        </a>
    </div>

    <!-- ÈªëÁôΩÂàáÊç¢css -->
    <!-- <style>
        .light-dark-checkbox {
            margin: 0 auto;
        }

        /* The switch - the box around the slider */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* Hide default HTML checkbox */
        .switch .theme-switcher {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            transition: 0.4s;
        }

        .slider:before {
            position: absolute;
            content: "üåû";
            height: 0px;
            width: 0px;
            left: -10px;
            top: 16px;
            line-height: 0px;
            transition: 0.4s;
        }

        .theme-switcher:checked+.slider:before {
            left: 35px;
            content: "üåë";
        }

        .theme-switcher:checked+.slider:before {
            transform: translateX(45px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 40px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /* ÊöóÈªëÊ†∑Âºè */
        body.night {
            background-color: #263238;
            color: #aaa;
        }
        body.night img {
            filter: brightness(30%);
        }
        article.night {
            background-color: black;
            color: white;
        }
    </style> -->

    <!-- ÈªëÁôΩÂºÄÂÖ≥ -->
    <!-- <div class="nexmoe-list-item mdui-list-item">
        <div class="light-dark-checkbox">
            <div>
                ÈªëÁôΩÊ®°ÂºèÂàáÊç¢(Beta)
            </div>
            <label class="switch">
                <input id="light-dark-input" type="checkbox" onclick="switchTheme();" class="theme-switcher">
                <span class="slider round"></span>
            </label>
        </div>
    </div> -->

    <!-- ÈªëÁôΩÂàáÊç¢js -->
    <!-- <script>
        // get hours of the day in 24Hr format (0-23)
        var hr = (new Date()).getHours();

        $(document).ready(function () {
            var theme = sessionStorage.getItem("theme");
            if (theme == "dark") {
                document.body.classList.add('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂºÄÂêØ');
            } else if (theme == "light") {
                document.body.classList.remove('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂÖ≥Èó≠');
            } else {
                setDefaultTheme(hr);
            }
        });

        function switchTheme() {
            if (sessionStorage.getItem("theme") == "dark") {
                sessionStorage.setItem("theme", "light");
                document.body.classList.remove('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂÖ≥Èó≠');
            } else if (sessionStorage.getItem("theme") == "light") {
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂºÄÂêØ');
            } else {
                setDefaultTheme(hr);
            }
        };

        function setDefaultTheme(curHr) {
            // 6:00-18:00 light
            if (curHr >= 6 && curHr <= 18) {
                document.body.classList.remove('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂÖ≥Èó≠');
                sessionStorage.setItem("theme", "light");
                $("#light-dark-input").attr("checked", false);
            } else {
                // 0:00-6:00 & 18:00-00:00 night
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂºÄÂêØ');
                $("#light-dark-input").attr("checked", true);
            }
        }
    </script> -->

    <div class="nexmoe-count">
        <div><span>ÊñáÁ´†</span>520</div>
        <div><span>Ê†áÁ≠æ</span>276</div>
        <div><span>ÂàÜÁ±ª</span>67</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="ÂõûÂà∞È¶ñÈ°µ">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                ÂõûÂà∞È¶ñÈ°µ
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/jp/" title="Êó•ËØ≠ÂàÜÁ´ô">
            <i class="mdui-list-item-icon nexmoefont icon-calendar-fill"></i>
            <div class="mdui-list-item-content">
                Êó•ËØ≠ÂàÜÁ´ô
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about/" title="ÂÖ≥‰∫éÂçöÂÆ¢">
            <i class="mdui-list-item-icon nexmoefont icon-eye-fill"></i>
            <div class="mdui-list-item-content">
                ÂÖ≥‰∫éÂçöÂÆ¢
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archive" title="ÊñáÁ´†ÂΩíÊ°£">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                ÊñáÁ´†ÂΩíÊ°£
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/anki/" title="AnkiÁ¨îËÆ∞">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                AnkiÁ¨îËÆ∞
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/study/" title="Â≠¶‰π†ËøõÂ∫¶">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                Â≠¶‰π†ËøõÂ∫¶
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/running/" title="Ë∑ëÊ≠•ÂÅ•Ë∫´">
            <i class="mdui-list-item-icon nexmoefont icon-dribbble"></i>
            <div class="mdui-list-item-content">
                Ë∑ëÊ≠•ÂÅ•Ë∫´
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/interview/" title="Èù¢ËØïÁõ∏ÂÖ≥">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                Èù¢ËØïÁõ∏ÂÖ≥
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/algorithm/" title="ÁÆóÊ≥ïÊÄªÁªì">
            <i class="mdui-list-item-icon nexmoefont icon-areachart"></i>
            <div class="mdui-list-item-content">
                ÁÆóÊ≥ïÊÄªÁªì
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/installing/" title="ËΩØ‰ª∂ÂÆâË£Ö">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                ËΩØ‰ª∂ÂÆâË£Ö
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/board/" title="ÂàõÊÑèÁôΩÊùø">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                ÂàõÊÑèÁôΩÊùø
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="http://159.75.131.252:32352/" title="ÊëÑÂΩ±ÂàÜ‰∫´">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                ÊëÑÂΩ±ÂàÜ‰∫´
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/chat/" title="ÁïÖÊâÄÊ¨≤Ë®Ä">
            <i class="mdui-list-item-icon nexmoefont icon-ellipsis"></i>
            <div class="mdui-list-item-content">
                ÁïÖÊâÄÊ¨≤Ë®Ä
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/realtime/" title="ÂÆûÊó∂Êï∞ÊçÆÁªüËÆ°">
            <i class="mdui-list-item-icon nexmoefont icon-time-circle-fill"></i>
            <div class="mdui-list-item-content">
                ÂÆûÊó∂Êï∞ÊçÆÁªüËÆ°
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/py/" title="ÂèãÊÉÖÈìæÊé•">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                ÂèãÊÉÖÈìæÊé•
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Á§æ‰∫§ÊåâÈíÆ</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/23364338" target="_blank" mdui-tooltip="{content: 'ÂìîÂì©ÂìîÂì©'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="https://steamcommunity.com/id/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'Steam'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-steam"></i>
        </a><a class="mdui-ripple" href="https://twitter.com/Jasonkay_ZK/" target="_blank" mdui-tooltip="{content: 'Twitter'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-twitter"></i>
        </a><a class="mdui-ripple" href="mailto:jasonkayzk@gmail.com" target="_blank" mdui-tooltip="{content: 'Mail'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-mail-fill"></i>
        </a>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Á´ôÂÜÖÊêúÁ¥¢</h3>
    <div class="nexmoe-widget nexmoe-search">
        <form class="site-search-form">
            <input type="text" id="local-search-input" class="st-search-input">
        </form>
        <div id="local-search-result" class="local-search-result-cls">
        </div>
    </div>
</div>

<!-- ÊâßË°åÊú¨Âú∞ÊêúÁ¥¢ËÑöÊú¨ -->
<script type="text/javascript">
    var path = "https://cdn.jsdelivr.net/gh/jasonkayzk/JasonkayZK.github.io@master/search.xml";
    searchFunc(path, 'local-search-input', 'local-search-result');
</script>

<style type="text/css">
/* ÊêúÁ¥¢Êù° */
.site-search-form {
    text-align: center;
}
#local-search-input {
    width: 100%;
}

/* ÊêúÁ¥¢ÁªìÊûúÂÖ≥Èó≠ */
#local-search-close {
    font-size: 22.5px;
    cursor: pointer;
    color: #ff4e6a;
}

.search-result-list > li {
    line-height: 0.75;
    margin-top: -5px;
}

</style>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Ê†áÁ≠æ‰∫ë</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/2048/" style="font-size: 10px;">2048</a> <a href="/tags/ACM/" style="font-size: 10px;">ACM</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/AUFS/" style="font-size: 10px;">AUFS</a> <a href="/tags/Android/" style="font-size: 10.91px;">Android</a> <a href="/tags/AppStore/" style="font-size: 10px;">AppStore</a> <a href="/tags/AppleScript/" style="font-size: 10px;">AppleScript</a> <a href="/tags/Aria2/" style="font-size: 10.91px;">Aria2</a> <a href="/tags/Async/" style="font-size: 10px;">Async</a> <a href="/tags/BFS/" style="font-size: 10.45px;">BFS</a> <a href="/tags/Bash/" style="font-size: 10.45px;">Bash</a> <a href="/tags/BitTorrent/" style="font-size: 10px;">BitTorrent</a> <a href="/tags/BloomFilter/" style="font-size: 10px;">BloomFilter</a> <a href="/tags/Bytebase/" style="font-size: 10px;">Bytebase</a> <a href="/tags/C/" style="font-size: 15.91px;">C++</a> <a href="/tags/CAP/" style="font-size: 10px;">CAP</a> <a href="/tags/CDN/" style="font-size: 10.45px;">CDN</a> <a href="/tags/CGLibÂä®ÊÄÅ‰ª£ÁêÜ/" style="font-size: 10px;">CGLibÂä®ÊÄÅ‰ª£ÁêÜ</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Caffeine/" style="font-size: 10px;">Caffeine</a> <a href="/tags/Cargo/" style="font-size: 11.82px;">Cargo</a> <a href="/tags/CentOS/" style="font-size: 12.27px;">CentOS</a> <a href="/tags/Cgroups/" style="font-size: 10px;">Cgroups</a> <a href="/tags/ChromeÊâ©Â±ï/" style="font-size: 10px;">ChromeÊâ©Â±ï</a> <a href="/tags/Cli/" style="font-size: 10.45px;">Cli</a> <a href="/tags/ClickHouse/" style="font-size: 10px;">ClickHouse</a> <a href="/tags/Cling/" style="font-size: 10px;">Cling</a> <a href="/tags/Clion/" style="font-size: 10px;">Clion</a> <a href="/tags/Colima/" style="font-size: 10px;">Colima</a> <a href="/tags/Container/" style="font-size: 10px;">Container</a> <a href="/tags/DFS/" style="font-size: 10.45px;">DFS</a> <a href="/tags/DLL/" style="font-size: 10.45px;">DLL</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/Docker/" style="font-size: 18.64px;">Docker</a> <a href="/tags/Docker-Compose/" style="font-size: 10.45px;">Docker-Compose</a> <a href="/tags/DockerHub/" style="font-size: 10px;">DockerHub</a> <a href="/tags/Dolt/" style="font-size: 10px;">Dolt</a> <a href="/tags/Dubbo/" style="font-size: 10.91px;">Dubbo</a> <a href="/tags/Easegress/" style="font-size: 10px;">Easegress</a> <a href="/tags/ElasticSearch/" style="font-size: 14.09px;">ElasticSearch</a> <a href="/tags/Electron/" style="font-size: 10.45px;">Electron</a> <a href="/tags/English/" style="font-size: 10px;">English</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/FFmpeg/" style="font-size: 10px;">FFmpeg</a> <a href="/tags/FTP/" style="font-size: 10.45px;">FTP</a> <a href="/tags/FaaS/" style="font-size: 10px;">FaaS</a> <a href="/tags/Future/" style="font-size: 10px;">Future</a> <a href="/tags/GC/" style="font-size: 10px;">GC</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/GRPC/" style="font-size: 10px;">GRPC</a> <a href="/tags/Gin/" style="font-size: 10px;">Gin</a> <a href="/tags/Git/" style="font-size: 13.64px;">Git</a> <a href="/tags/Gitee/" style="font-size: 10px;">Gitee</a> <a href="/tags/Github/" style="font-size: 14.55px;">Github</a> <a href="/tags/Github-Actions/" style="font-size: 10px;">Github-Actions</a> <a href="/tags/Golang/" style="font-size: 18.18px;">Golang</a> <a href="/tags/Gomod/" style="font-size: 10px;">Gomod</a> <a href="/tags/Goroutine/" style="font-size: 10.91px;">Goroutine</a> <a href="/tags/GraalVM/" style="font-size: 10px;">GraalVM</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/HAProxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/IDEAÈÖçÁΩÆ/" style="font-size: 10px;">IDEAÈÖçÁΩÆ</a> <a href="/tags/IDÁîüÊàêÂô®/" style="font-size: 10.45px;">IDÁîüÊàêÂô®</a> <a href="/tags/IOÊ®°Âûã/" style="font-size: 10px;">IOÊ®°Âûã</a> <a href="/tags/Ingress/" style="font-size: 10.45px;">Ingress</a> <a href="/tags/JDKÂä®ÊÄÅ‰ª£ÁêÜ/" style="font-size: 10.45px;">JDKÂä®ÊÄÅ‰ª£ÁêÜ</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 12.27px;">Java</a> <a href="/tags/JavaWeb/" style="font-size: 10px;">JavaWeb</a> <a href="/tags/JavaÂü∫Á°Ä/" style="font-size: 16.82px;">JavaÂü∫Á°Ä</a> <a href="/tags/JavaÊ≥®Ëß£/" style="font-size: 10px;">JavaÊ≥®Ëß£</a> <a href="/tags/JavaÊ∫êÁ†Å/" style="font-size: 12.27px;">JavaÊ∫êÁ†Å</a> <a href="/tags/JavaÈù¢ËØï/" style="font-size: 11.36px;">JavaÈù¢ËØï</a> <a href="/tags/JuiceFS/" style="font-size: 10px;">JuiceFS</a> <a href="/tags/JupyterLab/" style="font-size: 10px;">JupyterLab</a> <a href="/tags/Kafka/" style="font-size: 10.45px;">Kafka</a> <a href="/tags/Kubernetes/" style="font-size: 15.45px;">Kubernetes</a> <a href="/tags/LVS/" style="font-size: 10.91px;">LVS</a> <a href="/tags/LambdaË°®ËææÂºè/" style="font-size: 10.91px;">LambdaË°®ËææÂºè</a> <a href="/tags/LevelDB/" style="font-size: 10px;">LevelDB</a> <a href="/tags/Library/" style="font-size: 10.45px;">Library</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 16.36px;">Linux</a> <a href="/tags/LruCache/" style="font-size: 10px;">LruCache</a> <a href="/tags/MacOS/" style="font-size: 10.45px;">MacOS</a> <a href="/tags/Maven/" style="font-size: 12.27px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 13.64px;">MySQL</a> <a href="/tags/Mybatis/" style="font-size: 10.91px;">Mybatis</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/NIO/" style="font-size: 10.91px;">NIO</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Namespace/" style="font-size: 10px;">Namespace</a> <a href="/tags/Netty/" style="font-size: 10px;">Netty</a> <a href="/tags/Newman/" style="font-size: 10px;">Newman</a> <a href="/tags/Nginx/" style="font-size: 12.27px;">Nginx</a> <a href="/tags/Node-js/" style="font-size: 11.36px;">Node.js</a> <a href="/tags/Okular/" style="font-size: 10px;">Okular</a> <a href="/tags/P2P/" style="font-size: 10px;">P2P</a> <a href="/tags/Panic/" style="font-size: 10px;">Panic</a> <a href="/tags/PipelineDB/" style="font-size: 10px;">PipelineDB</a> <a href="/tags/PostgreSQL/" style="font-size: 10.45px;">PostgreSQL</a> <a href="/tags/Postman/" style="font-size: 10.45px;">Postman</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/Protobuf/" style="font-size: 10.91px;">Protobuf</a> <a href="/tags/Python/" style="font-size: 10.91px;">Python</a> <a href="/tags/RAII/" style="font-size: 10px;">RAII</a> <a href="/tags/RPC/" style="font-size: 10px;">RPC</a> <a href="/tags/RSS/" style="font-size: 10.91px;">RSS</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/Redash/" style="font-size: 10px;">Redash</a> <a href="/tags/Redis/" style="font-size: 14.55px;">Redis</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Rust/" style="font-size: 18.64px;">Rust</a> <a href="/tags/SPA/" style="font-size: 10px;">SPA</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/SSH/" style="font-size: 10.45px;">SSH</a> <a href="/tags/Serverless/" style="font-size: 10px;">Serverless</a> <a href="/tags/Shadowsocks/" style="font-size: 10.91px;">Shadowsocks</a> <a href="/tags/Skiplist/" style="font-size: 10px;">Skiplist</a> <a href="/tags/Slice/" style="font-size: 10px;">Slice</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/Spring/" style="font-size: 11.82px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/SpringÊ∫êÁ†Å/" style="font-size: 10px;">SpringÊ∫êÁ†Å</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/Swagger/" style="font-size: 10px;">Swagger</a> <a href="/tags/TOML/" style="font-size: 10px;">TOML</a> <a href="/tags/Telegraf/" style="font-size: 10px;">Telegraf</a> <a href="/tags/Telegram/" style="font-size: 10px;">Telegram</a> <a href="/tags/Tomcat/" style="font-size: 10.45px;">Tomcat</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UUID/" style="font-size: 10px;">UUID</a> <a href="/tags/UnionFS/" style="font-size: 10px;">UnionFS</a> <a href="/tags/VMWare/" style="font-size: 13.18px;">VMWare</a> <a href="/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/tags/WebAssembly/" style="font-size: 10.45px;">WebAssembly</a> <a href="/tags/Websocket/" style="font-size: 10px;">Websocket</a> <a href="/tags/XML/" style="font-size: 10.91px;">XML</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/Zookeeper/" style="font-size: 10.91px;">Zookeeper</a> <a href="/tags/apt/" style="font-size: 10px;">apt</a> <a href="/tags/autok3s/" style="font-size: 10px;">autok3s</a> <a href="/tags/cURL/" style="font-size: 10px;">cURL</a> <a href="/tags/chroot/" style="font-size: 10px;">chroot</a> <a href="/tags/cmder/" style="font-size: 10px;">cmder</a> <a href="/tags/grpc/" style="font-size: 10px;">grpc</a> <a href="/tags/hashÂÜ≤Á™Å/" style="font-size: 10px;">hashÂÜ≤Á™Å</a> <a href="/tags/inoreader/" style="font-size: 10px;">inoreader</a> <a href="/tags/k3s/" style="font-size: 10.45px;">k3s</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/libp2p/" style="font-size: 10px;">libp2p</a> <a href="/tags/minikube/" style="font-size: 10.45px;">minikube</a> <a href="/tags/ntfy/" style="font-size: 10px;">ntfy</a> <a href="/tags/picocli/" style="font-size: 10px;">picocli</a> <a href="/tags/telnet/" style="font-size: 10px;">telnet</a> <a href="/tags/uv/" style="font-size: 10px;">uv</a> <a href="/tags/vcpkg/" style="font-size: 10px;">vcpkg</a> <a href="/tags/xorm/" style="font-size: 10px;">xorm</a> <a href="/tags/‰∫åÂàÜÊ≥ï/" style="font-size: 10px;">‰∫åÂàÜÊ≥ï</a> <a href="/tags/‰∫åÂèâÊ†ë/" style="font-size: 15.45px;">‰∫åÂèâÊ†ë</a> <a href="/tags/‰∫åÁª¥Á†Å/" style="font-size: 10px;">‰∫åÁª¥Á†Å</a> <a href="/tags/‰∫§ÂèâÁºñËØë/" style="font-size: 10px;">‰∫§ÂèâÁºñËØë</a> <a href="/tags/‰∫∫Â∑•Êô∫ËÉΩ/" style="font-size: 10.45px;">‰∫∫Â∑•Êô∫ËÉΩ</a> <a href="/tags/‰∫∫ÁîüÊó•ËÆ∞/" style="font-size: 17.73px;">‰∫∫ÁîüÊó•ËÆ∞</a> <a href="/tags/‰ª£ÁêÜÊ®°Âºè/" style="font-size: 10px;">‰ª£ÁêÜÊ®°Âºè</a> <a href="/tags/‰ΩçËøêÁÆó/" style="font-size: 10.45px;">‰ΩçËøêÁÆó</a> <a href="/tags/‰ø°Âè∑/" style="font-size: 10px;">‰ø°Âè∑</a> <a href="/tags/‰ø°ÊÅØËÅöÂêà/" style="font-size: 10px;">‰ø°ÊÅØËÅöÂêà</a> <a href="/tags/ÂÜÖÂ≠òÁÆ°ÁêÜ/" style="font-size: 10.45px;">ÂÜÖÂ≠òÁÆ°ÁêÜ</a> <a href="/tags/ÂÜÖÁΩëÁ©øÈÄè/" style="font-size: 10px;">ÂÜÖÁΩëÁ©øÈÄè</a> <a href="/tags/ÂáΩÊï∞ÂºèÊé•Âè£/" style="font-size: 10px;">ÂáΩÊï∞ÂºèÊé•Âè£</a> <a href="/tags/ÂàÜÂ∏ÉÂºè/" style="font-size: 15.91px;">ÂàÜÂ∏ÉÂºè</a> <a href="/tags/ÂäûÂÖ¨/" style="font-size: 10px;">ÂäûÂÖ¨</a> <a href="/tags/Âä®ÊÄÅËßÑÂàí/" style="font-size: 11.36px;">Âä®ÊÄÅËßÑÂàí</a> <a href="/tags/ÂçèÁ®ãÊ±†/" style="font-size: 10px;">ÂçèÁ®ãÊ±†</a> <a href="/tags/ÂçöÂÆ¢ÁÆ°ÁêÜ/" style="font-size: 13.18px;">ÂçöÂÆ¢ÁÆ°ÁêÜ</a> <a href="/tags/ÂçöÂÆ¢ÁæéÂåñ/" style="font-size: 11.82px;">ÂçöÂÆ¢ÁæéÂåñ</a> <a href="/tags/ÂèåÊåáÈíà/" style="font-size: 10.45px;">ÂèåÊåáÈíà</a> <a href="/tags/ÂèçÂ∞Ñ/" style="font-size: 12.27px;">ÂèçÂ∞Ñ</a> <a href="/tags/Âè£Êâç/" style="font-size: 10px;">Âè£Êâç</a> <a href="/tags/ÂìàÂ∏åË°®/" style="font-size: 10.45px;">ÂìàÂ∏åË°®</a> <a href="/tags/ÂõûÊ∫Ø/" style="font-size: 10.45px;">ÂõûÊ∫Ø</a> <a href="/tags/ÂõûÊ∫ØÊ≥ï/" style="font-size: 10px;">ÂõûÊ∫ØÊ≥ï</a> <a href="/tags/Â†Ü/" style="font-size: 10.45px;">Â†Ü</a> <a href="/tags/Â§öÁ∫øÁ®ã‰∏ãËΩΩ/" style="font-size: 10.45px;">Â§öÁ∫øÁ®ã‰∏ãËΩΩ</a> <a href="/tags/Â§ßÊï∞ÊçÆ/" style="font-size: 10px;">Â§ßÊï∞ÊçÆ</a> <a href="/tags/Â≠óÁ¨¶‰∏≤/" style="font-size: 13.18px;">Â≠óÁ¨¶‰∏≤</a> <a href="/tags/Â≠óÁ¨¶‰∏≤Â§ÑÁêÜ/" style="font-size: 10px;">Â≠óÁ¨¶‰∏≤Â§ÑÁêÜ</a> <a href="/tags/Â≠¶‰π†Ê°à‰æã/" style="font-size: 10.45px;">Â≠¶‰π†Ê°à‰æã</a> <a href="/tags/ÂÆπÂô®/" style="font-size: 10px;">ÂÆπÂô®</a> <a href="/tags/Â∑•ÂÖ∑ÂàÜ‰∫´/" style="font-size: 19.09px;">Â∑•ÂÖ∑ÂàÜ‰∫´</a> <a href="/tags/Âπ∂ÂèëÁºñÁ®ã/" style="font-size: 15.45px;">Âπ∂ÂèëÁºñÁ®ã</a> <a href="/tags/Âπ∂Ë°åËÆ°ÁÆó/" style="font-size: 10px;">Âπ∂Ë°åËÆ°ÁÆó</a> <a href="/tags/Â∫èÂàóÂåñ/" style="font-size: 10px;">Â∫èÂàóÂåñ</a> <a href="/tags/Âª∫Á≠ë/" style="font-size: 10px;">Âª∫Á≠ë</a> <a href="/tags/ÂºÄÂèëËßÑËåÉ/" style="font-size: 10.45px;">ÂºÄÂèëËßÑËåÉ</a> <a href="/tags/ÂºÄÊ∫êÂçèËÆÆ/" style="font-size: 10px;">ÂºÄÊ∫êÂçèËÆÆ</a> <a href="/tags/ÊÄßËÉΩÊåáÊ†á/" style="font-size: 10px;">ÊÄßËÉΩÊåáÊ†á</a> <a href="/tags/ÊäÄÊúØÊùÇË∞à/" style="font-size: 20px;">ÊäÄÊúØÊùÇË∞à</a> <a href="/tags/ÊéíÂ∫è/" style="font-size: 11.82px;">ÊéíÂ∫è</a> <a href="/tags/Êé®ÈÄÅ/" style="font-size: 10px;">Êé®ÈÄÅ</a> <a href="/tags/ÊêúÁ¥¢/" style="font-size: 10px;">ÊêúÁ¥¢</a> <a href="/tags/Êìç‰ΩúÁ≥ªÁªü/" style="font-size: 10.91px;">Êìç‰ΩúÁ≥ªÁªü</a> <a href="/tags/ÊïôÂ∏à/" style="font-size: 10.45px;">ÊïôÂ∏à</a> <a href="/tags/ÊïôÊ°à/" style="font-size: 10.45px;">ÊïôÊ°à</a> <a href="/tags/Êï∞Â≠¶/" style="font-size: 12.73px;">Êï∞Â≠¶</a> <a href="/tags/Êï∞ÊçÆÂ∫ì/" style="font-size: 15px;">Êï∞ÊçÆÂ∫ì</a> <a href="/tags/Êï∞ÁªÑ/" style="font-size: 13.64px;">Êï∞ÁªÑ</a> <a href="/tags/ÊñáÂ≠óÈöêËóè/" style="font-size: 10px;">ÊñáÂ≠óÈöêËóè</a> <a href="/tags/Êñ≠ÁÇπÁª≠‰º†/" style="font-size: 10px;">Êñ≠ÁÇπÁª≠‰º†</a> <a href="/tags/Êñ∞Êµ™ÂæÆÂçö/" style="font-size: 10px;">Êñ∞Êµ™ÂæÆÂçö</a> <a href="/tags/Êó•Âøó/" style="font-size: 10px;">Êó•Âøó</a> <a href="/tags/Êó•Êú¨Ë™û/" style="font-size: 14.55px;">Êó•Êú¨Ë™û</a> <a href="/tags/Êó•Ë®ò/" style="font-size: 10.45px;">Êó•Ë®ò</a> <a href="/tags/ÊúçÂä°Ëá™Âª∫/" style="font-size: 10.91px;">ÊúçÂä°Ëá™Âª∫</a> <a href="/tags/Êü•Êâæ/" style="font-size: 10.91px;">Êü•Êâæ</a> <a href="/tags/Ê†à/" style="font-size: 10.91px;">Ê†à</a> <a href="/tags/Ê≠åË©û/" style="font-size: 10px;">Ê≠åË©û</a> <a href="/tags/Ê≠£ÂàôË°®ËææÂºè/" style="font-size: 10.91px;">Ê≠£ÂàôË°®ËææÂºè</a> <a href="/tags/Ê±áÁºñËØ≠Ë®Ä/" style="font-size: 10px;">Ê±áÁºñËØ≠Ë®Ä</a> <a href="/tags/ÊµãËØï/" style="font-size: 10px;">ÊµãËØï</a> <a href="/tags/ÊªëÁ™ó/" style="font-size: 10px;">ÊªëÁ™ó</a> <a href="/tags/ÁâàÊú¨ÊéßÂà∂/" style="font-size: 10px;">ÁâàÊú¨ÊéßÂà∂</a> <a href="/tags/ÁîüÊ¥ªÊÄªÁªì/" style="font-size: 10px;">ÁîüÊ¥ªÊÄªÁªì</a> <a href="/tags/Á¶èÂà©ÂàÜ‰∫´/" style="font-size: 10px;">Á¶èÂà©ÂàÜ‰∫´</a> <a href="/tags/ÁÆóÊ≥ï/" style="font-size: 12.73px;">ÁÆóÊ≥ï</a> <a href="/tags/ÁÆóÊ≥ïÈ¢òÁõÆ/" style="font-size: 19.55px;">ÁÆóÊ≥ïÈ¢òÁõÆ</a> <a href="/tags/Á±ªÂä†ËΩΩÂô®/" style="font-size: 10.45px;">Á±ªÂä†ËΩΩÂô®</a> <a href="/tags/Á¥†Êï∞/" style="font-size: 10px;">Á¥†Êï∞</a> <a href="/tags/Á∫øÊÄßÊé¢ÊµãÊ≥ï/" style="font-size: 10px;">Á∫øÊÄßÊé¢ÊµãÊ≥ï</a> <a href="/tags/Á∫øÁ®ãÊ±†/" style="font-size: 10.91px;">Á∫øÁ®ãÊ±†</a> <a href="/tags/ÁºñËØë‰ºòÂåñ/" style="font-size: 10px;">ÁºñËØë‰ºòÂåñ</a> <a href="/tags/ÁºñËØëÂô®/" style="font-size: 10px;">ÁºñËØëÂô®</a> <a href="/tags/ÁΩëÁõò/" style="font-size: 10px;">ÁΩëÁõò</a> <a href="/tags/ÁΩëÁªúÁ∫øË∑Ø/" style="font-size: 10px;">ÁΩëÁªúÁ∫øË∑Ø</a> <a href="/tags/ÁøªË®≥/" style="font-size: 10.45px;">ÁøªË®≥</a> <a href="/tags/Ëá™ÂêØÂä®/" style="font-size: 10px;">Ëá™ÂêØÂä®</a> <a href="/tags/ËíôÁâπÂç°ÁΩóÊñπÊ≥ï/" style="font-size: 10px;">ËíôÁâπÂç°ÁΩóÊñπÊ≥ï</a> <a href="/tags/ËôöÊãüÊú∫/" style="font-size: 10.45px;">ËôöÊãüÊú∫</a> <a href="/tags/Ë°óÊôØ/" style="font-size: 10px;">Ë°óÊôØ</a> <a href="/tags/Ë£ÖÈ•∞Âô®Ê®°Âºè/" style="font-size: 10px;">Ë£ÖÈ•∞Âô®Ê®°Âºè</a> <a href="/tags/ËÆ°ÁÆóÊú∫ÁΩëÁªú/" style="font-size: 10px;">ËÆ°ÁÆóÊú∫ÁΩëÁªú</a> <a href="/tags/ËÆæËÆ°Ê®°Âºè/" style="font-size: 10px;">ËÆæËÆ°Ê®°Âºè</a> <a href="/tags/ËØæÁ®ã/" style="font-size: 10px;">ËØæÁ®ã</a> <a href="/tags/Ë¥üËΩΩÂùáË°°/" style="font-size: 12.27px;">Ë¥üËΩΩÂùáË°°</a> <a href="/tags/Ë¥™ÂøÉ/" style="font-size: 10px;">Ë¥™ÂøÉ</a> <a href="/tags/Ë∑≥Ë∑≥ËõôÊó•ËØ≠ËØªÂ∫ì/" style="font-size: 10.45px;">Ë∑≥Ë∑≥ËõôÊó•ËØ≠ËØªÂ∫ì</a> <a href="/tags/ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ/" style="font-size: 17.27px;">ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ</a> <a href="/tags/ËΩØ‰ª∂Êé®Ëçê/" style="font-size: 15px;">ËΩØ‰ª∂Êé®Ëçê</a> <a href="/tags/ËΩØ‰ª∂ÊµãËØï/" style="font-size: 10.45px;">ËΩØ‰ª∂ÊµãËØï</a> <a href="/tags/ËΩØËÄÉ/" style="font-size: 10px;">ËΩØËÄÉ</a> <a href="/tags/ËøõÂ∫¶Êù°/" style="font-size: 10.45px;">ËøõÂ∫¶Êù°</a> <a href="/tags/ËøõÁ®ãÈÄö‰ø°/" style="font-size: 10px;">ËøõÁ®ãÈÄö‰ø°</a> <a href="/tags/ÈÄÜÂêëÂ∑•Á®ã/" style="font-size: 10px;">ÈÄÜÂêëÂ∑•Á®ã</a> <a href="/tags/ÈÄíÂΩí/" style="font-size: 10.45px;">ÈÄíÂΩí</a> <a href="/tags/ÈáçÂÆöÂêë/" style="font-size: 10px;">ÈáçÂÆöÂêë</a> <a href="/tags/ÈáçË£ÖÁ≥ªÁªü/" style="font-size: 10px;">ÈáçË£ÖÁ≥ªÁªü</a> <a href="/tags/ÈìæË°®/" style="font-size: 13.64px;">ÈìæË°®</a> <a href="/tags/ÈòüÂàó/" style="font-size: 10px;">ÈòüÂàó</a> <a href="/tags/ÈöèÊú∫ÂõæÁâá/" style="font-size: 10px;">ÈöèÊú∫ÂõæÁâá</a> <a href="/tags/ÈõÜÂêà/" style="font-size: 14.09px;">ÈõÜÂêà</a> <a href="/tags/Èõ∂ÂÆΩÂ≠óÁ¨¶/" style="font-size: 10px;">Èõ∂ÂÆΩÂ≠óÁ¨¶</a> <a href="/tags/ÈùôÊÄÅ‰ª£ÁêÜ/" style="font-size: 10px;">ÈùôÊÄÅ‰ª£ÁêÜ</a> <a href="/tags/Èù¢ËØïÊÄªÁªì/" style="font-size: 15px;">Èù¢ËØïÊÄªÁªì</a> <a href="/tags/È°πÁõÆÊÄªÁªì/" style="font-size: 10.91px;">È°πÁõÆÊÄªÁªì</a> <a href="/tags/È°πÁõÆÊûÑÂª∫/" style="font-size: 10.91px;">È°πÁõÆÊûÑÂª∫</a> <a href="/tags/È°πÁõÆÈÉ®ÁΩ≤/" style="font-size: 11.36px;">È°πÁõÆÈÉ®ÁΩ≤</a> <a href="/tags/ÈªëËãπÊûú/" style="font-size: 10px;">ÈªëËãπÊûú</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ÊñáÁ´†ÂàÜÁ±ª</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ACM/">ACM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Android/">Android</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C/">C++</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/CUDA/">CUDA</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ChromeÊâ©Â±ï/">ChromeÊâ©Â±ï</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ClickHouse/">ClickHouse</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/">Docker</a>
          <span class="category-list-count">25</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dolt/">Dolt</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dubbo/">Dubbo</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Electron/">Electron</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Git/">Git</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Github/">Github</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Golang/">Golang</a>
          <span class="category-list-count">31</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/GraalVM/">GraalVM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/IOÂü∫Á°Ä/">IOÂü∫Á°Ä</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Java/">Java</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JavaÊ∫êÁ†Å/">JavaÊ∫êÁ†Å</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JuiceFS/">JuiceFS</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Kubernetes/">Kubernetes</a>
          <span class="category-list-count">12</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Life/">Life</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Linux/">Linux</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Maven/">Maven</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MongoDB/">MongoDB</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MySQL/">MySQL</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/">Mybatis</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/NPM/">NPM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Netty/">Netty</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Nginx/">Nginx</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Node-js/">Node.js</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/PostgreSQL/">PostgreSQL</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Protobuf/">Protobuf</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Python/">Python</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redash/">Redash</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/Redis/">Redis</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Ruby/">Ruby</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Rust/">Rust</a>
          <span class="category-list-count">35</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Spring/">Spring</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TOML/">TOML</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TypeScript/">TypeScript</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Websocket/">Websocket</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/‰∫∫Â∑•Êô∫ËÉΩ/">‰∫∫Â∑•Êô∫ËÉΩ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/‰∫∫ÁîüÊó•ËÆ∞/">‰∫∫ÁîüÊó•ËÆ∞</a>
          <span class="category-list-count">26</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÂàÜÂ∏ÉÂºè/">ÂàÜÂ∏ÉÂºè</a>
          <span class="category-list-count">10</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÂäûÂÖ¨/">ÂäûÂÖ¨</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÂçöÂÆ¢ÁÆ°ÁêÜ/">ÂçöÂÆ¢ÁÆ°ÁêÜ</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/ÊäÄÊúØÊùÇË∞à/Â≠¶‰π†Ê°à‰æã/">Â≠¶‰π†Ê°à‰æã</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Â∑•ÂÖ∑ÂàÜ‰∫´/">Â∑•ÂÖ∑ÂàÜ‰∫´</a>
          <span class="category-list-count">41</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Âπ∂ÂèëÁºñÁ®ã/">Âπ∂ÂèëÁºñÁ®ã</a>
          <span class="category-list-count">13</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/ÊäÄÊúØÊùÇË∞à/">ÊäÄÊúØÊùÇË∞à</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÊïôÂ∏à/">ÊïôÂ∏à</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Êï∞ÊçÆÂ∫ì/">Êï∞ÊçÆÂ∫ì</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Êó•Êú¨Ë™û/">Êó•Êú¨Ë™û</a>
          <span class="category-list-count">11</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÊúçÂä°Ëá™Âª∫/">ÊúçÂä°Ëá™Âª∫</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Ê±áÁºñËØ≠Ë®Ä/">Ê±áÁºñËØ≠Ë®Ä</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÁÆóÊ≥ï/">ÁÆóÊ≥ï</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÁÆóÊ≥ïÈ¢òÁõÆ/">ÁÆóÊ≥ïÈ¢òÁõÆ</a>
          <span class="category-list-count">60</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ËØæÁ®ã/">ËØæÁ®ã</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redis/ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ/">ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ËΩØ‰ª∂ÊµãËØï/">ËΩØ‰ª∂ÊµãËØï</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ËΩØËÄÉ/">ËΩØËÄÉ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Èù¢ËØïÊÄªÁªì/">Èù¢ËØïÊÄªÁªì</a>
          <span class="category-list-count">15</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/È°πÁõÆÊÄªÁªì/">È°πÁõÆÊÄªÁªì</a>
          <span class="category-list-count">3</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ÊúÄÊñ∞ÊñáÁ´†</h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2025/07/30/ÂºÄ‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ‰∏ìÈó®Â≠¶‰π†Êó•ËØ≠ÁöÑÂçöÂÆ¢/">ÂºÄ‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ‰∏ìÈó®Â≠¶‰π†Êó•ËØ≠ÁöÑÂçöÂÆ¢</a>
          </li>
        
          <li>
            <a href="/2025/07/29/‰∏Ä„ÄÅÂπ∂Ë°åÁºñÁ®ãÂØºËÆ∫‰∏éCUDAÂÖ•Èó®/">‰∏Ä„ÄÅÂπ∂Ë°åÁºñÁ®ãÂØºËÆ∫‰∏éCUDAÂÖ•Èó®</a>
          </li>
        
          <li>
            <a href="/2025/07/24/‰∏Ä‰∫õÂÖçË¥πÁöÑGPUËµÑÊ∫ê/">‰∏Ä‰∫õÂÖçË¥πÁöÑGPUËµÑÊ∫ê</a>
          </li>
        
          <li>
            <a href="/2025/07/21/debian12ÈÉ®ÁΩ≤kubernetes-1-28ÈõÜÁæ§/">debian12ÈÉ®ÁΩ≤kubernetes-1.28ÈõÜÁæ§</a>
          </li>
        
          <li>
            <a href="/2025/07/21/ÂàÜ‰∫´‰∏§‰∏™ÊúçÂä°Âô®ÂÆûÁî®ËÑöÊú¨ÔºöxsyncÂíåxcall/">ÂàÜ‰∫´‰∏§‰∏™ÊúçÂä°Âô®ÂÆûÁî®ËÑöÊú¨ÔºöxsyncÂíåxcall</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <div class="nexmoe-copyright">
        <span style="color:#707070;font-size: 14px;">
            Êú¨Á´ôÊÄªËÆøÈóÆÈáè<span id="busuanzi_value_site_pv"></span>Ê¨° <br>
            Êú¨Á´ôËÆøÂÆ¢Êï∞<span id="busuanzi_value_site_uv"></span>‰∫∫Ê¨° <br>
        </span>
        <span id="showsectime" style="color:#707070;font-size: 14px;">
            Êú¨Á´ôÂ∑≤ËøêË°å0Â§©0Â∞èÊó∂0ÂàÜ0Áßí
        </span>
        <i class="fa fa-heart throb" style="color:#d43f57">‚ù§</i><br>

        &copy; 2025 Jasonkay
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>

    <div id="footer-info">

    </div>

    <script type="text/javascript">
        function NewDate(str) {
            str = str.split('-');
            var date = new Date();
            date.setUTCFullYear(str[0], str[1] - 1, str[2]);
            date.setUTCHours(0, 0, 0, 0);
            return date;
        }
        function showsectime() {
            var birthDay = NewDate("2019-09-01");
            var today = new Date();
            var timeold = today.getTime() - birthDay.getTime();
            var sectimeold = timeold / 1000
            var secondsold = Math.floor(sectimeold);
            var msPerDay = 24 * 60 * 60 * 1000; var e_daysold = timeold / msPerDay;
            var daysold = Math.floor(e_daysold);
            var e_hrsold = (daysold - e_daysold) * -24;
            var hrsold = Math.floor(e_hrsold);
            var e_minsold = (hrsold - e_hrsold) * -60;
            var minsold = Math.floor((hrsold - e_hrsold) * -60); var seconds = Math.floor((minsold - e_minsold) * -60).toString();
            document.getElementById("showsectime").innerHTML = "Êú¨Á´ôÂ∑≤ËøêË°å" + daysold + "Â§©" + hrsold + "Â∞èÊó∂" + minsold + "ÂàÜ" + seconds + "Áßí";
            setTimeout(showsectime, 1000);
        }
        showsectime();
    </script>

</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
      <div class="nexmoe-post">
  <div class="nexmoe-post-cover">
    
    <img src="https://img.paulzzh.com/touhou/random?11">
    
    <h1>Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock ProtobufÁöÑÂ∑•ÂÖ∑</h1>
  </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2022Âπ¥10Êúà07Êó•</a>
    <a><i class="nexmoefont icon-areachart"></i>6.6k Â≠ó</a>
    <a><i class="nexmoefont icon-areachart"></i><span class="archive-article-date">ÈòÖËØªÈáè<span id="busuanzi_value_page_pv"></span>
      </span></a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>Â§ßÊ¶Ç 35 ÂàÜÈíü</a>

    
    <a class="nexmoefont icon-appstore-fill -link" href="/categories/TypeScript/">TypeScript</a>
    
    
    <a class="nexmoefont icon-tag-fill -link" href="/tags/Protobuf/">Protobuf</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/TypeScript/">TypeScript</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/Â∑•ÂÖ∑ÂàÜ‰∫´/">Â∑•ÂÖ∑ÂàÜ‰∫´</a>
    
  </div>
  <article>
    
    <div id="toc" class="toc-article">
      <ul class="markdownIt-TOC">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock-ProtobufÁöÑÂ∑•ÂÖ∑"><span class="toc-text">Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock ProtobufÁöÑÂ∑•ÂÖ∑</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#‰ΩøÁî®"><span class="toc-text">‰ΩøÁî®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Mock-JSON-Êï∞ÊçÆ"><span class="toc-text">Mock JSON Êï∞ÊçÆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MockÊúçÂä°"><span class="toc-text">MockÊúçÂä°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Âü∫Êú¨Áî®Ê≥ï"><span class="toc-text">Âü∫Êú¨Áî®Ê≥ï</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ëá™ÂÆö‰πâËøîÂõûÂÄº"><span class="toc-text">Ëá™ÂÆö‰πâËøîÂõûÂÄº</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ËøáÊª§Êù°‰ª∂"><span class="toc-text">ËøáÊª§Êù°‰ª∂</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#IncludeËøáÊª§Êù°‰ª∂"><span class="toc-text">IncludeËøáÊª§Êù°‰ª∂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ExcludeËøáÊª§Êù°‰ª∂"><span class="toc-text">ExcludeËøáÊª§Êù°‰ª∂</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ÂºÄÂèëËøáÁ®ã"><span class="toc-text">ÂºÄÂèëËøáÁ®ã</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#È°πÁõÆÈÖçÁΩÆ"><span class="toc-text">È°πÁõÆÈÖçÁΩÆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#‰ª£Á†ÅÈÄªËæë"><span class="toc-text">‰ª£Á†ÅÈÄªËæë</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ÂëΩ‰ª§Ë°åÂÖ•Âè£"><span class="toc-text">ÂëΩ‰ª§Ë°åÂÖ•Âè£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ÂêÑ‰∏™Â≠êÂëΩ‰ª§ÂÖ•Âè£"><span class="toc-text">ÂêÑ‰∏™Â≠êÂëΩ‰ª§ÂÖ•Âè£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GenerateÂ≠êÂëΩ‰ª§"><span class="toc-text">GenerateÂ≠êÂëΩ‰ª§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#GenerateÂëΩ‰ª§ÂÖ•Âè£"><span class="toc-text">GenerateÂëΩ‰ª§ÂÖ•Âè£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Âä†ËΩΩProtobufÊñá‰ª∂"><span class="toc-text">Âä†ËΩΩProtobufÊñá‰ª∂</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ËøáÊª§ProtobufÂÆö‰πâ"><span class="toc-text">ËøáÊª§ProtobufÂÆö‰πâ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ÂàõÂª∫MockÊï∞ÊçÆ"><span class="toc-text">ÂàõÂª∫MockÊï∞ÊçÆ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ServeÂ≠êÂëΩ‰ª§"><span class="toc-text">ServeÂ≠êÂëΩ‰ª§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ServeÂ≠êÂëΩ‰ª§ÂÖ•Âè£"><span class="toc-text">ServeÂ≠êÂëΩ‰ª§ÂÖ•Âè£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ÂàõÂª∫Server"><span class="toc-text">ÂàõÂª∫Server</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Ëé∑ÂèñÂêÑ‰∏™Handler"><span class="toc-text">Ëé∑ÂèñÂêÑ‰∏™Handler</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NPM‰∏äÂèëÂ∏É"><span class="toc-text">NPM‰∏äÂèëÂ∏É</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ÈôÑÂΩï"><span class="toc-text">ÈôÑÂΩï</span></a></li></ol>
      </ul>
    </div>
    
    <p>ÊúÄËøëÈÉ®Èó®Ë¶ÅÊêûAPIÂÖàË°åÔºåÂêéÁ´ØÂÆö‰πâÂ•ΩÊé•Âè£‰πãÂêéÂ∞±Ë¶ÅÁªôÂâçÁ´ØMockÂ•ΩÊï∞ÊçÆÔºõ</p>
<p>Âú®ÁΩë‰∏äÊâæ‰∫ÜÂÖ≥‰∫éProtobufËΩ¨JSONÁöÑÂ∑•ÂÖ∑ÔºåÈÉΩÊ≤°ÊúâÊâæÂà∞ÔºåÊâÄ‰ª•Ëá™Â∑±ÂÜô‰∫Ü‰∏Ä‰∏™Ôºõ</p>
<p>Ê∫ê‰ª£Á†ÅÔºö</p>
<ul>
<li><a href="https://github.com/JasonkayZK/mock-protobuf.js" target="_blank" rel="noopener">https://github.com/JasonkayZK/mock-protobuf.js</a></li>
</ul>
<br>

<a id="more"></a>

<h1 id="Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock-ProtobufÁöÑÂ∑•ÂÖ∑"><a href="#Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock-ProtobufÁöÑÂ∑•ÂÖ∑" class="headerlink" title="Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock ProtobufÁöÑÂ∑•ÂÖ∑"></a><strong>Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock ProtobufÁöÑÂ∑•ÂÖ∑</strong></h1><h2 id="‰ΩøÁî®"><a href="#‰ΩøÁî®" class="headerlink" title="‰ΩøÁî®"></a><strong>‰ΩøÁî®</strong></h2><p>‰ΩøÁî® npm ÂÆâË£ÖÔºö</p>
<pre><code class="bash">npm i mock-pb-cli@latest -g</code></pre>
<p>ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÂëΩ‰ª§Êü•ÁúãÂ∏ÆÂä©Ôºö</p>
<pre><code class="bash">$ mock-pb -h

Usage: mock-protobuf [options] [command]

A tool to mock protobuf

Options:
  -v, --version         output the version number
  -h, --help            display help for command

Commands:
  s|serve [options]     Create a mock server for the given protobuf
  g|generate [options]  Generate mock data for the given protobuf
  help [command]        display help for command</code></pre>
<p>Êúâ‰∏§‰∏™Â≠êÂëΩ‰ª§Ôºö</p>
<ul>
<li><code>mock-pb g</code> Êàñ <code>mock-pb generate</code>ÔºöMock JSON Êï∞ÊçÆÔºõ</li>
<li><code>mock-pb s</code> or <code>mock-pb serve</code>ÔºöMock ÊúçÂä°Ôºõ</li>
</ul>
<br>

<h3 id="Mock-JSON-Êï∞ÊçÆ"><a href="#Mock-JSON-Êï∞ÊçÆ" class="headerlink" title="Mock JSON Êï∞ÊçÆ"></a><strong>Mock JSON Êï∞ÊçÆ</strong></h3><p>Generate Â≠êÂëΩ‰ª§‰∏ªË¶ÅÊòØÁî®Êù•ÁîüÊàê Mock ÁöÑ JSON Êï∞ÊçÆÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">$ mock-pb g</code></pre>
<p>‰∏äÈù¢ÁöÑÂëΩ‰ª§‰ºöËé∑ÂèñÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï‰∏ãÊâÄÊúâÁöÑ Proto Êñá‰ª∂ÔºåÂπ∂‰∏îÂ∞Ü Mock ÁöÑÊï∞ÊçÆËæìÂá∫Âà∞ÁªàÁ´ØÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">Mocked demo.BasicResponse:
{
    &quot;status&quot;: 902735693509892,
    &quot;message&quot;: &quot;Vmucue hqxllqx oiloapzwp.&quot;,
    &quot;resp&quot;: {}
}

Mocked demo.DemoRequest:
{
    &quot;data&quot;: &quot;Kqr gxxq.&quot;
}

Mocked demo.DemoResponse:
{
    &quot;resp&quot;: {
        &quot;status&quot;: -6061376970430480,
        &quot;message&quot;: &quot;Xpjzjyxrcq eqkmytjo.&quot;,
        &quot;resp&quot;: {}
    },
    &quot;resp_data&quot;: &quot;Ryogd tswayqjsf.&quot;
}</code></pre>
<p><strong>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÁöÑ Protobuf Êñá‰ª∂ÊêúÁ¥¢Ë∑ØÁ∫ø‰∏∫ <code>.</code>Ôºå‰Ω†‰πüÂèØ‰ª•‰ΩøÁî® <code>-d</code> Êù•ÊåáÂÆöË∑ØÂæÑÔºÅ</strong></p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">$ mock-pb g -d ../test/proto</code></pre>
<p>ÂêåÊó∂Ôºå<strong>ÈªòËÆ§ÊÉÖÂÜµ‰∏ã Mock Êï∞ÊçÆ‰ºöÊâìÂç∞Âà∞ÁªàÁ´ØÔºå‰Ω†‰πüÂèØ‰ª•‰ΩøÁî® <code>-o</code> Êù•ÊåáÂÆöÂ∞Ü Mock ÁöÑÊï∞ÊçÆËæìÂá∫Âà∞ÊåáÂÆöÁöÑÁõÆÂΩïÔºÅ</strong></p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">$ mock-pb g -o ./mock-pb-output</code></pre>
<p>Ê≠§Êó∂Ôºå<code>mock-pb-output</code> ÁõÆÂΩï‰∏ãÁöÑÁªìÊûú‰∏∫Ôºö</p>
<pre><code class="bash">$ tree
.
‚îú‚îÄ‚îÄ demo
‚îÇ   ‚îú‚îÄ‚îÄ BasicResponse.json
‚îÇ   ‚îú‚îÄ‚îÄ DemoRequest.json
‚îÇ   ‚îî‚îÄ‚îÄ DemoResponse.json
‚îú‚îÄ‚îÄ google.api
‚îÇ   ‚îú‚îÄ‚îÄ CustomHttpPattern.json
‚îÇ   ‚îú‚îÄ‚îÄ HttpBody.json
‚îÇ   ‚îú‚îÄ‚îÄ Http.json
‚îÇ   ‚îî‚îÄ‚îÄ HttpRule.json
‚îî‚îÄ‚îÄ google.protobuf
    ‚îú‚îÄ‚îÄ Any.json
    ‚îú‚îÄ‚îÄ Api.json
        ......
    ‚îú‚îÄ‚îÄ SourceContext.json
    ‚îú‚îÄ‚îÄ Type.json
    ‚îî‚îÄ‚îÄ UninterpretedOption.json</code></pre>
<p>ËæìÂá∫‰∏≠ÁöÑÁõÆÂΩïÁªìÊûÑÊòØÊ†πÊçÆ Proto Êñá‰ª∂‰∏≠ÁöÑ <code>package</code> Êù•‰∫ßÁîüÁöÑÔºÅ</p>
<br>

<h3 id="MockÊúçÂä°"><a href="#MockÊúçÂä°" class="headerlink" title="MockÊúçÂä°"></a><strong>MockÊúçÂä°</strong></h3><h4 id="Âü∫Êú¨Áî®Ê≥ï"><a href="#Âü∫Êú¨Áî®Ê≥ï" class="headerlink" title="Âü∫Êú¨Áî®Ê≥ï"></a><strong>Âü∫Êú¨Áî®Ê≥ï</strong></h4><p>Èô§‰∫Ü‰∫ßÁîü Mock ÁöÑÊï∞ÊçÆÔºå‰πüÂèØ‰ª•Áõ¥Êé• Mock ÊúçÂä°Êé•Âè£Ôºõ</p>
<p>‰∏ãÈù¢ÁöÑÂëΩ‰ª§‰ºöËØªÂèñÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï‰∏ãÁöÑ Proto Êñá‰ª∂ÔºåÂπ∂ Mock Âú® Service ‰∏≠ÂÆö‰πâ‰∫ÜÁöÑ MethodÔºö</p>
<pre><code class="bash">$ mock-pb s</code></pre>
<p>ËæìÂá∫Â¶Ç‰∏ãÔºö</p>
<pre><code class="bash">Handling routePath: /Demo
Handling routePath: /demo/DemoServiceAnotherDemo
restify listening at http://[::]:3333</code></pre>
<p>Âú®ÊúçÂä°Á´ØÂêØÂä®Êó∂Ôºå‰ºöÊâìÂç∞Âá∫ÊØè‰∏™Êé•Âè£ÁöÑËØ∑Ê±ÇË∑ØÂæÑÔºõ</p>
<blockquote>
<p>  <strong>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÁöÑÊúçÂä°Á´ØÂè£Âè∑‰∏∫Ôºö<code>3333</code>Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî® <code>-p</code> Êù•Ëá™ÂÆö‰πâÁ´ØÂè£Ôºõ</strong></p>
<p>  ‰æãÂ¶ÇÔºö</p>
<ul>
<li><code>mock-pb s -p 13333</code></li>
</ul>
</blockquote>
<p>Â¶ÇÊûú‰Ω†Âú®‰Ω†ÁöÑ Method ‰∏≠ÈÄöËøá <code>google.api.http</code> ÂÆö‰πâ‰∫ÜËØ∑Ê±ÇË∑ØÂæÑÔºåÈÇ£‰πàÂú® Mock ÊúçÂä°ÁöÑÊó∂ÂÄô‰ºö‰ΩøÁî®Ëøô‰∏™Ë∑ØÂæÑÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="protobuf">service DemoService {
  rpc Demo(DemoRequest) returns (DemoResponse) {
    option (google.api.http) = {
      post: &quot;/Demo&quot;
      body: &quot;*&quot;
    };
  }
}</code></pre>
<p>Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆöËØ∑Ê±ÇË∑ØÂæÑÔºåÈÇ£‰πàËØ∑Ê±ÇË∑ØÂæÑ‰∏∫Ôºö<code>/{ProtobufPackageName}/{ProtobufMethodName}</code>Ôºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="protobuf">syntax = &quot;proto3&quot;;

package demo;

service DemoService {
  rpc AnotherDemo(AnotherDemoRequest) returns (AnotherDemoResponse) {}
}</code></pre>
<p>ÂΩìÊúçÂä°ÂêØÂä®ÂêéÁöÑËØ∑Ê±ÇË∑ØÂæÑ‰∏∫Ôºö</p>
<pre><code class="bash">$ curl localhost:3333/demo/DemoServiceAnotherDemo
{&quot;resp&quot;:{&quot;status&quot;:-843357854531144,&quot;message&quot;:&quot;Vzby.&quot;,&quot;resp&quot;:{}},&quot;resp_data&quot;:&quot;Kvia gfkcggmuo.&quot;}</code></pre>
<br>

<h4 id="Ëá™ÂÆö‰πâËøîÂõûÂÄº"><a href="#Ëá™ÂÆö‰πâËøîÂõûÂÄº" class="headerlink" title="Ëá™ÂÆö‰πâËøîÂõûÂÄº"></a><strong>Ëá™ÂÆö‰πâËøîÂõûÂÄº</strong></h4><p>ÊúâÊó∂ÂÄô‰Ω†ÂèØËÉΩÂπ∂‰∏çÊÉ≥ Mock ‰∏Ä‰∫õÂÉè‰∏ãÈù¢Ëøô‰∫õÊó†ÊÑè‰πâÁöÑÊï∞ÊçÆÔºö</p>
<pre><code class="json">{&quot;resp&quot;:{&quot;status&quot;:-843357854531144,&quot;message&quot;:&quot;Vzby.&quot;,&quot;resp&quot;:{}},&quot;resp_data&quot;:&quot;Kvia gfkcggmuo.&quot;}</code></pre>
<p>ËÄåÊòØÊÉ≥Ë¶ÅËá™ÂÆö‰πâ‰∏Ä‰∫õÊúâÁî®ÁöÑËøîÂõûÂÄºÔºåÊØîÂ¶ÇÔºö</p>
<pre><code class="json">{&quot;resp&quot;:{&quot;status&quot;:200,&quot;message&quot;:&quot;ok&quot;},&quot;resp_data&quot;:{&quot;Message&quot;:&quot;This is a demo message&quot;}}</code></pre>
<p>Ê≠§Êó∂ÂèØ‰ª•ÂàõÂª∫ÈÖçÁΩÆÊñá‰ª∂Ôºå‰æãÂ¶ÇÔºö</p>
<p>mock-protobuf.config.json</p>
<pre><code class="json">{
    &quot;ResponseValue&quot;: [
        {
            &quot;MethodName&quot;: &quot;demo.Demo&quot;,
            &quot;Data&quot;: {
                &quot;Hello&quot;: &quot;world&quot;
            }
        },
        {
            &quot;MethodName&quot;: &quot;demo.AnotherDemo&quot;,
            &quot;Data&quot;: {
                &quot;resp&quot;: {
                    &quot;status&quot;: 200,
                    &quot;message&quot;: &quot;ok&quot;
                },
                &quot;resp_data&quot;: {
                    &quot;Message&quot;: &quot;This is a demo message&quot;
                }
            }
        }
    ]
}
</code></pre>
<p>ÂÖ∂‰∏≠ <code>MethodName</code> ÊòØ Proto Êñá‰ª∂‰∏≠ Method ÁöÑÂÖ®ÂêçÔºö<code>package.method</code>Ôºõ</p>
<p>ÂêåÊó∂Ôºå‰Ω†‰πüÂèØ‰ª•ÈÄöËøá <code>-c</code> ËØ∑Ê±ÇÊù•ÊåáÂÆö‰Ω†ÁöÑÈÖçÁΩÆÊñá‰ª∂Ë∑ØÂæÑÔºå‰æãÂ¶ÇÔºö <code>-c ./mock-protobuf.config.json</code>Ôºõ</p>
<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂëΩ‰ª§Ë°å‰æãÂ≠êÔºö</p>
<pre><code class="bash">$ npm run dev -- s -i demo -c ./mock-protobuf.config-demo.json</code></pre>
<p>‰ΩøÁî®Ëá™ÂÆö‰πâËøîÂõûÂÄºÂêéÁöÑÂìçÂ∫îÂ¶Ç‰∏ãÔºö</p>
<pre><code class="bash">$ curl localhost:3333/Demo
{&quot;Hello&quot;:&quot;world&quot;}

$ curl localhost:3333/demo/DemoServiceAnotherDemo
{&quot;resp&quot;:{&quot;status&quot;:200,&quot;message&quot;:&quot;ok&quot;},&quot;resp_data&quot;:{&quot;Message&quot;:&quot;This is a demo message&quot;}}</code></pre>
<br>

<h3 id="ËøáÊª§Êù°‰ª∂"><a href="#ËøáÊª§Êù°‰ª∂" class="headerlink" title="ËøáÊª§Êù°‰ª∂"></a><strong>ËøáÊª§Êù°‰ª∂</strong></h3><p>ÊúâÁöÑÊó∂ÂÄôÊàë‰ª¨Âπ∂‰∏çÊÉ≥ Mock ÊâÄÊúâÁöÑ Proto ÂÆö‰πâÔºåÊ≠§Êó∂ÂèØ‰ª•‰ΩøÁî® Filter ËøáÊª§Êù°‰ª∂Ôºõ</p>
<p>Êúâ‰∏§ÁßçÊñπÂºèËøõË°åËøáÊª§Ôºö</p>
<ul>
<li>ÂåÖÂê´ Includes: <code>-i &lt;string&gt;</code> Êàñ <code>--include</code>;</li>
<li>‰∏çÂåÖÂê´ Excludes: <code>-e &lt;string&gt;</code> Êàñ <code>--exclude</code>;</li>
</ul>
<p><strong>‰∏äÈù¢ÁöÑ <code>&lt;string&gt;</code> Ë¢´ÂÆö‰πâ‰∏∫‰∏Ä‰∏™JS‰∏≠ÁöÑÊ≠£ÂàôË°®ËææÂºè <code>RegExp</code>ÔºåÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®Á±ª‰ºº‰∫éÊ≠£ÂàôË°®ËææÂºèÁöÑÊñπÂºèÂØπ Proto ÂÆö‰πâËøõË°åÂåπÈÖçÔºö<code>packageName.serviceName.methodName</code>Ôºõ</strong></p>
<blockquote>
<p>  <strong>Â§ö‰∏™Êù°‰ª∂‰ΩøÁî® <code>,</code> ÂàÜÈöîÔºÅ</strong></p>
</blockquote>
<br>

<h4 id="IncludeËøáÊª§Êù°‰ª∂"><a href="#IncludeËøáÊª§Êù°‰ª∂" class="headerlink" title="IncludeËøáÊª§Êù°‰ª∂"></a><strong>IncludeËøáÊª§Êù°‰ª∂</strong></h4><p>ÂΩì‰ΩøÁî® Include ËøáÊª§Êù°‰ª∂ÔºåÂè™ÊúâÂåπÈÖçÁöÑ Proto ÂÆö‰πâÊâç‰ºöË¢´ MockÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">$ mock-pb g -i demo

Mocked demo.BasicResponse:
{
    &quot;status&quot;: -978663427598816,
    &quot;message&quot;: &quot;Iymo zomttydmb.&quot;,
    &quot;resp&quot;: {}
}

Mocked demo.DemoRequest:
{
    &quot;data&quot;: &quot;Mdnbfxbvoq khrbwyu sxmkev jss.&quot;
}

Mocked demo.DemoResponse:
{
    &quot;resp&quot;: {
        &quot;status&quot;: 6207610394471496,
        &quot;message&quot;: &quot;Dkwse mmhmuhhunb.&quot;,
        &quot;resp&quot;: {}
    },
    &quot;resp_data&quot;: &quot;Fqwkd noiefpr ntjbcfydl.&quot;
}

Mocked demo.AnotherDemoRequest:
{
    &quot;name&quot;: &quot;Puvujqy kyxl hshuysly.&quot;,
    &quot;age&quot;: 175838119803604
}

Mocked demo.AnotherDemoResponse:
{
    &quot;resp&quot;: {
        &quot;status&quot;: -7659482750118844,
        &quot;message&quot;: &quot;Fygec kyzysqqga svimupy nbfrjt.&quot;,
        &quot;resp&quot;: {}
    },
    &quot;resp_data&quot;: &quot;Mpgjtjsbr qfspgkb xmpji.&quot;
}</code></pre>
<p>‰∏äÈù¢ÁöÑÂëΩ‰ª§Âè™‰ºö‰∏∫ <code>demo.*</code> ‰∫ßÁîü Mock Êï∞ÊçÆÔºàÂç≥Ôºöpackage ‰∏∫ demo ÁöÑÈÇ£‰∫õÂÆö‰πâÔºâÔºÅ</p>
<p>Âè¶Â§ñ‰∏Ä‰∏™‰æãÂ≠êÔºö</p>
<pre><code class="bash">$ mock-pb g -i demo.DemoRequest.*

Mocked demo.DemoRequest:
{
    &quot;data&quot;: &quot;Ewqzspj hjkfvvc froqdhkwe fkqsdg dytidwli.&quot;
}</code></pre>
<p>Ê≠§Êó∂Âè™‰ºö MockÔºö<code>demo.DemoRequest</code> Ëøô‰∏Ä‰∏™ MessageÔºÅ</p>
<br>

<h4 id="ExcludeËøáÊª§Êù°‰ª∂"><a href="#ExcludeËøáÊª§Êù°‰ª∂" class="headerlink" title="ExcludeËøáÊª§Êù°‰ª∂"></a><strong>ExcludeËøáÊª§Êù°‰ª∂</strong></h4><p>Áõ∏ÂèçÁöÑÔºå<code>-e</code> ‰∫ßÁîüÂ∞Ü‰ºöÊéíÈô§ÈÇ£‰∫õÂåπÈÖçÁöÑ MessageÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">$ mock-pb g -e demo.*,google.protobuf.* -o mock-pb-gen

$ tree
.
‚îî‚îÄ‚îÄ google.api
    ‚îú‚îÄ‚îÄ CustomHttpPattern.json
    ‚îú‚îÄ‚îÄ HttpBody.json
    ‚îú‚îÄ‚îÄ Http.json
    ‚îî‚îÄ‚îÄ HttpRule.json</code></pre>
<p>‰∏äÈù¢ÁöÑÂëΩ‰ª§Â∞Ü‰∏ç‰ºö Mock  <code>demo.*</code> Âíå <code>google.protobuf.*</code> ‰∏ãÁöÑ MessageÔºÅ</p>
<p><font color="#f00"><strong>Ê≥®ÊÑèÔºöÂΩì‰Ω†ÂêåÊó∂‰ΩøÁî®  <code>include</code> and <code>exclude</code> ‰∏§‰∏™ËøáÊª§Âô®Ôºå<code>exclude</code> ‰ºöÊ∞∏ËøúÈ¶ñÂÖàÁîüÊïàÔºÅ</strong></font></p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">$ mock-pb g -i demo -e demo</code></pre>
<p>‰ªÄ‰πàÈÉΩ‰∏ç‰ºöËæìÂá∫ÔºåÂõ†‰∏∫ÊâÄÊúâÁöÑÂÜÖÂÆπÈÉΩË¢´ËøáÊª§Êéâ‰∫ÜÔºÅ</p>
<br>

<h2 id="ÂºÄÂèëËøáÁ®ã"><a href="#ÂºÄÂèëËøáÁ®ã" class="headerlink" title="ÂºÄÂèëËøáÁ®ã"></a><strong>ÂºÄÂèëËøáÁ®ã</strong></h2><p>‰∏äÈù¢‰∏ªË¶ÅÊòØËÆ≤Ëß£‰∫Ü Mock Â∑•ÂÖ∑ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºõ</p>
<p>‰∏ãÈù¢ÊÄªÁªì‰∫Ü‰∏Ä‰∏ãËøô‰∏™Â∑•ÂÖ∑ÁöÑÊï¥‰∏™ÂºÄÂèëËøáÁ®ãÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•ÁúãÁúãÔºõ</p>
<br>

<h3 id="È°πÁõÆÈÖçÁΩÆ"><a href="#È°πÁõÆÈÖçÁΩÆ" class="headerlink" title="È°πÁõÆÈÖçÁΩÆ"></a><strong>È°πÁõÆÈÖçÁΩÆ</strong></h3><p>È°πÁõÆÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÔºàÁúÅÁï•‰∫Ü‰∏Ä‰∫õÊó†ÂÖ≥ÁöÑÊñá‰ª∂ÔºâÔºö</p>
<pre><code class="bash">$ tree
.
‚îú‚îÄ‚îÄ jest.config.js
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ proto
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ commands
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ options.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ serve.ts
‚îÇ   ‚îú‚îÄ‚îÄ index.ts
‚îÇ   ‚îî‚îÄ‚îÄ libs
‚îÇ       ‚îú‚îÄ‚îÄ configs.ts
‚îÇ       ‚îú‚îÄ‚îÄ filter.ts
‚îÇ       ‚îú‚îÄ‚îÄ mock.ts
‚îÇ       ‚îî‚îÄ‚îÄ server.ts
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ tslint.json</code></pre>
<p>ÁõÆÂΩïÁªìÊûÑÈùûÂ∏∏ÁÆÄÂçïÔºö</p>
<ul>
<li><code>tslint.json</code>Ôºö‰∏Ä‰∫õ TS lint Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆÔºõ</li>
<li><code>tsconfig.json</code>ÔºöTS ÁºñËØëÁõ∏ÂÖ≥ÈÖçÁΩÆÔºõ</li>
<li><code>jest.config.js</code>ÔºöJest ÊµãËØïÁõ∏ÂÖ≥ÈÖçÁΩÆÔºõ</li>
<li><code>package.json</code>ÔºöÈ°πÁõÆ‰∏ªÈÖçÁΩÆÔºõ</li>
<li><code>proto/</code>ÔºöÈ°πÁõÆÊèê‰æõÁöÑÊµãËØï Protobuf Êñá‰ª∂Ôºõ</li>
<li><code>src/</code>ÔºöÈ°πÁõÆ‰ª£Á†ÅÔºõ</li>
</ul>
<p>‰∏ãÈù¢‰∏ªË¶ÅÁúã <code>package.json</code> ÈÖçÁΩÆÔºö</p>
<p>package.json</p>
<pre><code class="json">{
    &quot;name&quot;: &quot;mock-pb-cli&quot;,
    &quot;version&quot;: &quot;v1.1.1&quot;,
    &quot;scripts&quot;: {
        &quot;c&quot;: &quot;tsc&quot;,
        &quot;serve&quot;: &quot;ts-node src/index.ts&quot;,
        &quot;dev&quot;: &quot;ts-node-dev src/index.ts&quot;,
        &quot;test&quot;: &quot;jest&quot;,
        &quot;cover&quot;: &quot;jest --coverage&quot;
    },
    &quot;main&quot;: &quot;src/index.ts&quot;,
    &quot;bin&quot;: {
        &quot;mock-pb&quot;: &quot;bin/index.js&quot;
    },
    &quot;files&quot;: [
        &quot;bin&quot;,
        &quot;README.md&quot;
    ],
    &quot;devDependencies&quot;: {
        &quot;@types/fs-extra&quot;: &quot;^9.0.13&quot;,
        &quot;@types/jest&quot;: &quot;^24.0.13&quot;,
        &quot;@types/mockjs&quot;: &quot;^1.0.6&quot;,
        &quot;@types/node&quot;: &quot;^14.18.10&quot;,
        &quot;@types/restify&quot;: &quot;^8.5.5&quot;,
        &quot;@types/shelljs&quot;: &quot;^0.8.11&quot;,
        &quot;@types/supertest&quot;: &quot;^2.0.7&quot;,
        &quot;jest&quot;: &quot;^24.8.0&quot;,
        &quot;supertest&quot;: &quot;^4.0.2&quot;,
        &quot;ts-jest&quot;: &quot;^24.0.2&quot;,
        &quot;ts-node&quot;: &quot;^8.1.0&quot;,
        &quot;ts-node-dev&quot;: &quot;^2.0.0-0&quot;,
        &quot;tslint&quot;: &quot;^5.17.0&quot;,
        &quot;typescript&quot;: &quot;^4.8.2&quot;
    },
    &quot;dependencies&quot;: {
        &quot;commander&quot;: &quot;^9.4.0&quot;,
        &quot;fs-extra&quot;: &quot;^9.0.13&quot;,
        &quot;globby&quot;: &quot;^11.0.0&quot;,
        &quot;mockjs&quot;: &quot;^1.1.0&quot;,
        &quot;protobufjs&quot;: &quot;^7.1.0&quot;,
        &quot;restify&quot;: &quot;^8.6.1&quot;,
        &quot;shelljs&quot;: &quot;^0.8.5&quot;
    }
}</code></pre>
<p>Âú®‰∏äÈù¢ÁöÑÈÖçÁΩÆ‰∏≠Ôºö</p>
<ul>
<li><code>name</code> &amp; <code>version</code> ÂÜ≥ÂÆö‰∫ÜÂèëÂ∏ÉÂà∞ NPM ÂêéÁöÑÂêçÁß∞ÂíåÁâàÊú¨Âè∑Ôºõ</li>
<li><code>scripts</code>ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∫õ <code>npm</code> Êåá‰ª§ÔºåÂèØ‰ª•ÈÄöËøá <code>npm run xxx</code> ÊâßË°åÔºõ</li>
<li><code>main</code>Ôºö‰Ωú‰∏∫È°πÁõÆÂÖ•Âè£ÁöÑÊñá‰ª∂Ôºõ</li>
<li><strong><code>bin</code>ÔºàÈáçË¶ÅÔºÅÔºâÔºö‰Ωú‰∏∫ <code>node-cli</code> ÁöÑÂÖ•Âè£Êñá‰ª∂ÔºõÊ≥®Ôºö<code>mock-pb</code> ‰∏∫ÂÆâË£ÖÂêéÁöÑÂëΩ‰ª§ÂêçÁß∞Ôºå<code>bin/index.js</code> ‰∏∫ÂëΩ‰ª§ÁöÑÂÖ•Âè£Êñá‰ª∂ÔºÅ</strong></li>
<li><code>files</code>Ôºönpm ÊâìÂåÖ‰∏ä‰º†Êó∂ÂåÖÂê´ÁöÑÊñá‰ª∂Ôºõ</li>
<li><code>devDependencies</code>ÔºöÂºÄÂèë‰æùËµñÔºåÂ¶ÇÊûúÂè™‰ΩøÁî® <code>npm -i</code> ÂÆâË£ÖÔºåÂàô‰∏ç‰ºöÂÆâË£ÖËøô‰∫õ‰æùËµñÔºõ</li>
<li><code>dependencies</code>ÔºöÈ°πÁõÆ‰æùËµñÔºå‰ΩøÁî® <code>npm -i</code> ÂÆâË£ÖÔºå‰πü‰ºöÂÆâË£ÖËøô‰∫õ‰æùËµñÔºõ</li>
</ul>
<p><strong><code>devDependencies</code> ‰∏ªË¶ÅÊòØ‰∏Ä‰∫õ TS Â∫ì„ÄÅtestÂ∫ìÁ≠âÁ≠âÔºåÁî±‰∫éÊàë‰ª¨ÂèëÂ∏ÉÂà∞ NPM ‰∏äÁöÑ‰∏∫ÁºñËØëÂ•ΩÁöÑ JS Êñá‰ª∂ÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅËøô‰∫õ TS Â∫ì‰∫ÜÔºÅ</strong></p>
<p>Âú®Êàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠Ôºå‰∏ªË¶Å‰ΩøÁî®ÁöÑÊòØ‰∏ãÈù¢Ëøô‰∫õ‰æùËµñÔºö</p>
<ul>
<li><strong>‚Äúcommander‚ÄùÔºöÁü•ÂêçÁöÑÂëΩ‰ª§Ë°åËß£Êûê„ÄÅÊâßË°åÂ∫ìÔºõ</strong></li>
<li><strong>‚Äúfs-extra‚ÄùÔºöÂ∞ÅË£Ö‰∫Ü‰∏Ä‰∫õÊñá‰ª∂Á≥ªÁªüÂêåÊ≠•„ÄÅÂºÇÊ≠•Êìç‰ΩúÂ∫ìÔºõ</strong></li>
<li><strong>‚Äúglobby‚ÄùÔºöÂåπÈÖçÊñá‰ª∂ÔºåÁî®‰∫éÂåπÈÖç proto Á±ªÂûãÁöÑÊñá‰ª∂Ôºõ</strong></li>
<li><strong>‚Äúmockjs‚ÄùÔºöÁîüÊàê Mock Êï∞ÊçÆÔºõ</strong></li>
<li><strong>‚Äúprotobufjs‚ÄùÔºöËß£Êûê proto Êñá‰ª∂Ôºõ</strong></li>
<li><strong>‚Äúrestify‚ÄùÔºöÂàõÂª∫ Mock ServerÔºõ</strong></li>
<li><strong>‚Äúshelljs‚ÄùÔºö‰∏Ä‰∫õ shell ÂëΩ‰ª§ÁöÑÂ∞ÅË£ÖÂ∫ìÔºå‰æãÂ¶ÇÔºö<code>sed</code>Ôºõ</strong></li>
</ul>
<p>ÂÜçÁúã‰∏Ä‰∏ã TS ÁºñËØëÁöÑÈÖçÁΩÆÔºö</p>
<p>tsconfig.json</p>
<pre><code class="json">{
    &quot;compilerOptions&quot;: {
        /* Basic Options */
        &quot;target&quot;: &quot;ES6&quot;,                     /* Specify ECMAScript target version: &#39;ES3&#39; (default), &#39;ES5&#39;, &#39;ES2015&#39;, &#39;ES2016&#39;, &#39;ES2017&#39;,&#39;ES2018&#39; or &#39;ESNEXT&#39;. */

        //  ts-node ÁõÆÂâç‰∏çÊîØÊåÅes2015ÁöÑÁöÑÊ®°ÂùóÊú∫Âà∂
        //  https://github.com/TypeStrong/ts-node/issues/313#issuecomment-343698812
        &quot;module&quot;: &quot;commonjs&quot;,                     /* Specify module code generation: &#39;none&#39;, &#39;commonjs&#39;, &#39;amd&#39;, &#39;system&#39;, &#39;umd&#39;, &#39;es2015&#39;, or &#39;ESNext&#39;. */

        &quot;outDir&quot;: &quot;./bin/&quot;,                        /* Redirect output structure to the directory. */
        &quot;rootDir&quot;: &quot;./src/&quot;,   /* input folder, and root dir cannot contain some ohter ts file which not in src folder*/

          /* Strict Type-Checking Options */
        &quot;strict&quot;: true,                           /* Enable all strict type-checking options. */

        /* Module Resolution Options */
        &quot;moduleResolution&quot;: &quot;node&quot;,            /* Specify module resolution strategy: &#39;node&#39; (Node.js) or &#39;classic&#39; (TypeScript pre-1.6). */
        &quot;esModuleInterop&quot;: true,                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies &#39;allowSyntheticDefaultImports&#39;. */
        &quot;experimentalDecorators&quot;: true       /* Enables experimental support for ES7 decorators. */
    },
    &quot;exclude&quot;: [
      &quot;./test&quot;
    ]
}</code></pre>
<p>‰∏ªË¶ÅÂÖ≥Ê≥®Ôºö</p>
<ul>
<li><strong><code>outDir</code>ÔºöÊàë‰ª¨Â∞ÜÊñá‰ª∂ÁºñËØëËá≥Ôºö<code>bin/</code> ÁõÆÂΩï‰∏ãÔºåÂíå‰∏äÈù¢ÁöÑ <code>bin</code> ‰ª•Âèä <code>files</code> ÂØπÂ∫îÔºõ</strong></li>
<li><strong><code>rootDir</code>ÔºöÊàë‰ª¨ TS Êñá‰ª∂ÁöÑÊ†πÁõÆÂΩïÔºõ</strong></li>
</ul>
<p>‰∏ãÈù¢Êù•Áúã‰ª£Á†ÅÈÄªËæëÔºõ</p>
<br>

<h3 id="‰ª£Á†ÅÈÄªËæë"><a href="#‰ª£Á†ÅÈÄªËæë" class="headerlink" title="‰ª£Á†ÅÈÄªËæë"></a><strong>‰ª£Á†ÅÈÄªËæë</strong></h3><p>Âú® src ÁõÆÂΩï‰∏ãÂàÜ‰∏∫‰∫Ü‰∏§‰∏™ÁõÆÂΩïÔºö</p>
<pre><code class="bash">$ tree
.
‚îú‚îÄ‚îÄ commands
‚îÇ   ‚îú‚îÄ‚îÄ generate.ts
‚îÇ   ‚îú‚îÄ‚îÄ options.ts
‚îÇ   ‚îî‚îÄ‚îÄ serve.ts
‚îú‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ libs
    ‚îú‚îÄ‚îÄ configs.ts
    ‚îú‚îÄ‚îÄ filter.ts
    ‚îú‚îÄ‚îÄ mock.ts
    ‚îî‚îÄ‚îÄ server.ts

2 directories, 8 files</code></pre>
<ul>
<li>index.ts ‰∏∫ÊâßË°åÂÖ•Âè£Ôºõ</li>
<li>commands ÁõÆÂΩï‰∏ãÂ≠òÊîæÂ≠êÂëΩ‰ª§Áõ∏ÂÖ≥ÂÜÖÂÆπÔºõ</li>
<li>libs ÁõÆÂΩï‰∏ãÂ≠òÊîæÂ≠êÂëΩ‰ª§ÂÆûÁé∞Áõ∏ÂÖ≥ÂÜÖÂÆπÔºõ</li>
</ul>
<br>

<h4 id="ÂëΩ‰ª§Ë°åÂÖ•Âè£"><a href="#ÂëΩ‰ª§Ë°åÂÖ•Âè£" class="headerlink" title="ÂëΩ‰ª§Ë°åÂÖ•Âè£"></a><strong>ÂëΩ‰ª§Ë°åÂÖ•Âè£</strong></h4><p>ÂëΩ‰ª§Ë°åÂÖ•Âè£‰∏∫ index.tsÔºö</p>
<p>index.ts</p>
<pre><code class="typescript">#!/usr/bin/env node
const path = require(&#39;path&#39;);
const fs = require(&#39;fs&#39;);
const {Command} = require(&#39;commander&#39;);
const {DirOption, IncludeOption, ExcludeOption, PortOption, OutputPathOption, ConfigOption} = require(&#39;./commands/options&#39;)
const generate = require(&#39;./commands/generate&#39;);
const serve = require(&#39;./commands/serve&#39;);

const program = new Command();

let config = {};
// ÈÖçÁΩÆÊñá‰ª∂Â¶ÇÊûúÂ≠òÂú®ÂàôËØªÂèñ
if (fs.existsSync(path.resolve(&quot;mock-protobuf.config-demo.json&quot;))) {
    config = path.resolve(&quot;mock-protobuf.config-demo.json&quot;);
}

program
    .name(&quot;mock-protobuf&quot;)
    .version(&quot;v1.1.1&quot;, &quot;-v, --version&quot;)
    .description(&quot;A tool to mock protobuf&quot;);

program.command(&#39;s&#39;).alias(&#39;serve&#39;)
    .addOption(DirOption)
    .addOption(IncludeOption)
    .addOption(ExcludeOption)
    .addOption(PortOption)
    .addOption(ConfigOption)
    .action(serve).description(&quot;Create a mock server for the given protobuf&quot;);

program.command(&#39;g&#39;).alias(&#39;generate&#39;)
    .addOption(DirOption)
    .addOption(IncludeOption)
    .addOption(ExcludeOption)
    .addOption(OutputPathOption)
    .action(generate).description(&quot;Generate mock data for the given protobuf&quot;);

program.parse();</code></pre>
<p><strong>‰ª£Á†ÅÈ¶ñË°å <code>#!/usr/bin/env node</code> Ë°®Á§∫ËøôÊòØ‰∏Ä‰∏™ node-cli ÂÖ•Âè£ÔºåËøô‰∏™ÊòØÂøÖÈ°ªË¶ÅÂä†ÁöÑÔºÅ</strong></p>
<p>ÈöèÂêéÔºåËß£ÊûêÈÖçÁΩÆÊñá‰ª∂„ÄÅÁÑ∂ÂêéÊ≥®ÂÜåÊØè‰∏™ÂëΩ‰ª§Ôºõ</p>
<p>ÊúÄÂêéË∞ÉÁî®Ôºö<code>program.parse()</code>ÔºåËß£ÊûêÂëΩ‰ª§Ë°åÂèÇÊï∞Ôºõ</p>
<br>

<h4 id="ÂêÑ‰∏™Â≠êÂëΩ‰ª§ÂÖ•Âè£"><a href="#ÂêÑ‰∏™Â≠êÂëΩ‰ª§ÂÖ•Âè£" class="headerlink" title="ÂêÑ‰∏™Â≠êÂëΩ‰ª§ÂÖ•Âè£"></a><strong>ÂêÑ‰∏™Â≠êÂëΩ‰ª§ÂÖ•Âè£</strong></h4><p>commands ÁõÆÂΩï‰∏ãÂ≠òÊîæ‰∫ÜÊØè‰∏™Â≠êÂëΩ‰ª§„ÄÅ‰ª•ÂèäÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÊñá‰ª∂Ôºõ</p>
<p>È¶ñÂÖàÔºåÁî±‰∫éÊüê‰∫õÂëΩ‰ª§Ë°åÂèÇÊï∞‰ºöË¢´Â§çÁî®ÔºåÂõ†Ê≠§Âú® options.ts ‰∏≠ÂÆö‰πâ‰∫ÜÊâÄÊúâÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞Ôºö</p>
<p>options.ts</p>
<pre><code class="typescript">import {Option} from &quot;commander&quot;;

let DirOption = new Option(&#39;-d, --dir &lt;string&gt;&#39;, &#39;the directory of the protobuf files&#39;).default(&#39;.&#39;);

let PortOption = new Option(&#39;-p, --port &lt;number&gt;&#39;, &#39;the port for the mock server&#39;).default(3333).env(&#39;PB_MOCK_PORT&#39;);

let IncludeOption = new Option(&#39;-i, --include &lt;string&gt;&#39;,
    &#39;include the specific protobuf interfaces, multiple packages split by &quot;,&quot;, &#39; +
    &#39;such as: &quot;packageName.serviceName.methodName&quot;&#39;).default(&#39;&#39;);

let ExcludeOption = new Option(&#39;-e, --exclude &lt;string&gt;&#39;,
    &#39;exclude the specific protobuf interfaces, multiple packages split by &quot;,&quot;, &#39; +
    &#39;such as: &quot;packageName.serviceName.methodName&quot;&#39;).default(&#39;&#39;);

let OutputPathOption = new Option(&#39;-o, --output &lt;string&gt;&#39;, &#39;output path for result&#39;).default(&#39;&#39;);

let ConfigOption = new Option(&#39;-c, --config &lt;string&gt;&#39;, &#39;the config file path&#39;).default(&#39;mock-protobuf.config.json&#39;);

module.exports = {DirOption, PortOption, IncludeOption, ExcludeOption, OutputPathOption, ConfigOption: ConfigOption};</code></pre>
<p>Ëøô‰∫õÂèÇÊï∞Âíå‰∏äÈù¢ÁöÑÂäüËÉΩ‰ªãÁªç‰∏≠‰∏Ä‰∏ÄÂØπÂ∫îÔºõ</p>
<p>ÈöèÂêéÊòØ‰∏§‰∏™Â≠êÂëΩ‰ª§ÁöÑÂÆö‰πâÔºåÂØπÂ∫î‰∏äÊñá‰∏≠ÁöÑ generate Âíå serveÔºö</p>
<p>generate.ts</p>
<pre><code class="typescript">import {getMockTpl, loadProtobufDefinition} from &quot;../libs/mock&quot;;
import mockjs from &quot;mockjs&quot;;
import fs from &#39;fs-extra&#39;;
import path from &quot;path&quot;;
import {
    filterProtobufDefinitions,
    getProtobufFiltersFromOptions, ProtobufMessage,
} from &quot;../libs/filter&quot;;

interface GenerateCmdOptions {

    dir: string;

    include?: string | undefined;

    exclude?: string | undefined;

    output: string;
}

module.exports = (options: GenerateCmdOptions) =&gt; {
    // Step 1: Load protobuf definitions
    let pkgDefinition = loadProtobufDefinition(options.dir);

    // Step 2: Filter if necessary
    let [filteredMessages, _] = filterProtobufDefinitions(pkgDefinition, ...getProtobufFiltersFromOptions(options.include, options.exclude));

    // Step 3: Generate each messages
    filteredMessages.forEach((v: ProtobufMessage[]) =&gt; {
        // Step 3.2: Generate mocked protobuf message data
        for (let protobufMessage of v) {
            let mockTpl = getMockTpl(pkgDefinition, protobufMessage.packageName, protobufMessage.messageName, new Map(), undefined);
            let mockData = mockjs.mock(mockTpl);
            processMockData(options.output, protobufMessage, mockData);
        }
    });
}

function processMockData(outputPath: string, pbMessage: ProtobufMessage, mockedMessageData: any) {
    // Print the mock data to the console if no output path
    if (outputPath.length === 0) {
        console.log(`Mocked ${pbMessage.packageName}.${pbMessage.messageName}: \n${JSON.stringify(mockedMessageData, null, 2)}\n`);
        return
    }

    // Else async write the output
    let saveFilePath = path.posix.join(outputPath, pbMessage.packageName);
    fs.ensureDirSync(saveFilePath)
    fs.writeJSON(path.posix.join(saveFilePath, pbMessage.messageName + &quot;.json&quot;), mockedMessageData, err =&gt; {
        if (err) return console.error(err)
    })
}</code></pre>
<p>serve.ts</p>
<pre><code class="typescript">import {createServer, parse_response_value_from_config} from &quot;../libs/server&quot;;

interface ServeCmdOptions {

    dir: string;

    include: string;

    exclude: string;

    port: number | undefined;

    config: string;
}

module.exports = function (options: ServeCmdOptions) {
    createServer(options.dir, {
        include: options.include,
        exclude: options.exclude,
        /*
          The param data is result of mock.js
          https://github.com/nuysoft/Mock
        */
        /**
         * Hack mock rules of template
         * @param key protobuf message key
         * @param type protobuf message key type (eg. string/int32/bool...)
         * @param random
         */
        responseHandlerMap: parse_response_value_from_config(options.config),
        hackMockTpl: (key, type, random) =&gt; {
            key = key.toLowerCase();
            const keyTypeHas = (k: string, t: string) =&gt;
                type === t &amp;&amp; key.indexOf(k) &gt; -1;
            if (keyTypeHas(&#39;icon&#39;, &#39;string&#39;)) return &#39;@image&#39;;
            else if (keyTypeHas(&#39;name&#39;, &#39;string&#39;)) return &#39;@name&#39;;
            return &#39;&#39;;
        }
    }).then(server =&gt; server.start(options.port));
}</code></pre>
<p><strong>‰∏§‰∏™Â≠êÂëΩ‰ª§ÈÉΩÂè™ÊòØ export ‰∫ÜÂÖ•Âè£ÂáΩÊï∞ÔºåÁî®‰∫éÂú® index.ts ÂÖ•Âè£Êñá‰ª∂‰∏≠Ê≥®ÂÜåÂ≠êÂëΩ‰ª§Ôºõ</strong></p>
<p><strong>ÂêåÊó∂Ôºå‰∏§‰∏™Â≠êÂëΩ‰ª§‰∏ªË¶ÅÈÉΩÊòØË∞ÉÁî®Âú® libs ‰∏≠ÂÆö‰πâÁöÑÂáΩÊï∞ÔºåÊù•ÂÆåÊàêÂêÑËá™ÁöÑÂäüËÉΩÔºõ</strong></p>
<p>‰∏ãÈù¢Êù•ÁúãÂêÑÂ≠êÂëΩ‰ª§ÁöÑÂÆûÁé∞Ôºõ</p>
<br>

<h4 id="GenerateÂ≠êÂëΩ‰ª§"><a href="#GenerateÂ≠êÂëΩ‰ª§" class="headerlink" title="GenerateÂ≠êÂëΩ‰ª§"></a><strong>GenerateÂ≠êÂëΩ‰ª§</strong></h4><h5 id="GenerateÂëΩ‰ª§ÂÖ•Âè£"><a href="#GenerateÂëΩ‰ª§ÂÖ•Âè£" class="headerlink" title="GenerateÂëΩ‰ª§ÂÖ•Âè£"></a><strong>GenerateÂëΩ‰ª§ÂÖ•Âè£</strong></h5><p>ËÆ©Êàë‰ª¨Ëá™‰ø°ÁúãÁúã Generate ÂÖ•Âè£Êñá‰ª∂Ôºö</p>
<p>generate.ts</p>
<pre><code class="typescript">interface GenerateCmdOptions {

    dir: string;

    include?: string | undefined;

    exclude?: string | undefined;

    output: string;
}

module.exports = (options: GenerateCmdOptions) =&gt; {
    // Step 1: Load protobuf definitions
    let pkgDefinition = loadProtobufDefinition(options.dir);

    // Step 2: Filter if necessary
    let [filteredMessages, _] = filterProtobufDefinitions(pkgDefinition, ...getProtobufFiltersFromOptions(options.include, options.exclude));

    // Step 3: Generate each messages
    filteredMessages.forEach((v: ProtobufMessage[]) =&gt; {
        // Step 3.2: Generate mocked protobuf message data
        for (let protobufMessage of v) {
            let mockTpl = getMockTpl(pkgDefinition, protobufMessage.packageName, protobufMessage.messageName, new Map(), undefined);
            let mockData = mockjs.mock(mockTpl);
            processMockData(options.output, protobufMessage, mockData);
        }
    });
}

function processMockData(outputPath: string, pbMessage: ProtobufMessage, mockedMessageData: any) {
    // Print the mock data to the console if no output path
    if (outputPath.length === 0) {
        console.log(`Mocked ${pbMessage.packageName}.${pbMessage.messageName}: \n${JSON.stringify(mockedMessageData, null, 2)}\n`);
        return
    }

    // Else async write the output
    let saveFilePath = path.posix.join(outputPath, pbMessage.packageName);
    fs.ensureDirSync(saveFilePath)
    fs.writeJSON(path.posix.join(saveFilePath, pbMessage.messageName + &quot;.json&quot;), mockedMessageData, err =&gt; {
        if (err) return console.error(err)
    })
}</code></pre>
<p>È¶ñÂÖàÔºåGenerateCmdOptions Êé•Âè£ÂÆö‰πâ‰∫Ü Generate ÂëΩ‰ª§ÊâÄÈúÄË¶ÅÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞Ôºõ</p>
<p>Ëøô‰∫õÂèÇÊï∞Âú®ÂëΩ‰ª§Ë°åÂÖ•Âè£‰∏≠ÂèØ‰ª•Ë¢´‰º†ÈÄíËøõÊù•Ôºö</p>
<p>index.ts</p>
<pre><code class="typescript">program.command(&#39;g&#39;).alias(&#39;generate&#39;)
    .addOption(DirOption)
    .addOption(IncludeOption)
    .addOption(ExcludeOption)
    .addOption(OutputPathOption)
    .action(generate).description(&quot;Generate mock data for the given protobuf&quot;);</code></pre>
<br>

<h5 id="Âä†ËΩΩProtobufÊñá‰ª∂"><a href="#Âä†ËΩΩProtobufÊñá‰ª∂" class="headerlink" title="Âä†ËΩΩProtobufÊñá‰ª∂"></a><strong>Âä†ËΩΩProtobufÊñá‰ª∂</strong></h5><p>Âú® generate ÂëΩ‰ª§‰∏≠ÔºåÈ¶ñÂÖàÈÄöËøá loadProtobufDefinition ÂáΩÊï∞Âä†ËΩΩÊåáÂÆöÁõÆÂΩï‰∏ãÁöÑ protobuf Êñá‰ª∂Ôºö</p>
<p>libs/mock.ts</p>
<pre><code class="typescript">export function loadProtobufDefinition(repository: string) {
    const absFilePaths = path.posix.join(repository, &#39;**/*.proto&#39;);

    // Load all protobuf files under the repository
    const protoPaths = globby.sync([absFilePaths]);

    // Process each protobuf files, and solve semantic analysis errors caused by compatible annotations
    shell.sed(&#39;-i&#39;, /\/\*\/\//g, &#39;/* //&#39;, protoPaths);
    return protoPaths.map(protoPaths =&gt; {
        const root = new protobuf.Root();
        return root.loadSync(protoPaths, {keepCase: true, alternateCommentMode: false, preferTrailingComment: false});
    });
}</code></pre>
<p>‰∏äÈù¢ÁöÑ loadProtobufDefinition ÂáΩÊï∞ÈÄªËæëÈùûÂ∏∏ÁÆÄÂçïÔºåÈ¶ñÂÖàÊü•ÊâæÊâÄÊúâÁöÑ proto Êñá‰ª∂ÔºåÈöèÂêéÂä†ËΩΩÔºõ</p>
<p>ÂÖ∂‰∏≠‰ΩøÁî® <code>shell.sed(&#39;-i&#39;, /\/\*\/\//g, &#39;/* //&#39;, protoPaths);</code> ÊõøÊç¢Êéâ‰∫ÜÊñá‰ª∂‰∏≠ÁöÑÊ≥®ÈáäË°åÔºõ</p>
<blockquote>
<p>  <strong>protobuf.js Â∫ìÂØπ‰∫éÊüê‰∫õÂê´ÊúâÊ≥®ÈáäÁöÑÊñá‰ª∂Ëß£ÊûêÊîØÊåÅ‰∏çÂ§üÂ•ΩÔºÅ</strong></p>
</blockquote>
<br>

<h5 id="ËøáÊª§ProtobufÂÆö‰πâ"><a href="#ËøáÊª§ProtobufÂÆö‰πâ" class="headerlink" title="ËøáÊª§ProtobufÂÆö‰πâ"></a><strong>ËøáÊª§ProtobufÂÆö‰πâ</strong></h5><p>È¶ñÂÖàÔºåË∞ÉÁî® getProtobufFiltersFromOptions ÂáΩÊï∞Ê†πÊçÆÂëΩ‰ª§Ë°åÂèÇÊï∞ÂàõÂª∫ËøáÊª§Êù°‰ª∂Ôºö</p>
<p>ÈöèÂêéË∞ÉÁî® filterProtobufDefinitions ÂáΩÊï∞ÔºåËøáÊª§ÈÇ£‰∫õÊù•Ëá™ÂëΩ‰ª§Ë°å <code>-i</code> Âíå <code>-e</code> ÊåáÂÆöÁöÑ protobuf ÂÆö‰πâÔºõ</p>
<p>libs/filter.ts</p>
<pre><code class="typescript">export type ProtobufMessageFilter = RegExp[];

export function getProtobufFiltersFromOptions(includes?: string | undefined, excludes?: string | undefined):
    [ProtobufMessageFilter | undefined, ProtobufMessageFilter | undefined] {

    return [
        includes === undefined || includes.length === 0 ? undefined :
            includes.split(&#39;,&#39;).map(regExpStr =&gt; new RegExp(getRegExpString(regExpStr.trim()))),
        excludes === undefined || excludes.length === 0 ? undefined :
            excludes.split(&#39;,&#39;).map(regExpStr =&gt; new RegExp(getRegExpString(regExpStr.trim()))),
    ];
}

function getRegExpString(regExpStr: string): string {
    // Using prefix match for filters
    regExpStr = regExpStr.replace(&#39;\.&#39;, &quot;\\.&quot;);
    return `^${regExpStr}`;
}</code></pre>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºågetProtobufFiltersFromOptions ÂáΩÊï∞Ê†πÊçÆÂëΩ‰ª§Ë°å‰º†ÈÄíÁöÑËøáÊª§Êù°‰ª∂ÁîüÊàê‰∫ÜÂØπÂ∫îÁöÑ RegExp Êï∞ÁªÑÔºåÁî®‰∫éÂåπÈÖçË∑ØÂæÑÔºõ</p>
<p>filterProtobufDefinitions ÂáΩÊï∞Ôºö</p>
<p>libs/filter.ts</p>
<pre><code class="typescript">export interface ProtobufMessage {
    data: ReflectionObject,
    packageName: string;
    serviceName: string;
    messageName: string;
}

// Filter the protobuf definitions
export function filterProtobufDefinitions(
    pbDefinitions: protobuf.Root[],
    includeFilters: ProtobufMessageFilter | undefined,
    excludeFilters: ProtobufMessageFilter | undefined,
): [Map&lt;string, ProtobufMessage[]&gt;, Map&lt;string, ProtobufMessage[]&gt;, Map&lt;string, ProtobufMessage[]&gt;] {

    let retMessageMaps = new Map&lt;string, ProtobufMessage[]&gt;();
    let retServiceMaps = new Map&lt;string, ProtobufMessage[]&gt;();
    let retMethodMaps = new Map&lt;string, ProtobufMessage[]&gt;();
    let repeatedSet = new Set&lt;string&gt;();
    for (let pbDefinition of pbDefinitions) {
        if (pbDefinition instanceof Namespace) {
            handleNamespace(pbDefinition.name, pbDefinition as Namespace,
                includeFilters, excludeFilters, retMessageMaps, retServiceMaps, retMethodMaps, repeatedSet);
        }
    }

    return [retMessageMaps, retServiceMaps, retMethodMaps];
}

function handleNamespace(namespace: string, pbDefinition: Namespace,
                         includeFilters: ProtobufMessageFilter | undefined,
                         excludeFilters: ProtobufMessageFilter | undefined,
                         retMessageMaps: Map&lt;string, ProtobufMessage[]&gt;,
                         retServiceMaps: Map&lt;string, ProtobufMessage[]&gt;,
                         retMethodMaps: Map&lt;string, ProtobufMessage[]&gt;,
                         repeatedSet: Set&lt;string&gt;) {

    for (let i = 0; i &lt; pbDefinition.nestedArray.length; i++) {
        let item = pbDefinition.nestedArray[i];

        if (item instanceof Type) {
            pushItem(namespace, &quot;&quot;, &quot;Type&quot;, item, includeFilters, excludeFilters, retMessageMaps, repeatedSet);
        } else if (item instanceof Service) {
            pushItem(namespace, item.name, &quot;Service&quot;, item, includeFilters, excludeFilters, retServiceMaps, repeatedSet);
            for (let method of item.methodsArray) {
                pushItem(namespace, item.name, &quot;Method&quot;, method, includeFilters, excludeFilters, retMethodMaps, repeatedSet);
            }
        } else if (item instanceof Namespace) {
            handleNamespace(namespace === &quot;&quot; ? item.name : namespace + &quot;.&quot; + item.name, item,
                includeFilters, excludeFilters, retMessageMaps, retServiceMaps, retMethodMaps, repeatedSet);
        }
    }

    return retMessageMaps;
}

function pushItem(namespace: string, serviceName: string, itemType: string, item: ReflectionObject,
                  includeFilters: ProtobufMessageFilter | undefined,
                  excludeFilters: ProtobufMessageFilter | undefined,
                  retMap: Map&lt;string, ProtobufMessage[]&gt;,
                  repeatedSet: Set&lt;string&gt;) {

    if (namespace !== &quot;&quot; &amp;&amp; filterProtobuf(namespace + `.${item.name}`, includeFilters, excludeFilters)) {
        return;
    }

    let repeatStr = generateRepeatStr(namespace, serviceName, itemType, item.name);
    if (repeatedSet.has(repeatStr)) { // duplicate
        return;
    } else {
        repeatedSet.add(repeatStr);
    }

    if (retMap.has(namespace)) {
        retMap.get(namespace)!.push({
            data: item,
            packageName: namespace,
            serviceName: serviceName,
            messageName: item.name
        });
    } else {
        retMap.set(namespace, [{data: item, packageName: namespace, serviceName: serviceName, messageName: item.name}]);
    }
}

export function filterProtobuf(namespace: string, includeFilters: ProtobufMessageFilter | undefined,
                               excludeFilters: ProtobufMessageFilter | undefined): boolean {

    // Process for exclude filters first
    if (excludeFilters !== undefined) {
        if (matchFilters(namespace, excludeFilters)) {
            return true;
        }
    }

    // Process for include filters
    if (includeFilters !== undefined) {
        if (!matchFilters(namespace, includeFilters)) {
            return true;
        }
    }

    // Namespace has been not filtered, we pick it!
    return false;
}

function matchFilters(namespace: string, filters: ProtobufMessageFilter): boolean {

    return filters.some((filter) =&gt; filter.test(namespace));
}</code></pre>
<p>Âú®ÂáΩÊï∞ filterProtobufDefinitions ‰∏≠Ôºå‰∏ªË¶ÅÊòØÈÅçÂéÜ Proto ÁöÑÂÆö‰πâÔºåÁÑ∂ÂêéÊ†πÊçÆËøáÊª§Êù°‰ª∂ËøáÊª§Âá∫ÊúÄÁªàÁöÑ Message„ÄÅService„ÄÅMethod ÂÆö‰πâÔºõ</p>
<p>Âú®ÂÖ∂‰∏≠ÂÆö‰πâÁöÑ repeatedSet Áî®‰∫éÈò≤Ê≠¢Êüê‰∫õÈÄíÂΩíÂÆö‰πâÁöÑ ProtobufÔºå‰æãÂ¶ÇÔºö</p>
<pre><code class="protobuf">message BasicResponse {
  int32 status = 1;
  string message = 2;
  BasicResponse resp = 3;
}</code></pre>
<p>Âú®ÂáΩÊï∞ filterProtobufDefinitions ‰∏≠‰∏ªË¶ÅÊòØË∞ÉÁî® handleNamespace Êù•Â§ÑÁêÜÊâÄÊúâÁöÑ Protobuf ÂÆö‰πâÔºõ</p>
<p>‰∏ªË¶ÅÊòØÂå∫ÂàÜ‰∏∫‰∏çÂêåÁöÑ Protobuf Á±ªÂûãÔºö</p>
<pre><code class="typescript">for (let i = 0; i &lt; pbDefinition.nestedArray.length; i++) {
  let item = pbDefinition.nestedArray[i];

  if (item instanceof Type) {
    pushItem(namespace, &quot;&quot;, &quot;Type&quot;, item, includeFilters, excludeFilters, retMessageMaps, repeatedSet);
  } else if (item instanceof Service) {
    pushItem(namespace, item.name, &quot;Service&quot;, item, includeFilters, excludeFilters, retServiceMaps, repeatedSet);
    for (let method of item.methodsArray) {
      pushItem(namespace, item.name, &quot;Method&quot;, method, includeFilters, excludeFilters, retMethodMaps, repeatedSet);
    }
  } else if (item instanceof Namespace) {
    handleNamespace(namespace === &quot;&quot; ? item.name : namespace + &quot;.&quot; + item.name, item,
                    includeFilters, excludeFilters, retMessageMaps, retServiceMaps, retMethodMaps, repeatedSet);
  }
}</code></pre>
<p>Â¶ÇÊûúÂú® Proto ‰∏≠ÁöÑÁ±ªÂûãÊòØ NamespaceÔºåÈÇ£‰πàÊàë‰ª¨ËøòÈúÄË¶ÅÁªßÁª≠ÁöÑÈÄíÂΩíË∞ÉÁî® handleNamespaceÔºåÊù•ÂæÄ‰∏ãÂ±ÇÁªßÁª≠ÊêúÁ¥¢Ôºõ</p>
<p>ËÄå pushItem ÂáΩÊï∞Áî®‰∫éÂ∞Ü‰∏çÂêåÁöÑ Proto ÂÆö‰πâÂä†ÂÖ•Âà∞ÁªìÊûúÈõÜ‰∏≠Ôºö</p>
<pre><code class="typescript">function pushItem(namespace: string, serviceName: string, itemType: string, item: ReflectionObject,
                  includeFilters: ProtobufMessageFilter | undefined,
                  excludeFilters: ProtobufMessageFilter | undefined,
                  retMap: Map&lt;string, ProtobufMessage[]&gt;,
                  repeatedSet: Set&lt;string&gt;) {

    if (namespace !== &quot;&quot; &amp;&amp; filterProtobuf(namespace + `.${item.name}`, includeFilters, excludeFilters)) {
        return;
    }

    let repeatStr = generateRepeatStr(namespace, serviceName, itemType, item.name);
    if (repeatedSet.has(repeatStr)) { // duplicate
        return;
    } else {
        repeatedSet.add(repeatStr);
    }

    if (retMap.has(namespace)) {
        retMap.get(namespace)!.push({
            data: item,
            packageName: namespace,
            serviceName: serviceName,
            messageName: item.name
        });
    } else {
        retMap.set(namespace, [{data: item, packageName: namespace, serviceName: serviceName, messageName: item.name}]);
    }
}</code></pre>
<p>Âú® pushItem ÂáΩÊï∞‰∏≠ÔºåÈ¶ñÂÖàÈÄöËøá Filters ÂØπÂΩìÂâçÁöÑ Proto ÂÆö‰πâËøõË°åËøáÊª§ÔºåÂ¶ÇÊûú‰∏çÊª°Ë∂≥Êù°‰ª∂ÔºåÂàôÁõ¥Êé•ËøîÂõûÔºõ</p>
<p>ËÄåËøáÊª§ÁöÑÈÄªËæëÈùûÂ∏∏ÁÆÄÂçïÔºöÈ¶ñÂÖàÂà§Êñ≠ÊòØÂê¶ÊòØÊéíÈô§ÁöÑÔºåÂ¶ÇÊûúÊòØÔºåÂàôÁõ¥Êé•ËøáÊª§ÊéâÔºåÂê¶ÂàôÂà§Êñ≠ÊòØÂê¶ÊòØÂåÖÂê´ÁöÑÔºõ</p>
<pre><code class="typescript">export function filterProtobuf(namespace: string, includeFilters: ProtobufMessageFilter | undefined,
                               excludeFilters: ProtobufMessageFilter | undefined): boolean {

    // Process for exclude filters first
    if (excludeFilters !== undefined) {
        if (matchFilters(namespace, excludeFilters)) {
            return true;
        }
    }

    // Process for include filters
    if (includeFilters !== undefined) {
        if (!matchFilters(namespace, includeFilters)) {
            return true;
        }
    }

    // Namespace has been not filtered, we pick it!
    return false;
}</code></pre>
<p>Ëøô‰πüÊª°Ë∂≥‰∫Ü‰∏äÈù¢ËØ¥‰ªãÁªçÁöÑÔºöÂΩì‰Ω†ÂêåÊó∂‰ΩøÁî®  <code>include</code> and <code>exclude</code> ‰∏§‰∏™ËøáÊª§Âô®Ôºå<code>exclude</code> ‰ºöÊ∞∏ËøúÈ¶ñÂÖàÁîüÊïàÔºÅ</p>
<p>ÈöèÂêéÔºåpushItem ÂáΩÊï∞Ë∞ÉÁî® generateRepeatStr ÂàõÂª∫ÂéªÈáçÂ≠óÁ¨¶‰∏≤Èò≤Ê≠¢Â§öÊ¨°ÈÄíÂΩíÈÅçÂéÜÂêå‰∏Ä‰∏™ÂÆö‰πâÔºõ</p>
<p>ÊúÄÂêéÂ∞ÜÂÆö‰πâÂä†ÂÖ•Âà∞ËøîÂõûÂÄº Map ‰∏≠Ôºõ</p>
<p>Ëá≥Ê≠§ÔºåËøáÊª§Âπ∂Ëé∑Âèñ Protobuf ÂÆö‰πâÂÆåÊàêÔºÅ</p>
<br>

<h5 id="ÂàõÂª∫MockÊï∞ÊçÆ"><a href="#ÂàõÂª∫MockÊï∞ÊçÆ" class="headerlink" title="ÂàõÂª∫MockÊï∞ÊçÆ"></a><strong>ÂàõÂª∫MockÊï∞ÊçÆ</strong></h5><p>ÊúÄÂêéÔºå‰ΩøÁî®‰∏äÈù¢Ëé∑ÂèñÁöÑ Protobuf ÂÆö‰πâÁîüÊàê Mock Êï∞ÊçÆÔºö</p>
<pre><code class="typescript">// Step 3: Generate each messages
filteredMessages.forEach((v: ProtobufMessage[]) =&gt; {
  // Step 3.2: Generate mocked protobuf message data
  for (let protobufMessage of v) {
    let mockTpl = getMockTpl(pkgDefinition, protobufMessage.packageName, protobufMessage.messageName, new Map(), undefined);
    let mockData = mockjs.mock(mockTpl);
    processMockData(options.output, protobufMessage, mockData);
  }
});</code></pre>
<p>Âæ™ÁéØ‰∏≠È¶ñÂÖàÈÄöËøá getMockTpl Ëé∑ÂèñÂà∞ Mock ÂØπÂ∫î Protobuf ÂÆö‰πâÈúÄË¶ÅÁöÑÊ®°ÁâàÔºåÈöèÂêéË∞ÉÁî® mockjs.mock ÁîüÊàê Mock Êï∞ÊçÆÔºåÊúÄÂêéË∞ÉÁî® processMockData ‰øùÂ≠ò Mock ÁªìÊûúÔºõ</p>
<p>Ëé∑Âèñ Mock Ê®°ÁâàÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<p>libs/mock.ts</p>
<pre><code class="typescript">const TYPES: { [key: string]: string } = {
    double: &#39;@float&#39;,
    float: &#39;@float&#39;,
    int32: &#39;@integer&#39;,
    int64: &#39;@string(&quot;1234567890&quot;, 1, 20)&#39;,
    uint32: &#39;@natural&#39;,
    uint64: &#39;@string(&quot;1234567890&quot;, 1, 20)&#39;,
    sint32: &#39;@integer&#39;,
    sint64: &#39;@string(&quot;1234567890&quot;, 1, 20)&#39;,
    fixed32: &#39;@natural&#39;,
    fixed64: &#39;@string(&quot;1234567890&quot;, 1, 20)&#39;,
    sfixed32: &#39;@integer&#39;,
    sfixed64: &#39;@string(&quot;1234567890&quot;, 1, 20)&#39;,
    bool: &#39;@boolean&#39;,
    string: &#39;@sentence(1, 5)&#39;,
    bytes: &#39;@sentence(1, 5)&#39;,
};

export function getService(
    pbDefinitions: protobuf.Root[],
    packageName: string,
    serviceName: string,
): Root | null | undefined {
    return pbDefinitions.find(pd =&gt; {
        try {
            pd.lookupService(`${packageName}.${serviceName}`);
            return true;
        } catch {
            return false;
        }
    });
}

export function getMethod(
    pbDefinitions: protobuf.Root[],
    packageName: string,
    serviceName: string,
    methodName: string
): Method | null | undefined {
    const service = getService(pbDefinitions, packageName, serviceName);
    return service?.lookup(methodName) as Method;
}

export function getMessage(
    pbDefinitions: protobuf.Root[],
    packageName: string,
    messageName: string
): protobuf.Type | undefined {
    return pbDefinitions
        .find(pd =&gt; {
            try {
                pd.lookupType(`${packageName}.${messageName}`);
                return true;
            } catch {
                return false;
            }
        })
        ?.lookupType(`${packageName}.${messageName}`);
}

export function getMockTpl(
    pbDefinitions: protobuf.Root[],
    packageName: string,
    messageType: string,
    mockMemo: Map&lt;string, any&gt;, // mockMemo to avoid recursive struct
    hackMockTpl?: (
        key: string,
        type: string,
        random: MockjsRandom
    ) =&gt; string | (() =&gt; string),
) {
    const messageTypeSplit = messageType.split(&#39;.&#39;);
    if (messageTypeSplit.length) {
        messageType = messageTypeSplit.pop()!;
        packageName = messageTypeSplit.join(&#39;.&#39;);
    }
    const message = getMessage(pbDefinitions, packageName, messageType);
    const fields = message?.fields || {};
    const keys = Object.keys(fields);
    const tpl: { [key: string]: any } = {};
    keys.forEach(key =&gt; {
        const val = fields[key];
        const {repeated, type} = val;
        const mockTpl =
            (hackMockTpl &amp;&amp; hackMockTpl(key, type, Random)) || TYPES[type];
        key = `${key}${repeated ? &#39;|0-10&#39; : &#39;&#39;}`;

        let mockKey = `${packageName}.${messageType}.${key}`;

        if (mockMemo.has(mockKey)) {
            return;
        }

        mockMemo.set(mockKey, tpl); // memorize the key
        if (mockTpl) {
            tpl[key] = repeated ? [mockTpl] : mockTpl;
        } else {
            const recursiveMockTpl = getMockTpl(
                pbDefinitions,
                packageName,
                type,
                mockMemo,
                hackMockTpl
            );
            tpl[key] = repeated ? [recursiveMockTpl] : recursiveMockTpl;
        }
    });
    return tpl;
}</code></pre>
<p>‰∏ªË¶ÅÊòØÂØπÂΩìÂâçÁöÑ Protobuf ÂÆö‰πâÔºåÈÄíÂΩíÁöÑ Mock ÂåÖÂê´ÁöÑÊØè‰∏Ä‰∏™Â≠óÊÆµÔºõ</p>
<p>ÂêåÊó∂ÔºåËøôÈáå‰πü‰ΩøÁî®Âà∞‰∫Ü mockMemo Ëøô‰∏™ Map Èò≤Ê≠¢Êó†ÈôêÈÄíÂΩíÔºõ</p>
<p>ÊúÄÂêéÔºåÈÄöËøá processMockData ÂáΩÊï∞Â§ÑÁêÜ Mock ÂêéÁöÑÁªìÊûúÔºö</p>
<pre><code class="typescript">function processMockData(outputPath: string, pbMessage: ProtobufMessage, mockedMessageData: any) {
    // Print the mock data to the console if no output path
    if (outputPath.length === 0) {
        console.log(`Mocked ${pbMessage.packageName}.${pbMessage.messageName}: \n${JSON.stringify(mockedMessageData, null, 2)}\n`);
        return
    }

    // Else async write the output
    let saveFilePath = path.posix.join(outputPath, pbMessage.packageName);
    fs.ensureDirSync(saveFilePath)
    fs.writeJSON(path.posix.join(saveFilePath, pbMessage.messageName + &quot;.json&quot;), mockedMessageData, err =&gt; {
        if (err) return console.error(err)
    })
}</code></pre>
<p>Â¶ÇÊûúÔºö</p>
<ul>
<li>Ê≤°ÊúâÊåáÂÆöËæìÂá∫Êñá‰ª∂ÔºåÂàôÂ∞Ü Mock ÁöÑÊï∞ÊçÆÊâìÂç∞Âú®ÊéßÂà∂Âè∞Êù•Áõ¥Êé• CopyÔºõ</li>
<li>ÊåáÂÆö‰∫ÜËæìÂá∫Êñá‰ª∂ÔºåÂàôÊ†πÊçÆ Namespace ÂàõÂª∫ÂØπÂ∫îÁöÑÁõÆÂΩïÔºåÂπ∂‰øùÂ≠ò Mock ÁªìÊûúÔºõ</li>
</ul>
<br>

<h4 id="ServeÂ≠êÂëΩ‰ª§"><a href="#ServeÂ≠êÂëΩ‰ª§" class="headerlink" title="ServeÂ≠êÂëΩ‰ª§"></a><strong>ServeÂ≠êÂëΩ‰ª§</strong></h4><h5 id="ServeÂ≠êÂëΩ‰ª§ÂÖ•Âè£"><a href="#ServeÂ≠êÂëΩ‰ª§ÂÖ•Âè£" class="headerlink" title="ServeÂ≠êÂëΩ‰ª§ÂÖ•Âè£"></a><strong>ServeÂ≠êÂëΩ‰ª§ÂÖ•Âè£</strong></h5><p>Serve Â≠êÂëΩ‰ª§Â§çÁî®‰∫Ü‰∏äÈù¢Â§ßÈáèÁöÑÂáΩÊï∞ÔºåËøôÈáåÊù•Áúã‰∏ãÂÖ∑‰ΩìÁöÑÂÆûÁé∞Ôºõ</p>
<p>Á±ª‰ººÁöÑÔºåÈ¶ñÂÖàÊòØÂÆö‰πâÊé•Êî∂ÂëΩ‰ª§Ë°åÂèÇÊï∞ÁöÑÊé•Âè£Ôºö</p>
<p>commands/serve.ts</p>
<pre><code class="typescript">interface ServeCmdOptions {

    dir: string;

    include: string;

    exclude: string;

    port: number | undefined;

    config: string;
}

module.exports = function (options: ServeCmdOptions) {
    createServer(options.dir, {
        include: options.include,
        exclude: options.exclude,
        /*
          The param data is result of mock.js
          https://github.com/nuysoft/Mock
        */
        /**
         * Hack mock rules of template
         * @param key protobuf message key
         * @param type protobuf message key type (eg. string/int32/bool...)
         * @param random
         */
        responseHandlerMap: parse_response_value_from_config(options.config),
        hackMockTpl: (key, type, random) =&gt; {
            key = key.toLowerCase();
            const keyTypeHas = (k: string, t: string) =&gt;
                type === t &amp;&amp; key.indexOf(k) &gt; -1;
            if (keyTypeHas(&#39;icon&#39;, &#39;string&#39;)) return &#39;@image&#39;;
            else if (keyTypeHas(&#39;name&#39;, &#39;string&#39;)) return &#39;@name&#39;;
            return &#39;&#39;;
        }
    }).then(server =&gt; server.start(options.port));
}</code></pre>
<p>ÈöèÂêéË∞ÉÁî® createServer ÂàõÂª∫ Mock ÁöÑÊúçÂä°ÔºåÂπ∂Âú®ÂàõÂª∫ÂÆåÊàêÂêéÂú®ÊåáÂÆöÁöÑÁ´ØÂè£ÂêØÂä® ServerÔºõ</p>
<br>

<h5 id="ÂàõÂª∫Server"><a href="#ÂàõÂª∫Server" class="headerlink" title="ÂàõÂª∫Server"></a><strong>ÂàõÂª∫Server</strong></h5><p>ÂàõÂª∫ServerÁöÑÊ†∏ÂøÉÊòØË¶ÅÔºö<strong>Ê†πÊçÆ Protobuf ÁöÑÂÆö‰πâÔºåMock Áõ∏Â∫î Method ÁöÑËøîÂõûÂÄº‰ª•ÂèäËØ∑Ê±ÇË∑ØÂæÑÔºõ</strong></p>
<p>ËÄåÂÖ≥‰∫é Mock ËøîÂõûÂÄºÔºåÂú®‰∏äÈù¢ Generate Â≠êÂëΩ‰ª§‰∏≠ÔºåÊàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫ÜÔºÅ</p>
<p>‰∏ãÈù¢È¶ñÂÖàÊù•Áúã createServer ÁöÑÂÆûÁé∞Ôºö</p>
<pre><code class="typescript">export const createServer = async (protobufRepoPath: string, options: MockHandlerOptions) =&gt; {
    const server = restify.createServer();

    // CORS
    server.use((req: Request, res: Response, next: Next) =&gt; {
        res.header(&quot;Access-Control-Allow-Credentials&quot;, true);
        res.header(&quot;Access-Control-Allow-Origin&quot;, req.headers.origin);
        next();
    });

    // HANDLER
    const handlersMap = generateMockHandlersMap(protobufRepoPath, options);

    // API ROUTES
    server.opts(&quot;*&quot;, (req, res, next) =&gt; {
        res.header(
            &quot;Access-Control-Allow-Methods&quot;,
            req.headers[&quot;access-control-request-methods&quot;],
        );
        res.header(
            &quot;Access-Control-Allow-Headers&quot;,
            req.headers[&quot;access-control-request-headers&quot;],
        );
        res.end();
        next();
    });
    handlersMap.forEach((handler, routePath) =&gt; {
        console.log(`Handling routePath: ${routePath}`)
        server.get(routePath, handler);
        server.post(routePath, handler);
    })

    return {
        start: (port: number = 3333) =&gt;
            server.listen(port, () =&gt;
                console.log(&quot;%s listening at %s&quot;, server.name, server.url),
            ),
    };
};</code></pre>
<p>ÈÄöËøá <code>restify.createServer()</code> Êàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ ServerÔºåÂêåÊó∂ÈÖçÁΩÆÂÖÅËÆ∏Ë∑®ÂüüÁöÑ headerÔºõ</p>
<p>ÈöèÂêéÈÄöËøá generateMockHandlersMap ÂáΩÊï∞Ëé∑Âèñ routePath =&gt; Handler ÁöÑ MapÔºõ</p>
<p>ÁÑ∂ÂêéÊ≥®ÂÜåÂêÑ‰∏™ÊñπÊ≥ïÔºåÊúÄÂêéËøîÂõûÂêØÂä® Server ÁöÑÂáΩÊï∞Ôºõ</p>
<p>‰∏ãÈù¢ÈáçÁÇπÊù•ÁúãËé∑Âèñ Handler ÁöÑÂáΩÊï∞ generateMockHandlersMapÔºõ</p>
<br>

<h5 id="Ëé∑ÂèñÂêÑ‰∏™Handler"><a href="#Ëé∑ÂèñÂêÑ‰∏™Handler" class="headerlink" title="Ëé∑ÂèñÂêÑ‰∏™Handler"></a><strong>Ëé∑ÂèñÂêÑ‰∏™Handler</strong></h5><p>Ëé∑ÂèñÂêÑ‰∏™ Handler ÁöÑÊñπÊ≥ïÂíå Generate Â≠êÂëΩ‰ª§‰∏≠ÁöÑÂÆûÁé∞Á±ª‰ººÔºö</p>
<p>libs/server.ts</p>
<pre><code class="typescript">interface MockHandlerOptions {
    include: string,
    exclude: string,
    responseHandlerMap?: Map&lt;string, ResponseHandler&gt;;
    hackMockTpl?: (
        key: string,
        type: string,
        random: MockjsRandom,
    ) =&gt; string | (() =&gt; string);
}

type ResponseHandler = (resp: restify.Response, data: any) =&gt; void;

function generateMockHandlersMap(
    repository: string,
    options: MockHandlerOptions,
): Map&lt;string, RequestHandlerType&gt; {
    const {include, exclude, responseHandlerMap, hackMockTpl} = options;

    // Step 1: Load protobuf definitions
    const pkgDefinition = loadProtobufDefinition(repository);

    // Step 2: Filter if necessary
    let [_, __, filteredMethodsMap] = filterProtobufDefinitions(pkgDefinition, ...getProtobufFiltersFromOptions(include, exclude));

    // Step 3: Bind methods to the mock server handler
    let retHandlersMap: Map&lt;string, RequestHandlerType&gt; = new Map;
    filteredMethodsMap.forEach((v: ProtobufMessage[]) =&gt; {

        // Step 3.1: Generate each handler from protobuf method data
        for (let protobufMethod of v) {
            // console.log(`protobufMethod: ${protobufMethod}`);
            let methodFullName = `${protobufMethod.packageName}.${protobufMethod.data.name}`;

            let handler = (req: Request, res: Response, next: Next) =&gt; {
                const method = getMethod(
                    pkgDefinition,
                    protobufMethod.packageName,
                    protobufMethod.serviceName,
                    protobufMethod.data.name,
                );
                const responseType = method?.responseType || &quot;&quot;;
                const tpl = getMockTpl(
                    pkgDefinition,
                    protobufMethod.packageName,
                    responseType,
                    new Map(),
                    hackMockTpl,
                );
                const mockData = mockjs.mock(tpl);

                let customHandler = responseHandlerMap?.get(methodFullName);
                if (customHandler !== undefined) { // CustomHandler response handler
                    customHandler(res, mockData);
                } else { // We mock it
                    // console.log(mockData);
                    res.json(mockData)
                }

                next();
            };
            retHandlersMap.set(getRouthPath(protobufMethod.packageName,
                protobufMethod.serviceName,
                &lt;Method&gt;protobufMethod.data), handler);
        }
    });

    return retHandlersMap;
}

function getRouthPath(packageName: string, serviceName: string, method: Method): string {

    let parsedRouthPath = getRouthPathFromOptions(method);
    if (parsedRouthPath === &quot;&quot;) {
        parsedRouthPath = `/${packageName.replace(&#39;.&#39;, &#39;/&#39;)}` +
            `/${serviceName.replace(&#39;.&#39;, &#39;/&#39;)}` +
            `${method.name}`;
    }
    return parsedRouthPath;
}

function getRouthPathFromOptions(method: Method): string {

    for (let reqType of [&quot;get&quot;, &quot;post&quot;]) {
        let option = method.getOption(`(google.api.http).${reqType}`);
        if (option !== undefined) {
            return &lt;string&gt;option;
        }
    }
    return &quot;&quot;;
}</code></pre>
<p>Âú® generateMockHandlersMap ÂáΩÊï∞‰∏≠ÔºåÈ¶ñÂÖà‰πüÊòØÊÉäÂñú Protobuf ÂÆö‰πâÁöÑÂä†ËΩΩËß£Êûê‰ª•ÂèäËøáÊª§Êìç‰ΩúÔºõ</p>
<p>ÈöèÂêéÈÅçÂéÜËøáÊª§‰πãÂêéÁöÑ MethodMapÔºö‰∏∫ÊØè‰∏™ Method Mock ËØ∑Ê±ÇÂèÇÊï∞ÔºåÂπ∂Ëé∑ÂèñËØ∑Ê±ÇË∑ØÂæÑÔºõ</p>
<p>ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºö</p>
<p>Â¶ÇÊûú responseHandlerMap ‰∏≠Â∑≤ÁªèÂ≠òÂú®‰∫ÜËá™ÂÆö‰πâÁöÑÂìçÂ∫îÔºåÈÇ£‰πàÊàë‰ª¨Áõ¥Êé•Áî®Ëøô‰∏™Âç≥ÂèØÔºö</p>
<pre><code class="typescript">let customHandler = responseHandlerMap?.get(methodFullName);
if (customHandler !== undefined) { // CustomHandler response handler
  customHandler(res, mockData);
} else { // We mock it
  res.json(mockData)
}</code></pre>
<p>ÂêåÊó∂ÔºågetRouthPath ÂáΩÊï∞Áî®‰∫éËé∑ÂèñËØ∑Ê±ÇË∑ØÂæÑÔºö</p>
<pre><code class="bash">function getRouthPath(packageName: string, serviceName: string, method: Method): string {

    let parsedRouthPath = getRouthPathFromOptions(method);
    if (parsedRouthPath === &quot;&quot;) {
        parsedRouthPath = `/${packageName.replace(&#39;.&#39;, &#39;/&#39;)}` +
            `/${serviceName.replace(&#39;.&#39;, &#39;/&#39;)}` +
            `${method.name}`;
    }
    return parsedRouthPath;
}

function getRouthPathFromOptions(method: Method): string {

    for (let reqType of [&quot;get&quot;, &quot;post&quot;]) {
        let option = method.getOption(`(google.api.http).${reqType}`);
        if (option !== undefined) {
            return &lt;string&gt;option;
        }
    }
    return &quot;&quot;;
}</code></pre>
<p>Â¶ÇÊûúÂ≠òÂú®ÈÄöËøá <code>google.api.http</code> ÂÆö‰πâÁöÑËØ∑Ê±ÇË∑ØÂæÑÔºåÈÇ£‰πàÊàë‰ª¨Áî®Ëøô‰∏™Ë∑ØÂæÑÔºåÂê¶ÂàôÔºåÊàë‰ª¨Áî® Protobuf ÁöÑÂåÖÂêçÊù•ÁîüÊàêË∑ØÂæÑÔºõ</p>
<p>Ëøô‰∏ÄÁÇπÂíåÊàë‰ª¨‰∏äÈù¢ÊèêÂà∞ÁöÑÂäüËÉΩÊòØ‰∏ÄËá¥ÁöÑÔºÅ</p>
<br>

<h3 id="NPM‰∏äÂèëÂ∏É"><a href="#NPM‰∏äÂèëÂ∏É" class="headerlink" title="NPM‰∏äÂèëÂ∏É"></a><strong>NPM‰∏äÂèëÂ∏É</strong></h3><p>‰ª£Á†ÅÂÜôÂÆåÔºåÂπ∂‰∏îÊµãËØï OK ‰∫Ü‰πãÂêéÔºåÂèØ‰ª•ÂèëÂ∏ÉÂà∞ NPM ‰ªìÂ∫ìÔºõ</p>
<p>ÊääÂåÖÂèëÂ∏ÉÂú® NPM ‰∏äÈùûÂ∏∏ÁÆÄÂçïÔºõ</p>
<p>È¶ñÂÖàÊ≥®ÂÜå‰∏Ä‰∏™Ë¥¶Âè∑ÔºåÂèØ‰ª•ÈÄöËøá Github Ê≥®ÂÜåÔºõ</p>
<p>ÈöèÂêé‰ΩøÁî® <code>npm login</code> ÁôªÈôÜÔºåÁÑ∂ÂêéÊâßË°å <code>npm publish</code> Âç≥ÂèØÂèëÂ∏ÉÔºÅ</p>
<ul>
<li><a href="https://www.npmjs.com/package/mock-pb-cli" target="_blank" rel="noopener">https://www.npmjs.com/package/mock-pb-cli</a></li>
</ul>
<br>

<h1 id="ÈôÑÂΩï"><a href="#ÈôÑÂΩï" class="headerlink" title="ÈôÑÂΩï"></a><strong>ÈôÑÂΩï</strong></h1><p>Ê∫ê‰ª£Á†ÅÔºö</p>
<ul>
<li><a href="https://github.com/JasonkayZK/mock-protobuf.js" target="_blank" rel="noopener">https://github.com/JasonkayZK/mock-protobuf.js</a></li>
</ul>
<p>ÂèÇËÄÉÊñáÁ´†Ôºö</p>
<ul>
<li><a href="https://cloud.tencent.com/developer/article/1947207" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1947207</a></li>
</ul>
<br>

  </article>

  <div id="like-container" style="text-align: center">
    <div class="like-feed">
      <p>ËßâÂæóÊú¨Êñá‰∏çÈîôÂ∞±ÁÇπ‰∏™<span>‚ô•</span>ÂÜçËµ∞Âêß~</p>
      <div class="like-img">
        <div class="like-heart" id="like" rel="like"></div>
        <div class="like-count" id="like-count"></div>
      </div>
    </div>
  </div>

  <!-- ÊñáÁ´†ÂàÜ‰∫´ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
  <div class="social-share" data-mode="prepend" data-disabled="tencent,diandian"></div>
  <br>

  
  
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>Êú¨Êñá‰ΩúËÄÖÔºö</strong>Jasonkay<br>
<strong>Êú¨ÊñáÈìæÊé•Ôºö</strong><a href="https://jasonkayzk.github.io/2022/10/07/Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock-ProtobufÁöÑÂ∑•ÂÖ∑/" title="https://jasonkayzk.github.io/2022/10/07/Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock-ProtobufÁöÑÂ∑•ÂÖ∑/" target="_blank" rel="noopener">https://jasonkayzk.github.io/2022/10/07/Áî®TypeScriptÂÜô‰∫Ü‰∏Ä‰∏™Mock-ProtobufÁöÑÂ∑•ÂÖ∑/</a><br>

  <strong>ÁâàÊùÉÂ£∞ÊòéÔºö</strong>Êú¨ÊñáÈááÁî® <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> ÂçèËÆÆËøõË°åËÆ∏ÂèØ

</div>


  

  <!-- Â¢ûÂä†Èù¢ËØïÁÇπÂáªÊ†áÈ¢òÊâçÊòæÁ§∫Á≠îÊ°àÁ≠âÊïàÊûú! -->
  <!-- <script type="text/javascript">
    $(".question").click(function () {
      var a = $(".answer").eq($(".question").index(this));
      a.is(".answer_shown") ? a.animate({ 'opacity': '1' }, 800).removeClass("answer_shown") : a.animate({ 'opacity': '0' }, 800).addClass("answer_shown");
    });
  </script> -->
  <!-- <style>
    .answer_shown {
      opacity: 0;
    }
  </style> -->

  <!-- Âä†ËΩΩÂçöÂÆ¢ÁÇπËµûÂäüËÉΩ -->
  <script>
    function ajax(options) {
      return new Promise(function (resolve, reject) {
        $.ajax(options).done(resolve).fail(reject);
      });
    }

    var docName = $('meta[property="og:title"]').attr('content');
    
    // Ë∑≥Ëøálocalhost
    if (location.hostname !== 'localhost') {
      // ÂàùÂßãÂåñ
      ajax({
        url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
        type: 'post',
        contentType: 'application/json; charset=utf-8',
        data: JSON.stringify({
          "actionId": "get",
          "docName": docName
        })
      }).then(
        function fulfillHandler(data) {
          $('#like-count').text(data.likeNum);
        },
        function rejectHandler(jqXHR, textStatus, errorThrown) {
          $('#like-count').text(0);
          console.log(jqXHR, textStatus, errorThrown);
        }
      ).catch(function errorHandler(error) {
        $('#like-count').text(0);
        console.log(error);
      });

      $(document).ready(function () {
        $(".like-heart").on("click", function () {
          var heart = $(this);
          var likeCount = $("#like-count" + heart.attr("id").split("like")[1]);
          var intCount = parseInt(likeCount.html());
          var rel = heart.attr("rel");

          if (rel === "like") {
            likeCount.html(intCount + 1);
            heart.addClass("like-heartAnimation").attr("rel", "unlike");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "add",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          } else {
            likeCount.html(intCount - 1);
            heart.removeClass("like-heartAnimation").attr("rel", "like");
            heart.css("background-position", "left");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "subtract",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          }
        }).on("mouseleave", function () {
          $(this).css("background-position", "");
        });
      });
    }
  </script>
  <style>
    #like-container {
      margin: 0 auto;
      width: 100%;
    }

    .like-img {
      width: 200px;
      height: 100px;
      display: inline-block;
    }

    .like-heart {
      float: left;
      background: url(/images/web_heart_animation.png);
      background-position: left;
      background-repeat: no-repeat;
      height: 50px;
      width: 120px;
      left: -14px;
      background-size: 2900%;
    }

    .like-count {
      float: left;
      font-family: 'Georgia', Times, Times New Roman, serif;
      font-size: 35px;
      color: #999999;
      text-align: left;
      height: 50px;
      width: 50px;
      line-height: 44px;
    }

    .like-heart:hover,
    .like-heart:focus {
      background-position: right;
    }

    @-webkit-keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    @keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    .like-heartAnimation {
      display: inline-block;
      -webkit-animation-name: heartBlast;
      animation-name: heartBlast;
      -webkit-animation-duration: .8s;
      animation-duration: .8s;
      -webkit-animation-iteration-count: 1;
      animation-iteration-count: 1;
      -webkit-animation-timing-function: steps(28);
      animation-timing-function: steps(28);
      background-position: right;
    }

    .like-feed {
      height: 90px;
      margin-bottom: 20px;
      text-align: center
    }

    .like-feed p {
      font-family: 'microsoft yahei', 'Georgia';
      font-size: 25px;
    }

    .like-feed span {
      font-size: 30px;
      color: #D33115;
    }
  </style>

  <section class="nexmoe-comment">
    <div class="utterances"></div>
<style>
    .v .vwrap {
      border: 1px dashed #c4bfbf
    }
  
    .v .vwrap .vheader .vinput {
      border-bottom: 1px dashed #c4bfbf
    }
</style>
<script src="https://utteranc.es/client.js" repo="JasonkayZK/JasonkayZK.github.io" issue-term="title" label="comment‚ú®üí¨‚ú®" theme="github-light" crossorigin="anonymous" async>
</script>

</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?v=1753871720721"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>




  
    <!-- Google Analytics -->
<script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'G-1NWK4EEKDF', 'auto');
    ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>






    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5f5ec71a32c11ff54dff64d0341017b0";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

<!-- È°µÈù¢ÁÇπÂáªÂ∞èÁ∫¢ÂøÉ -->
<!-- 
<script type="text/javascript">
  !function (e, t, a) { function n() { c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), o(), r() } function r() { for (var e = 0; e < d.length; e++)d[e].alpha <= 0 ? (t.body.removeChild(d[e].el), d.splice(e, 1)) : (d[e].y--, d[e].scale += .004, d[e].alpha -= .013, d[e].el.style.cssText = "left:" + d[e].x + "px;top:" + d[e].y + "px;opacity:" + d[e].alpha + ";transform:scale(" + d[e].scale + "," + d[e].scale + ") rotate(45deg);background:" + d[e].color + ";z-index:99999"); requestAnimationFrame(r) } function o() { var t = "function" == typeof e.onclick && e.onclick; e.onclick = function (e) { t && t(), i(e) } } function i(e) { var a = t.createElement("div"); a.className = "heart", d.push({ el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: s() }), t.body.appendChild(a) } function c(e) { var a = t.createElement("style"); a.type = "text/css"; try { a.appendChild(t.createTextNode(e)) } catch (t) { a.styleSheet.cssText = e } t.getElementsByTagName("head")[0].appendChild(a) } function s() { return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")" } var d = []; e.requestAnimationFrame = function () { return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) { setTimeout(e, 1e3 / 60) } }(), n() }(window, document);
</script>
 -->
 
<script>
  // ËøõÂ∫¶Êù°Âä†ËΩΩ: nprogress
  NProgress.start()
  NProgress.done()
</script>

<script type="text/javascript" defer>
  $(document).ready(function () {
    $.goup({
      trigger: 100,
      bottomOffset: 50,
      locationOffset: 50,
      title: '0%',
      titleAsText: true
    });
    $(".goup-container").css("background", "#64dcf0 none repeat scroll 0% 0%").css("opacity", 0.9);
    $(".goup-text").css("font-weight", 600).css("opacity", 0.9);
  });

  $(document).scroll(function () {
    var d_h = $(document).height();
    var c_h = $(window).height();
    var c_t_h = $(window).scrollTop();
    var schedule = c_t_h / (d_h - c_h - 0.5);
    var str = Number(schedule * 100).toFixed();
    str += "%";
    $(".goup-text").text(str);
  });
</script>

<!-- Á´ôÂÜÖÈÄöÁü• -->
<script src="/js/notification.js"></script>
<script>
  'use strict';

  (function () {
    $(function () {
      $('.position').click(function (event) {
        var el = $(event.target);
        $('.position').removeClass('selected');
        el.addClass('selected');
        position = el.attr('data-position');
      });
    });
  });

  var position = 2;
  // ÂÖ≥Èó≠ÁôæÊØ´ÁßíÊï∞
  var closeTime = 50;
  var notifyFunc = function () {
    // Notification.create(
    //   //¬†Title
    //   "TencentÂÜÖÊé®‰∏≠üìß",
    //   //¬†Text
    //   "ÁÆÄÂéÜÊäïÈÄíÂ§ÑÔºö<BR/><a href='/hiring/'>ÁÆÄÂéÜÊäïÈÄí</a>",
    //   //¬†Illustration
    //   "/images/avatar4.jpg",
    //   //¬†Effect
    //   'fadeInRight',
    //   //¬†Position¬†1, 2,¬†3,¬†4
    //   position,
    //   closeTime
    // );
    // setTimeout(() => {
    //   Notification.create(
    //     "ËµÑÊ∫ê‰∏ãËΩΩ‚ö°",
    //     "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/sharing/'>Êñá‰ª∂ÂàÜ‰∫´</a>",
    //     "/images/avatar4.jpg",
    //     'fadeInRight',
    //     position,
    //     closeTime
    //   )
    // }, 350);
    setTimeout(() => {
      Notification.create(
        "RSSËÆ¢ÈòÖüì¢",
        "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/atom.xml'>RSSËÆ¢ÈòÖ</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 0);
    setTimeout(() => {
        Notification.create(
        "Âú®Á∫øÁæ§ËÅäüí≠",
        "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/chat/'>ÁïÖÊâÄÊ¨≤Ë®Ä</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 350);
    setTimeout(() => {
        Notification.create(
        // "Ë∑ëÊ≠•ÂÅ•Ë∫´üèÉ",
        // "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/running/'>Ë∑ëÊ≠•ÂÅ•Ë∫´</a>",
        "ÊëÑÂΩ±ÂàÜ‰∫´üì∑",
        "‰º†ÈÄÅÈó®Ôºö<BR/><a href='http://159.75.131.252:32352/'>ÊëÑÂΩ±ÂàÜ‰∫´</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 700);
  };

  (function once() {
    if (sessionStorage.getItem('load') == null) {
      notifyFunc();
      sessionStorage.setItem('load', false);
    } else {
      return;
    }
  })();
</script>
<script>
  $(document).on("click", ".dismiss", function (e) {
    Notification.hide(e.currentTarget.classList[1].split('-')[1]);
  })
</script>

</html>