<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="/js/jquery.goup.min.js" defer></script>
  
  <title>ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì - Âº†Â∞èÂáØÁöÑÂçöÂÆ¢</title>
  <meta charset="UTF-8">
  <meta name="description" content="Ë¨ôËôö„ÅØ‰∫∫„ÇíÈÄ≤Ê≠©„Åï„Åõ„ÄÅ„Åî„ÅÜ„Åæ„Çì„ÅØ‰∫∫„ÇíËêΩÂæå„Åï„Åõ„Çã„ÄÇÁ§æ‰ºö„ÅÆÂàùÂøÉËÄÖ„Åã„Çâ„ÄÅ„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„Åó„Åæ„ÅôÔºÅ">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png">
  <meta name="description" content="ÊúÄËøëÂÅöÁöÑÈ°πÁõÆÁî®Âà∞‰∫ÜESÔºåËøôÈáåÊÄªÁªì‰∏Ä‰∏ãÔºõ">
<meta name="keywords" content="ElasticSearch">
<meta property="og:type" content="article">
<meta property="og:title" content="ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì">
<meta property="og:url" content="https://jasonkayzk.github.io/2022/06/14/ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì/index.html">
<meta property="og:site_name" content="Âº†Â∞èÂáØÁöÑÂçöÂÆ¢">
<meta property="og:description" content="ÊúÄËøëÂÅöÁöÑÈ°πÁõÆÁî®Âà∞‰∫ÜESÔºåËøôÈáåÊÄªÁªì‰∏Ä‰∏ãÔºõ">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2025-07-30T10:34:36.185Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì">
<meta name="twitter:description" content="ÊúÄËøëÂÅöÁöÑÈ°πÁõÆÁî®Âà∞‰∫ÜESÔºåËøôÈáåÊÄªÁªì‰∏Ä‰∏ãÔºõ">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.16.2/styles/atom-one-dark.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1753871721928">

  <!-- ËøõÂ∫¶Êù°Âä†ËΩΩ: nprogress -->
  <link href="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6617852905105366" crossorigin="anonymous"></script>
  <!-- Cloudflare Web Analytics -->
   <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{"token": "73d46a730654451bac205cdc12bea918"}"></script>
  <!-- umami Web Analytics -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="23fadd4b-d559-4ae0-a4f6-f90680c3d4c0"></script>

  <!-- Êú¨Âú∞ÊêúÁ¥¢js -->
  <script type="text/javascript" src="/js/search.js"></script>

  <!-- ÁôæÂ∫¶Á´ôÁÇπÁÆ°ÁêÜ -->
  <meta name="baidu-site-verification" content="code-SKIvb4A1Qx">

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-1NWK4EEKDF');
  </script>

  <!-- Á´ôÂÜÖÈÄöÁü• -->
  <link href="https://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="/css/default.css">
  <link rel="stylesheet" href="/css/animate.min.css">
  <link rel="stylesheet" href="/css/notification.css">
  <link rel="stylesheet" href="/css/index.css">
<link rel="alternate" href="/atom.xml" title="Âº†Â∞èÂáØÁöÑÂçöÂÆ¢" type="application/atom+xml">
</head>

<!-- ÊñáÁ´†ÈòÖËØªËøõÂ∫¶Êù°Ê†∑Âºè -->
<style>
  #content_progress {
      /* Positioning */
      position: fixed;
      left: 0;
      top: 0;
      z-index: 99999;
      width: 100%;
      height: 3px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      border: none;
      background-color: transparent;
      color: #ffaa73;
}

#content_progress::-webkit-progress-bar {
      background-color: transparent;
}

#content_progress::-webkit-progress-value {
      background-color: #ffaa73;
}

#content_progress::-moz-progress-bar {
      background-color:#ffaa73;
}
</style>
<!-- ÊñáÁ´†ÈòÖËØªËøõÂ∫¶Êù°JS -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      var winHeight = window.innerHeight,
            docHeight = document.documentElement.scrollHeight,
            progressBar = document.querySelector('#content_progress');
      progressBar.max = docHeight - winHeight;
      progressBar.value = window.scrollY;

      document.addEventListener('scroll', function () {
            progressBar.max = document.documentElement.scrollHeight - window.innerHeight;
            progressBar.value = window.scrollY;
      });
});
</script>

<body class="mdui-drawer-body-left">
  <!-- ÊñáÁ´†ÈòÖËØªËøõÂ∫¶Êù° -->
  <progress id="content_progress" value="0"></progress>

  <!-- Èü≥È¢ëÊí≠Êîæ -->
  <!-- <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script> -->

  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(/images/bg.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <a href="/" title="Jasonkay" class="mdui-btn mdui-btn-icon"><img src="/images/avatar4.jpg"></a>
      </div>
    </div>
  </div>
  <div id="nexmoe-header">
    <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Jasonkay">
            <img src="/images/avatar4.jpg" alt="Jasonkay">
        </a>
    </div>

    <!-- ÈªëÁôΩÂàáÊç¢css -->
    <!-- <style>
        .light-dark-checkbox {
            margin: 0 auto;
        }

        /* The switch - the box around the slider */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* Hide default HTML checkbox */
        .switch .theme-switcher {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            transition: 0.4s;
        }

        .slider:before {
            position: absolute;
            content: "üåû";
            height: 0px;
            width: 0px;
            left: -10px;
            top: 16px;
            line-height: 0px;
            transition: 0.4s;
        }

        .theme-switcher:checked+.slider:before {
            left: 35px;
            content: "üåë";
        }

        .theme-switcher:checked+.slider:before {
            transform: translateX(45px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 40px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /* ÊöóÈªëÊ†∑Âºè */
        body.night {
            background-color: #263238;
            color: #aaa;
        }
        body.night img {
            filter: brightness(30%);
        }
        article.night {
            background-color: black;
            color: white;
        }
    </style> -->

    <!-- ÈªëÁôΩÂºÄÂÖ≥ -->
    <!-- <div class="nexmoe-list-item mdui-list-item">
        <div class="light-dark-checkbox">
            <div>
                ÈªëÁôΩÊ®°ÂºèÂàáÊç¢(Beta)
            </div>
            <label class="switch">
                <input id="light-dark-input" type="checkbox" onclick="switchTheme();" class="theme-switcher">
                <span class="slider round"></span>
            </label>
        </div>
    </div> -->

    <!-- ÈªëÁôΩÂàáÊç¢js -->
    <!-- <script>
        // get hours of the day in 24Hr format (0-23)
        var hr = (new Date()).getHours();

        $(document).ready(function () {
            var theme = sessionStorage.getItem("theme");
            if (theme == "dark") {
                document.body.classList.add('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂºÄÂêØ');
            } else if (theme == "light") {
                document.body.classList.remove('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂÖ≥Èó≠');
            } else {
                setDefaultTheme(hr);
            }
        });

        function switchTheme() {
            if (sessionStorage.getItem("theme") == "dark") {
                sessionStorage.setItem("theme", "light");
                document.body.classList.remove('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂÖ≥Èó≠');
            } else if (sessionStorage.getItem("theme") == "light") {
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂºÄÂêØ');
            } else {
                setDefaultTheme(hr);
            }
        };

        function setDefaultTheme(curHr) {
            // 6:00-18:00 light
            if (curHr >= 6 && curHr <= 18) {
                document.body.classList.remove('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂÖ≥Èó≠');
                sessionStorage.setItem("theme", "light");
                $("#light-dark-input").attr("checked", false);
            } else {
                // 0:00-6:00 & 18:00-00:00 night
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('Â§úÈó¥Ê®°ÂºèÂºÄÂêØ');
                $("#light-dark-input").attr("checked", true);
            }
        }
    </script> -->

    <div class="nexmoe-count">
        <div><span>ÊñáÁ´†</span>520</div>
        <div><span>Ê†áÁ≠æ</span>276</div>
        <div><span>ÂàÜÁ±ª</span>67</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="ÂõûÂà∞È¶ñÈ°µ">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                ÂõûÂà∞È¶ñÈ°µ
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/jp/" title="Êó•ËØ≠ÂàÜÁ´ô">
            <i class="mdui-list-item-icon nexmoefont icon-calendar-fill"></i>
            <div class="mdui-list-item-content">
                Êó•ËØ≠ÂàÜÁ´ô
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about/" title="ÂÖ≥‰∫éÂçöÂÆ¢">
            <i class="mdui-list-item-icon nexmoefont icon-eye-fill"></i>
            <div class="mdui-list-item-content">
                ÂÖ≥‰∫éÂçöÂÆ¢
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archive" title="ÊñáÁ´†ÂΩíÊ°£">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                ÊñáÁ´†ÂΩíÊ°£
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/anki/" title="AnkiÁ¨îËÆ∞">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                AnkiÁ¨îËÆ∞
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/study/" title="Â≠¶‰π†ËøõÂ∫¶">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                Â≠¶‰π†ËøõÂ∫¶
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/running/" title="Ë∑ëÊ≠•ÂÅ•Ë∫´">
            <i class="mdui-list-item-icon nexmoefont icon-dribbble"></i>
            <div class="mdui-list-item-content">
                Ë∑ëÊ≠•ÂÅ•Ë∫´
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/interview/" title="Èù¢ËØïÁõ∏ÂÖ≥">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                Èù¢ËØïÁõ∏ÂÖ≥
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/algorithm/" title="ÁÆóÊ≥ïÊÄªÁªì">
            <i class="mdui-list-item-icon nexmoefont icon-areachart"></i>
            <div class="mdui-list-item-content">
                ÁÆóÊ≥ïÊÄªÁªì
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/installing/" title="ËΩØ‰ª∂ÂÆâË£Ö">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                ËΩØ‰ª∂ÂÆâË£Ö
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/board/" title="ÂàõÊÑèÁôΩÊùø">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                ÂàõÊÑèÁôΩÊùø
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="http://159.75.131.252:32352/" title="ÊëÑÂΩ±ÂàÜ‰∫´">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                ÊëÑÂΩ±ÂàÜ‰∫´
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/chat/" title="ÁïÖÊâÄÊ¨≤Ë®Ä">
            <i class="mdui-list-item-icon nexmoefont icon-ellipsis"></i>
            <div class="mdui-list-item-content">
                ÁïÖÊâÄÊ¨≤Ë®Ä
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/realtime/" title="ÂÆûÊó∂Êï∞ÊçÆÁªüËÆ°">
            <i class="mdui-list-item-icon nexmoefont icon-time-circle-fill"></i>
            <div class="mdui-list-item-content">
                ÂÆûÊó∂Êï∞ÊçÆÁªüËÆ°
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/py/" title="ÂèãÊÉÖÈìæÊé•">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                ÂèãÊÉÖÈìæÊé•
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Á§æ‰∫§ÊåâÈíÆ</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/23364338" target="_blank" mdui-tooltip="{content: 'ÂìîÂì©ÂìîÂì©'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="https://steamcommunity.com/id/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'Steam'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-steam"></i>
        </a><a class="mdui-ripple" href="https://twitter.com/Jasonkay_ZK/" target="_blank" mdui-tooltip="{content: 'Twitter'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-twitter"></i>
        </a><a class="mdui-ripple" href="mailto:jasonkayzk@gmail.com" target="_blank" mdui-tooltip="{content: 'Mail'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-mail-fill"></i>
        </a>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Á´ôÂÜÖÊêúÁ¥¢</h3>
    <div class="nexmoe-widget nexmoe-search">
        <form class="site-search-form">
            <input type="text" id="local-search-input" class="st-search-input">
        </form>
        <div id="local-search-result" class="local-search-result-cls">
        </div>
    </div>
</div>

<!-- ÊâßË°åÊú¨Âú∞ÊêúÁ¥¢ËÑöÊú¨ -->
<script type="text/javascript">
    var path = "https://cdn.jsdelivr.net/gh/jasonkayzk/JasonkayZK.github.io@master/search.xml";
    searchFunc(path, 'local-search-input', 'local-search-result');
</script>

<style type="text/css">
/* ÊêúÁ¥¢Êù° */
.site-search-form {
    text-align: center;
}
#local-search-input {
    width: 100%;
}

/* ÊêúÁ¥¢ÁªìÊûúÂÖ≥Èó≠ */
#local-search-close {
    font-size: 22.5px;
    cursor: pointer;
    color: #ff4e6a;
}

.search-result-list > li {
    line-height: 0.75;
    margin-top: -5px;
}

</style>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Ê†áÁ≠æ‰∫ë</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/2048/" style="font-size: 10px;">2048</a> <a href="/tags/ACM/" style="font-size: 10px;">ACM</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/AUFS/" style="font-size: 10px;">AUFS</a> <a href="/tags/Android/" style="font-size: 10.91px;">Android</a> <a href="/tags/AppStore/" style="font-size: 10px;">AppStore</a> <a href="/tags/AppleScript/" style="font-size: 10px;">AppleScript</a> <a href="/tags/Aria2/" style="font-size: 10.91px;">Aria2</a> <a href="/tags/Async/" style="font-size: 10px;">Async</a> <a href="/tags/BFS/" style="font-size: 10.45px;">BFS</a> <a href="/tags/Bash/" style="font-size: 10.45px;">Bash</a> <a href="/tags/BitTorrent/" style="font-size: 10px;">BitTorrent</a> <a href="/tags/BloomFilter/" style="font-size: 10px;">BloomFilter</a> <a href="/tags/Bytebase/" style="font-size: 10px;">Bytebase</a> <a href="/tags/C/" style="font-size: 15.91px;">C++</a> <a href="/tags/CAP/" style="font-size: 10px;">CAP</a> <a href="/tags/CDN/" style="font-size: 10.45px;">CDN</a> <a href="/tags/CGLibÂä®ÊÄÅ‰ª£ÁêÜ/" style="font-size: 10px;">CGLibÂä®ÊÄÅ‰ª£ÁêÜ</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Caffeine/" style="font-size: 10px;">Caffeine</a> <a href="/tags/Cargo/" style="font-size: 11.82px;">Cargo</a> <a href="/tags/CentOS/" style="font-size: 12.27px;">CentOS</a> <a href="/tags/Cgroups/" style="font-size: 10px;">Cgroups</a> <a href="/tags/ChromeÊâ©Â±ï/" style="font-size: 10px;">ChromeÊâ©Â±ï</a> <a href="/tags/Cli/" style="font-size: 10.45px;">Cli</a> <a href="/tags/ClickHouse/" style="font-size: 10px;">ClickHouse</a> <a href="/tags/Cling/" style="font-size: 10px;">Cling</a> <a href="/tags/Clion/" style="font-size: 10px;">Clion</a> <a href="/tags/Colima/" style="font-size: 10px;">Colima</a> <a href="/tags/Container/" style="font-size: 10px;">Container</a> <a href="/tags/DFS/" style="font-size: 10.45px;">DFS</a> <a href="/tags/DLL/" style="font-size: 10.45px;">DLL</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/Docker/" style="font-size: 18.64px;">Docker</a> <a href="/tags/Docker-Compose/" style="font-size: 10.45px;">Docker-Compose</a> <a href="/tags/DockerHub/" style="font-size: 10px;">DockerHub</a> <a href="/tags/Dolt/" style="font-size: 10px;">Dolt</a> <a href="/tags/Dubbo/" style="font-size: 10.91px;">Dubbo</a> <a href="/tags/Easegress/" style="font-size: 10px;">Easegress</a> <a href="/tags/ElasticSearch/" style="font-size: 14.09px;">ElasticSearch</a> <a href="/tags/Electron/" style="font-size: 10.45px;">Electron</a> <a href="/tags/English/" style="font-size: 10px;">English</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/FFmpeg/" style="font-size: 10px;">FFmpeg</a> <a href="/tags/FTP/" style="font-size: 10.45px;">FTP</a> <a href="/tags/FaaS/" style="font-size: 10px;">FaaS</a> <a href="/tags/Future/" style="font-size: 10px;">Future</a> <a href="/tags/GC/" style="font-size: 10px;">GC</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/GRPC/" style="font-size: 10px;">GRPC</a> <a href="/tags/Gin/" style="font-size: 10px;">Gin</a> <a href="/tags/Git/" style="font-size: 13.64px;">Git</a> <a href="/tags/Gitee/" style="font-size: 10px;">Gitee</a> <a href="/tags/Github/" style="font-size: 14.55px;">Github</a> <a href="/tags/Github-Actions/" style="font-size: 10px;">Github-Actions</a> <a href="/tags/Golang/" style="font-size: 18.18px;">Golang</a> <a href="/tags/Gomod/" style="font-size: 10px;">Gomod</a> <a href="/tags/Goroutine/" style="font-size: 10.91px;">Goroutine</a> <a href="/tags/GraalVM/" style="font-size: 10px;">GraalVM</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/HAProxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/IDEAÈÖçÁΩÆ/" style="font-size: 10px;">IDEAÈÖçÁΩÆ</a> <a href="/tags/IDÁîüÊàêÂô®/" style="font-size: 10.45px;">IDÁîüÊàêÂô®</a> <a href="/tags/IOÊ®°Âûã/" style="font-size: 10px;">IOÊ®°Âûã</a> <a href="/tags/Ingress/" style="font-size: 10.45px;">Ingress</a> <a href="/tags/JDKÂä®ÊÄÅ‰ª£ÁêÜ/" style="font-size: 10.45px;">JDKÂä®ÊÄÅ‰ª£ÁêÜ</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 12.27px;">Java</a> <a href="/tags/JavaWeb/" style="font-size: 10px;">JavaWeb</a> <a href="/tags/JavaÂü∫Á°Ä/" style="font-size: 16.82px;">JavaÂü∫Á°Ä</a> <a href="/tags/JavaÊ≥®Ëß£/" style="font-size: 10px;">JavaÊ≥®Ëß£</a> <a href="/tags/JavaÊ∫êÁ†Å/" style="font-size: 12.27px;">JavaÊ∫êÁ†Å</a> <a href="/tags/JavaÈù¢ËØï/" style="font-size: 11.36px;">JavaÈù¢ËØï</a> <a href="/tags/JuiceFS/" style="font-size: 10px;">JuiceFS</a> <a href="/tags/JupyterLab/" style="font-size: 10px;">JupyterLab</a> <a href="/tags/Kafka/" style="font-size: 10.45px;">Kafka</a> <a href="/tags/Kubernetes/" style="font-size: 15.45px;">Kubernetes</a> <a href="/tags/LVS/" style="font-size: 10.91px;">LVS</a> <a href="/tags/LambdaË°®ËææÂºè/" style="font-size: 10.91px;">LambdaË°®ËææÂºè</a> <a href="/tags/LevelDB/" style="font-size: 10px;">LevelDB</a> <a href="/tags/Library/" style="font-size: 10.45px;">Library</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 16.36px;">Linux</a> <a href="/tags/LruCache/" style="font-size: 10px;">LruCache</a> <a href="/tags/MacOS/" style="font-size: 10.45px;">MacOS</a> <a href="/tags/Maven/" style="font-size: 12.27px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 13.64px;">MySQL</a> <a href="/tags/Mybatis/" style="font-size: 10.91px;">Mybatis</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/NIO/" style="font-size: 10.91px;">NIO</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Namespace/" style="font-size: 10px;">Namespace</a> <a href="/tags/Netty/" style="font-size: 10px;">Netty</a> <a href="/tags/Newman/" style="font-size: 10px;">Newman</a> <a href="/tags/Nginx/" style="font-size: 12.27px;">Nginx</a> <a href="/tags/Node-js/" style="font-size: 11.36px;">Node.js</a> <a href="/tags/Okular/" style="font-size: 10px;">Okular</a> <a href="/tags/P2P/" style="font-size: 10px;">P2P</a> <a href="/tags/Panic/" style="font-size: 10px;">Panic</a> <a href="/tags/PipelineDB/" style="font-size: 10px;">PipelineDB</a> <a href="/tags/PostgreSQL/" style="font-size: 10.45px;">PostgreSQL</a> <a href="/tags/Postman/" style="font-size: 10.45px;">Postman</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/Protobuf/" style="font-size: 10.91px;">Protobuf</a> <a href="/tags/Python/" style="font-size: 10.91px;">Python</a> <a href="/tags/RAII/" style="font-size: 10px;">RAII</a> <a href="/tags/RPC/" style="font-size: 10px;">RPC</a> <a href="/tags/RSS/" style="font-size: 10.91px;">RSS</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/Redash/" style="font-size: 10px;">Redash</a> <a href="/tags/Redis/" style="font-size: 14.55px;">Redis</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Rust/" style="font-size: 18.64px;">Rust</a> <a href="/tags/SPA/" style="font-size: 10px;">SPA</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/SSH/" style="font-size: 10.45px;">SSH</a> <a href="/tags/Serverless/" style="font-size: 10px;">Serverless</a> <a href="/tags/Shadowsocks/" style="font-size: 10.91px;">Shadowsocks</a> <a href="/tags/Skiplist/" style="font-size: 10px;">Skiplist</a> <a href="/tags/Slice/" style="font-size: 10px;">Slice</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/Spring/" style="font-size: 11.82px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/SpringÊ∫êÁ†Å/" style="font-size: 10px;">SpringÊ∫êÁ†Å</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/Swagger/" style="font-size: 10px;">Swagger</a> <a href="/tags/TOML/" style="font-size: 10px;">TOML</a> <a href="/tags/Telegraf/" style="font-size: 10px;">Telegraf</a> <a href="/tags/Telegram/" style="font-size: 10px;">Telegram</a> <a href="/tags/Tomcat/" style="font-size: 10.45px;">Tomcat</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UUID/" style="font-size: 10px;">UUID</a> <a href="/tags/UnionFS/" style="font-size: 10px;">UnionFS</a> <a href="/tags/VMWare/" style="font-size: 13.18px;">VMWare</a> <a href="/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/tags/WebAssembly/" style="font-size: 10.45px;">WebAssembly</a> <a href="/tags/Websocket/" style="font-size: 10px;">Websocket</a> <a href="/tags/XML/" style="font-size: 10.91px;">XML</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/Zookeeper/" style="font-size: 10.91px;">Zookeeper</a> <a href="/tags/apt/" style="font-size: 10px;">apt</a> <a href="/tags/autok3s/" style="font-size: 10px;">autok3s</a> <a href="/tags/cURL/" style="font-size: 10px;">cURL</a> <a href="/tags/chroot/" style="font-size: 10px;">chroot</a> <a href="/tags/cmder/" style="font-size: 10px;">cmder</a> <a href="/tags/grpc/" style="font-size: 10px;">grpc</a> <a href="/tags/hashÂÜ≤Á™Å/" style="font-size: 10px;">hashÂÜ≤Á™Å</a> <a href="/tags/inoreader/" style="font-size: 10px;">inoreader</a> <a href="/tags/k3s/" style="font-size: 10.45px;">k3s</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/libp2p/" style="font-size: 10px;">libp2p</a> <a href="/tags/minikube/" style="font-size: 10.45px;">minikube</a> <a href="/tags/ntfy/" style="font-size: 10px;">ntfy</a> <a href="/tags/picocli/" style="font-size: 10px;">picocli</a> <a href="/tags/telnet/" style="font-size: 10px;">telnet</a> <a href="/tags/uv/" style="font-size: 10px;">uv</a> <a href="/tags/vcpkg/" style="font-size: 10px;">vcpkg</a> <a href="/tags/xorm/" style="font-size: 10px;">xorm</a> <a href="/tags/‰∫åÂàÜÊ≥ï/" style="font-size: 10px;">‰∫åÂàÜÊ≥ï</a> <a href="/tags/‰∫åÂèâÊ†ë/" style="font-size: 15.45px;">‰∫åÂèâÊ†ë</a> <a href="/tags/‰∫åÁª¥Á†Å/" style="font-size: 10px;">‰∫åÁª¥Á†Å</a> <a href="/tags/‰∫§ÂèâÁºñËØë/" style="font-size: 10px;">‰∫§ÂèâÁºñËØë</a> <a href="/tags/‰∫∫Â∑•Êô∫ËÉΩ/" style="font-size: 10.45px;">‰∫∫Â∑•Êô∫ËÉΩ</a> <a href="/tags/‰∫∫ÁîüÊó•ËÆ∞/" style="font-size: 17.73px;">‰∫∫ÁîüÊó•ËÆ∞</a> <a href="/tags/‰ª£ÁêÜÊ®°Âºè/" style="font-size: 10px;">‰ª£ÁêÜÊ®°Âºè</a> <a href="/tags/‰ΩçËøêÁÆó/" style="font-size: 10.45px;">‰ΩçËøêÁÆó</a> <a href="/tags/‰ø°Âè∑/" style="font-size: 10px;">‰ø°Âè∑</a> <a href="/tags/‰ø°ÊÅØËÅöÂêà/" style="font-size: 10px;">‰ø°ÊÅØËÅöÂêà</a> <a href="/tags/ÂÜÖÂ≠òÁÆ°ÁêÜ/" style="font-size: 10.45px;">ÂÜÖÂ≠òÁÆ°ÁêÜ</a> <a href="/tags/ÂÜÖÁΩëÁ©øÈÄè/" style="font-size: 10px;">ÂÜÖÁΩëÁ©øÈÄè</a> <a href="/tags/ÂáΩÊï∞ÂºèÊé•Âè£/" style="font-size: 10px;">ÂáΩÊï∞ÂºèÊé•Âè£</a> <a href="/tags/ÂàÜÂ∏ÉÂºè/" style="font-size: 15.91px;">ÂàÜÂ∏ÉÂºè</a> <a href="/tags/ÂäûÂÖ¨/" style="font-size: 10px;">ÂäûÂÖ¨</a> <a href="/tags/Âä®ÊÄÅËßÑÂàí/" style="font-size: 11.36px;">Âä®ÊÄÅËßÑÂàí</a> <a href="/tags/ÂçèÁ®ãÊ±†/" style="font-size: 10px;">ÂçèÁ®ãÊ±†</a> <a href="/tags/ÂçöÂÆ¢ÁÆ°ÁêÜ/" style="font-size: 13.18px;">ÂçöÂÆ¢ÁÆ°ÁêÜ</a> <a href="/tags/ÂçöÂÆ¢ÁæéÂåñ/" style="font-size: 11.82px;">ÂçöÂÆ¢ÁæéÂåñ</a> <a href="/tags/ÂèåÊåáÈíà/" style="font-size: 10.45px;">ÂèåÊåáÈíà</a> <a href="/tags/ÂèçÂ∞Ñ/" style="font-size: 12.27px;">ÂèçÂ∞Ñ</a> <a href="/tags/Âè£Êâç/" style="font-size: 10px;">Âè£Êâç</a> <a href="/tags/ÂìàÂ∏åË°®/" style="font-size: 10.45px;">ÂìàÂ∏åË°®</a> <a href="/tags/ÂõûÊ∫Ø/" style="font-size: 10.45px;">ÂõûÊ∫Ø</a> <a href="/tags/ÂõûÊ∫ØÊ≥ï/" style="font-size: 10px;">ÂõûÊ∫ØÊ≥ï</a> <a href="/tags/Â†Ü/" style="font-size: 10.45px;">Â†Ü</a> <a href="/tags/Â§öÁ∫øÁ®ã‰∏ãËΩΩ/" style="font-size: 10.45px;">Â§öÁ∫øÁ®ã‰∏ãËΩΩ</a> <a href="/tags/Â§ßÊï∞ÊçÆ/" style="font-size: 10px;">Â§ßÊï∞ÊçÆ</a> <a href="/tags/Â≠óÁ¨¶‰∏≤/" style="font-size: 13.18px;">Â≠óÁ¨¶‰∏≤</a> <a href="/tags/Â≠óÁ¨¶‰∏≤Â§ÑÁêÜ/" style="font-size: 10px;">Â≠óÁ¨¶‰∏≤Â§ÑÁêÜ</a> <a href="/tags/Â≠¶‰π†Ê°à‰æã/" style="font-size: 10.45px;">Â≠¶‰π†Ê°à‰æã</a> <a href="/tags/ÂÆπÂô®/" style="font-size: 10px;">ÂÆπÂô®</a> <a href="/tags/Â∑•ÂÖ∑ÂàÜ‰∫´/" style="font-size: 19.09px;">Â∑•ÂÖ∑ÂàÜ‰∫´</a> <a href="/tags/Âπ∂ÂèëÁºñÁ®ã/" style="font-size: 15.45px;">Âπ∂ÂèëÁºñÁ®ã</a> <a href="/tags/Âπ∂Ë°åËÆ°ÁÆó/" style="font-size: 10px;">Âπ∂Ë°åËÆ°ÁÆó</a> <a href="/tags/Â∫èÂàóÂåñ/" style="font-size: 10px;">Â∫èÂàóÂåñ</a> <a href="/tags/Âª∫Á≠ë/" style="font-size: 10px;">Âª∫Á≠ë</a> <a href="/tags/ÂºÄÂèëËßÑËåÉ/" style="font-size: 10.45px;">ÂºÄÂèëËßÑËåÉ</a> <a href="/tags/ÂºÄÊ∫êÂçèËÆÆ/" style="font-size: 10px;">ÂºÄÊ∫êÂçèËÆÆ</a> <a href="/tags/ÊÄßËÉΩÊåáÊ†á/" style="font-size: 10px;">ÊÄßËÉΩÊåáÊ†á</a> <a href="/tags/ÊäÄÊúØÊùÇË∞à/" style="font-size: 20px;">ÊäÄÊúØÊùÇË∞à</a> <a href="/tags/ÊéíÂ∫è/" style="font-size: 11.82px;">ÊéíÂ∫è</a> <a href="/tags/Êé®ÈÄÅ/" style="font-size: 10px;">Êé®ÈÄÅ</a> <a href="/tags/ÊêúÁ¥¢/" style="font-size: 10px;">ÊêúÁ¥¢</a> <a href="/tags/Êìç‰ΩúÁ≥ªÁªü/" style="font-size: 10.91px;">Êìç‰ΩúÁ≥ªÁªü</a> <a href="/tags/ÊïôÂ∏à/" style="font-size: 10.45px;">ÊïôÂ∏à</a> <a href="/tags/ÊïôÊ°à/" style="font-size: 10.45px;">ÊïôÊ°à</a> <a href="/tags/Êï∞Â≠¶/" style="font-size: 12.73px;">Êï∞Â≠¶</a> <a href="/tags/Êï∞ÊçÆÂ∫ì/" style="font-size: 15px;">Êï∞ÊçÆÂ∫ì</a> <a href="/tags/Êï∞ÁªÑ/" style="font-size: 13.64px;">Êï∞ÁªÑ</a> <a href="/tags/ÊñáÂ≠óÈöêËóè/" style="font-size: 10px;">ÊñáÂ≠óÈöêËóè</a> <a href="/tags/Êñ≠ÁÇπÁª≠‰º†/" style="font-size: 10px;">Êñ≠ÁÇπÁª≠‰º†</a> <a href="/tags/Êñ∞Êµ™ÂæÆÂçö/" style="font-size: 10px;">Êñ∞Êµ™ÂæÆÂçö</a> <a href="/tags/Êó•Âøó/" style="font-size: 10px;">Êó•Âøó</a> <a href="/tags/Êó•Êú¨Ë™û/" style="font-size: 14.55px;">Êó•Êú¨Ë™û</a> <a href="/tags/Êó•Ë®ò/" style="font-size: 10.45px;">Êó•Ë®ò</a> <a href="/tags/ÊúçÂä°Ëá™Âª∫/" style="font-size: 10.91px;">ÊúçÂä°Ëá™Âª∫</a> <a href="/tags/Êü•Êâæ/" style="font-size: 10.91px;">Êü•Êâæ</a> <a href="/tags/Ê†à/" style="font-size: 10.91px;">Ê†à</a> <a href="/tags/Ê≠åË©û/" style="font-size: 10px;">Ê≠åË©û</a> <a href="/tags/Ê≠£ÂàôË°®ËææÂºè/" style="font-size: 10.91px;">Ê≠£ÂàôË°®ËææÂºè</a> <a href="/tags/Ê±áÁºñËØ≠Ë®Ä/" style="font-size: 10px;">Ê±áÁºñËØ≠Ë®Ä</a> <a href="/tags/ÊµãËØï/" style="font-size: 10px;">ÊµãËØï</a> <a href="/tags/ÊªëÁ™ó/" style="font-size: 10px;">ÊªëÁ™ó</a> <a href="/tags/ÁâàÊú¨ÊéßÂà∂/" style="font-size: 10px;">ÁâàÊú¨ÊéßÂà∂</a> <a href="/tags/ÁîüÊ¥ªÊÄªÁªì/" style="font-size: 10px;">ÁîüÊ¥ªÊÄªÁªì</a> <a href="/tags/Á¶èÂà©ÂàÜ‰∫´/" style="font-size: 10px;">Á¶èÂà©ÂàÜ‰∫´</a> <a href="/tags/ÁÆóÊ≥ï/" style="font-size: 12.73px;">ÁÆóÊ≥ï</a> <a href="/tags/ÁÆóÊ≥ïÈ¢òÁõÆ/" style="font-size: 19.55px;">ÁÆóÊ≥ïÈ¢òÁõÆ</a> <a href="/tags/Á±ªÂä†ËΩΩÂô®/" style="font-size: 10.45px;">Á±ªÂä†ËΩΩÂô®</a> <a href="/tags/Á¥†Êï∞/" style="font-size: 10px;">Á¥†Êï∞</a> <a href="/tags/Á∫øÊÄßÊé¢ÊµãÊ≥ï/" style="font-size: 10px;">Á∫øÊÄßÊé¢ÊµãÊ≥ï</a> <a href="/tags/Á∫øÁ®ãÊ±†/" style="font-size: 10.91px;">Á∫øÁ®ãÊ±†</a> <a href="/tags/ÁºñËØë‰ºòÂåñ/" style="font-size: 10px;">ÁºñËØë‰ºòÂåñ</a> <a href="/tags/ÁºñËØëÂô®/" style="font-size: 10px;">ÁºñËØëÂô®</a> <a href="/tags/ÁΩëÁõò/" style="font-size: 10px;">ÁΩëÁõò</a> <a href="/tags/ÁΩëÁªúÁ∫øË∑Ø/" style="font-size: 10px;">ÁΩëÁªúÁ∫øË∑Ø</a> <a href="/tags/ÁøªË®≥/" style="font-size: 10.45px;">ÁøªË®≥</a> <a href="/tags/Ëá™ÂêØÂä®/" style="font-size: 10px;">Ëá™ÂêØÂä®</a> <a href="/tags/ËíôÁâπÂç°ÁΩóÊñπÊ≥ï/" style="font-size: 10px;">ËíôÁâπÂç°ÁΩóÊñπÊ≥ï</a> <a href="/tags/ËôöÊãüÊú∫/" style="font-size: 10.45px;">ËôöÊãüÊú∫</a> <a href="/tags/Ë°óÊôØ/" style="font-size: 10px;">Ë°óÊôØ</a> <a href="/tags/Ë£ÖÈ•∞Âô®Ê®°Âºè/" style="font-size: 10px;">Ë£ÖÈ•∞Âô®Ê®°Âºè</a> <a href="/tags/ËÆ°ÁÆóÊú∫ÁΩëÁªú/" style="font-size: 10px;">ËÆ°ÁÆóÊú∫ÁΩëÁªú</a> <a href="/tags/ËÆæËÆ°Ê®°Âºè/" style="font-size: 10px;">ËÆæËÆ°Ê®°Âºè</a> <a href="/tags/ËØæÁ®ã/" style="font-size: 10px;">ËØæÁ®ã</a> <a href="/tags/Ë¥üËΩΩÂùáË°°/" style="font-size: 12.27px;">Ë¥üËΩΩÂùáË°°</a> <a href="/tags/Ë¥™ÂøÉ/" style="font-size: 10px;">Ë¥™ÂøÉ</a> <a href="/tags/Ë∑≥Ë∑≥ËõôÊó•ËØ≠ËØªÂ∫ì/" style="font-size: 10.45px;">Ë∑≥Ë∑≥ËõôÊó•ËØ≠ËØªÂ∫ì</a> <a href="/tags/ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ/" style="font-size: 17.27px;">ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ</a> <a href="/tags/ËΩØ‰ª∂Êé®Ëçê/" style="font-size: 15px;">ËΩØ‰ª∂Êé®Ëçê</a> <a href="/tags/ËΩØ‰ª∂ÊµãËØï/" style="font-size: 10.45px;">ËΩØ‰ª∂ÊµãËØï</a> <a href="/tags/ËΩØËÄÉ/" style="font-size: 10px;">ËΩØËÄÉ</a> <a href="/tags/ËøõÂ∫¶Êù°/" style="font-size: 10.45px;">ËøõÂ∫¶Êù°</a> <a href="/tags/ËøõÁ®ãÈÄö‰ø°/" style="font-size: 10px;">ËøõÁ®ãÈÄö‰ø°</a> <a href="/tags/ÈÄÜÂêëÂ∑•Á®ã/" style="font-size: 10px;">ÈÄÜÂêëÂ∑•Á®ã</a> <a href="/tags/ÈÄíÂΩí/" style="font-size: 10.45px;">ÈÄíÂΩí</a> <a href="/tags/ÈáçÂÆöÂêë/" style="font-size: 10px;">ÈáçÂÆöÂêë</a> <a href="/tags/ÈáçË£ÖÁ≥ªÁªü/" style="font-size: 10px;">ÈáçË£ÖÁ≥ªÁªü</a> <a href="/tags/ÈìæË°®/" style="font-size: 13.64px;">ÈìæË°®</a> <a href="/tags/ÈòüÂàó/" style="font-size: 10px;">ÈòüÂàó</a> <a href="/tags/ÈöèÊú∫ÂõæÁâá/" style="font-size: 10px;">ÈöèÊú∫ÂõæÁâá</a> <a href="/tags/ÈõÜÂêà/" style="font-size: 14.09px;">ÈõÜÂêà</a> <a href="/tags/Èõ∂ÂÆΩÂ≠óÁ¨¶/" style="font-size: 10px;">Èõ∂ÂÆΩÂ≠óÁ¨¶</a> <a href="/tags/ÈùôÊÄÅ‰ª£ÁêÜ/" style="font-size: 10px;">ÈùôÊÄÅ‰ª£ÁêÜ</a> <a href="/tags/Èù¢ËØïÊÄªÁªì/" style="font-size: 15px;">Èù¢ËØïÊÄªÁªì</a> <a href="/tags/È°πÁõÆÊÄªÁªì/" style="font-size: 10.91px;">È°πÁõÆÊÄªÁªì</a> <a href="/tags/È°πÁõÆÊûÑÂª∫/" style="font-size: 10.91px;">È°πÁõÆÊûÑÂª∫</a> <a href="/tags/È°πÁõÆÈÉ®ÁΩ≤/" style="font-size: 11.36px;">È°πÁõÆÈÉ®ÁΩ≤</a> <a href="/tags/ÈªëËãπÊûú/" style="font-size: 10px;">ÈªëËãπÊûú</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ÊñáÁ´†ÂàÜÁ±ª</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ACM/">ACM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Android/">Android</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C/">C++</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/CUDA/">CUDA</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ChromeÊâ©Â±ï/">ChromeÊâ©Â±ï</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ClickHouse/">ClickHouse</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/">Docker</a>
          <span class="category-list-count">25</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dolt/">Dolt</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dubbo/">Dubbo</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Electron/">Electron</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Git/">Git</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Github/">Github</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Golang/">Golang</a>
          <span class="category-list-count">31</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/GraalVM/">GraalVM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/IOÂü∫Á°Ä/">IOÂü∫Á°Ä</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Java/">Java</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JavaÊ∫êÁ†Å/">JavaÊ∫êÁ†Å</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JuiceFS/">JuiceFS</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Kubernetes/">Kubernetes</a>
          <span class="category-list-count">12</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Life/">Life</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Linux/">Linux</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Maven/">Maven</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MongoDB/">MongoDB</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MySQL/">MySQL</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/">Mybatis</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/NPM/">NPM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Netty/">Netty</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Nginx/">Nginx</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Node-js/">Node.js</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/PostgreSQL/">PostgreSQL</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Protobuf/">Protobuf</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Python/">Python</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redash/">Redash</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/Redis/">Redis</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Ruby/">Ruby</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Rust/">Rust</a>
          <span class="category-list-count">35</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Spring/">Spring</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TOML/">TOML</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TypeScript/">TypeScript</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Websocket/">Websocket</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/‰∫∫Â∑•Êô∫ËÉΩ/">‰∫∫Â∑•Êô∫ËÉΩ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/‰∫∫ÁîüÊó•ËÆ∞/">‰∫∫ÁîüÊó•ËÆ∞</a>
          <span class="category-list-count">26</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÂàÜÂ∏ÉÂºè/">ÂàÜÂ∏ÉÂºè</a>
          <span class="category-list-count">10</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÂäûÂÖ¨/">ÂäûÂÖ¨</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÂçöÂÆ¢ÁÆ°ÁêÜ/">ÂçöÂÆ¢ÁÆ°ÁêÜ</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/ÊäÄÊúØÊùÇË∞à/Â≠¶‰π†Ê°à‰æã/">Â≠¶‰π†Ê°à‰æã</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Â∑•ÂÖ∑ÂàÜ‰∫´/">Â∑•ÂÖ∑ÂàÜ‰∫´</a>
          <span class="category-list-count">41</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Âπ∂ÂèëÁºñÁ®ã/">Âπ∂ÂèëÁºñÁ®ã</a>
          <span class="category-list-count">13</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/ÊäÄÊúØÊùÇË∞à/">ÊäÄÊúØÊùÇË∞à</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÊïôÂ∏à/">ÊïôÂ∏à</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Êï∞ÊçÆÂ∫ì/">Êï∞ÊçÆÂ∫ì</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Êó•Êú¨Ë™û/">Êó•Êú¨Ë™û</a>
          <span class="category-list-count">11</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÊúçÂä°Ëá™Âª∫/">ÊúçÂä°Ëá™Âª∫</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Ê±áÁºñËØ≠Ë®Ä/">Ê±áÁºñËØ≠Ë®Ä</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÁÆóÊ≥ï/">ÁÆóÊ≥ï</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ÁÆóÊ≥ïÈ¢òÁõÆ/">ÁÆóÊ≥ïÈ¢òÁõÆ</a>
          <span class="category-list-count">60</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ËØæÁ®ã/">ËØæÁ®ã</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redis/ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ/">ËΩØ‰ª∂ÂÆâË£Ö‰∏éÈÖçÁΩÆ</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ËΩØ‰ª∂ÊµãËØï/">ËΩØ‰ª∂ÊµãËØï</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ËΩØËÄÉ/">ËΩØËÄÉ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Èù¢ËØïÊÄªÁªì/">Èù¢ËØïÊÄªÁªì</a>
          <span class="category-list-count">15</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/È°πÁõÆÊÄªÁªì/">È°πÁõÆÊÄªÁªì</a>
          <span class="category-list-count">3</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ÊúÄÊñ∞ÊñáÁ´†</h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2025/07/30/ÂºÄ‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ‰∏ìÈó®Â≠¶‰π†Êó•ËØ≠ÁöÑÂçöÂÆ¢/">ÂºÄ‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ‰∏ìÈó®Â≠¶‰π†Êó•ËØ≠ÁöÑÂçöÂÆ¢</a>
          </li>
        
          <li>
            <a href="/2025/07/29/‰∏Ä„ÄÅÂπ∂Ë°åÁºñÁ®ãÂØºËÆ∫‰∏éCUDAÂÖ•Èó®/">‰∏Ä„ÄÅÂπ∂Ë°åÁºñÁ®ãÂØºËÆ∫‰∏éCUDAÂÖ•Èó®</a>
          </li>
        
          <li>
            <a href="/2025/07/24/‰∏Ä‰∫õÂÖçË¥πÁöÑGPUËµÑÊ∫ê/">‰∏Ä‰∫õÂÖçË¥πÁöÑGPUËµÑÊ∫ê</a>
          </li>
        
          <li>
            <a href="/2025/07/21/debian12ÈÉ®ÁΩ≤kubernetes-1-28ÈõÜÁæ§/">debian12ÈÉ®ÁΩ≤kubernetes-1.28ÈõÜÁæ§</a>
          </li>
        
          <li>
            <a href="/2025/07/21/ÂàÜ‰∫´‰∏§‰∏™ÊúçÂä°Âô®ÂÆûÁî®ËÑöÊú¨ÔºöxsyncÂíåxcall/">ÂàÜ‰∫´‰∏§‰∏™ÊúçÂä°Âô®ÂÆûÁî®ËÑöÊú¨ÔºöxsyncÂíåxcall</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <div class="nexmoe-copyright">
        <span style="color:#707070;font-size: 14px;">
            Êú¨Á´ôÊÄªËÆøÈóÆÈáè<span id="busuanzi_value_site_pv"></span>Ê¨° <br>
            Êú¨Á´ôËÆøÂÆ¢Êï∞<span id="busuanzi_value_site_uv"></span>‰∫∫Ê¨° <br>
        </span>
        <span id="showsectime" style="color:#707070;font-size: 14px;">
            Êú¨Á´ôÂ∑≤ËøêË°å0Â§©0Â∞èÊó∂0ÂàÜ0Áßí
        </span>
        <i class="fa fa-heart throb" style="color:#d43f57">‚ù§</i><br>

        &copy; 2025 Jasonkay
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>

    <div id="footer-info">

    </div>

    <script type="text/javascript">
        function NewDate(str) {
            str = str.split('-');
            var date = new Date();
            date.setUTCFullYear(str[0], str[1] - 1, str[2]);
            date.setUTCHours(0, 0, 0, 0);
            return date;
        }
        function showsectime() {
            var birthDay = NewDate("2019-09-01");
            var today = new Date();
            var timeold = today.getTime() - birthDay.getTime();
            var sectimeold = timeold / 1000
            var secondsold = Math.floor(sectimeold);
            var msPerDay = 24 * 60 * 60 * 1000; var e_daysold = timeold / msPerDay;
            var daysold = Math.floor(e_daysold);
            var e_hrsold = (daysold - e_daysold) * -24;
            var hrsold = Math.floor(e_hrsold);
            var e_minsold = (hrsold - e_hrsold) * -60;
            var minsold = Math.floor((hrsold - e_hrsold) * -60); var seconds = Math.floor((minsold - e_minsold) * -60).toString();
            document.getElementById("showsectime").innerHTML = "Êú¨Á´ôÂ∑≤ËøêË°å" + daysold + "Â§©" + hrsold + "Â∞èÊó∂" + minsold + "ÂàÜ" + seconds + "Áßí";
            setTimeout(showsectime, 1000);
        }
        showsectime();
    </script>

</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
      <div class="nexmoe-post">
  <div class="nexmoe-post-cover">
    
    <img src="https://img.paulzzh.com/touhou/random?78">
    
    <h1>ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì</h1>
  </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2022Âπ¥06Êúà14Êó•</a>
    <a><i class="nexmoefont icon-areachart"></i>14k Â≠ó</a>
    <a><i class="nexmoefont icon-areachart"></i><span class="archive-article-date">ÈòÖËØªÈáè<span id="busuanzi_value_page_pv"></span>
      </span></a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>Â§ßÊ¶Ç 66 ÂàÜÈíü</a>

    
    <a class="nexmoefont icon-appstore-fill -link" href="/categories/ElasticSearch/">ElasticSearch</a>
    
    
    <a class="nexmoefont icon-tag-fill -link" href="/tags/ElasticSearch/">ElasticSearch</a>
    
  </div>
  <article>
    
    <div id="toc" class="toc-article">
      <ul class="markdownIt-TOC">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì"><span class="toc-text">ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ÈÉ®ÁΩ≤ELK"><span class="toc-text">ÈÉ®ÁΩ≤ELK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Âü∫Êú¨Ê¶ÇÂøµ"><span class="toc-text">Âü∫Êú¨Ê¶ÇÂøµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Á¥¢ÂºïÔºàindexÔºâ"><span class="toc-text">Á¥¢ÂºïÔºàindexÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Á±ªÂûãÔºàtypeÔºâ"><span class="toc-text">Á±ªÂûãÔºàtypeÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÊñáÊ°£ÔºàdocumentÔºâ"><span class="toc-text">ÊñáÊ°£ÔºàdocumentÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Êò†Â∞ÑÔºàmappingÔºâ"><span class="toc-text">Êò†Â∞ÑÔºàmappingÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÂàÜÁâáÔºàshardÔºâ"><span class="toc-text">ÂàÜÁâáÔºàshardÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÂâØÊú¨ÔºàreplicaÔºâ"><span class="toc-text">ÂâØÊú¨ÔºàreplicaÔºâ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#‰∏Ä‰∫õÂÖ∂‰ªñÈóÆÈ¢ò"><span class="toc-text">‰∏Ä‰∫õÂÖ∂‰ªñÈóÆÈ¢ò</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#analyzerÂíåsearch-analyzerÁöÑÂå∫Âà´"><span class="toc-text">analyzerÂíåsearch_analyzerÁöÑÂå∫Âà´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#es-number-of-shardsÂíånumber-of-replicasÁöÑÂå∫Âà´"><span class="toc-text">es number_of_shardsÂíånumber_of_replicasÁöÑÂå∫Âà´</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ESÁöÑÂü∫Êú¨Êìç‰Ωú"><span class="toc-text">ESÁöÑÂü∫Êú¨Êìç‰Ωú</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Á¥¢ÂºïÔºàË°®ÔºâÊìç‰Ωú"><span class="toc-text">Á¥¢ÂºïÔºàË°®ÔºâÊìç‰Ωú</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Âª∫Á¥¢ÂºïÔºàË°®Ôºâ"><span class="toc-text">Âª∫Á¥¢ÂºïÔºàË°®Ôºâ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Âà†Á¥¢Âºï"><span class="toc-text">Âà†Á¥¢Âºï</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#‰øÆÊîπÁ¥¢Âºï"><span class="toc-text">‰øÆÊîπÁ¥¢Âºï</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÊñáÊ°£Êìç‰Ωú"><span class="toc-text">ÊñáÊ°£Êìç‰Ωú</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Êñ∞Â¢ûÊñáÊ°£"><span class="toc-text">Êñ∞Â¢ûÊñáÊ°£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Êü•ËØ¢ÊñáÊ°£"><span class="toc-text">Êü•ËØ¢ÊñáÊ°£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Êõ¥Êñ∞ÊñáÊ°£"><span class="toc-text">Êõ¥Êñ∞ÊñáÊ°£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Âà†Èô§ÊñáÊ°£"><span class="toc-text">Âà†Èô§ÊñáÊ°£</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bulk-API"><span class="toc-text">Bulk API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÊâπÈáèÊü•ËØ¢ÊñáÊ°£"><span class="toc-text">ÊâπÈáèÊü•ËØ¢ÊñáÊ°£</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ÂêÑÁßçÊü•ËØ¢"><span class="toc-text">ÂêÑÁßçÊü•ËØ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Êü•ËØ¢ÁöÑÁ±ªÂûã"><span class="toc-text">Êü•ËØ¢ÁöÑÁ±ªÂûã</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Â§çÂêàÊü•ËØ¢ÔºàCompound-queriesÔºâ"><span class="toc-text">Â§çÂêàÊü•ËØ¢ÔºàCompound queriesÔºâ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Boolean-Query"><span class="toc-text">Boolean Query</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Boosting-Query"><span class="toc-text">Boosting Query</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#constant-score"><span class="toc-text">constant_score</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dis-max"><span class="toc-text">dis_max</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ÊâìÂàÜÂáΩÊï∞Ôºàfunction-scoreÔºâ"><span class="toc-text">ÊâìÂàÜÂáΩÊï∞Ôºàfunction_scoreÔºâ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text-QueriesÔºâ"><span class="toc-text">ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text QueriesÔºâ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#match"><span class="toc-text">match</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#intervals"><span class="toc-text">intervals</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#match-bool-prefix"><span class="toc-text">match_bool_prefix</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#match-phrase"><span class="toc-text">match_phrase</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#match-phrase-prefix"><span class="toc-text">match_phrase_prefix</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#multi-match"><span class="toc-text">multi_match</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#combined-fields"><span class="toc-text">combined_fields</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#query-string"><span class="toc-text">query_string</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#simple-query-string"><span class="toc-text">simple_query_string</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Geo-Âú∞ÁêÜÊü•ËØ¢"><span class="toc-text">Geo(Âú∞ÁêÜÊü•ËØ¢)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shape-queries-ÂΩ¢Áä∂Êü•ËØ¢"><span class="toc-text">Shape queries(ÂΩ¢Áä∂Êü•ËØ¢)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Joining-queries-Âä†ÂÖ•Êü•ËØ¢"><span class="toc-text">Joining queries(Âä†ÂÖ•Êü•ËØ¢)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Match-All-None-ÂåπÈÖçÊâÄÊúâ"><span class="toc-text">Match All/None(ÂåπÈÖçÊâÄÊúâ)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Span-queries-ËåÉÂõ¥Êü•ËØ¢"><span class="toc-text">Span queries(ËåÉÂõ¥Êü•ËØ¢)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Specialized-queries-‰∏ì‰∏öÊü•ËØ¢"><span class="toc-text">Specialized queries(‰∏ì‰∏öÊü•ËØ¢)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Term-level-queries-ÊúØËØ≠Á∫ßÊü•ËØ¢"><span class="toc-text">Term-level queries(ÊúØËØ≠Á∫ßÊü•ËØ¢)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#exists"><span class="toc-text">exists</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fuzzy"><span class="toc-text">fuzzy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ids"><span class="toc-text">ids</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#prefix"><span class="toc-text">prefix</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#range"><span class="toc-text">range</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#regexp"><span class="toc-text">regexp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#term"><span class="toc-text">term</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#terms"><span class="toc-text">terms</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#terms-set"><span class="toc-text">terms_set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wildcard"><span class="toc-text">wildcard</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#‰∏Ä‰∫õÈ´òÁ∫ßÁâπÊÄß"><span class="toc-text">‰∏Ä‰∫õÈ´òÁ∫ßÁâπÊÄß</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ÈÖçÁΩÆÂàÜËØçÊü•ËØ¢"><span class="toc-text">ÈÖçÁΩÆÂàÜËØçÊü•ËØ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ÂÆâË£ÖÂàÜËØçÊèí‰ª∂"><span class="toc-text">ÂÆâË£ÖÂàÜËØçÊèí‰ª∂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ë°•ÂÖÖÁü•ËØÜÔºöik-max-wordÂíåik-smartÁöÑÂå∫Âà´"><span class="toc-text">Ë°•ÂÖÖÁü•ËØÜÔºöik_max_wordÂíåik_smartÁöÑÂå∫Âà´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ÂàÜËØçÁ¥¢ÂºïÈÖçÁΩÆ"><span class="toc-text">ÂàÜËØçÁ¥¢ÂºïÈÖçÁΩÆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÈÖçÁΩÆÂêå‰πâËØç"><span class="toc-text">ÈÖçÁΩÆÂêå‰πâËØç</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#‰∏Ä„ÄÅÂàõÂª∫Âêå‰πâËØçËØçÂ∫ì"><span class="toc-text">‰∏Ä„ÄÅÂàõÂª∫Âêå‰πâËØçËØçÂ∫ì</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#‰∫å„ÄÅÈáçÂêØESÂä†ËΩΩËØçÂ∫ìÔºà‰∏çÊîØÊåÅÁÉ≠Êõ¥Êñ∞Ôºâ"><span class="toc-text">‰∫å„ÄÅÈáçÂêØESÂä†ËΩΩËØçÂ∫ìÔºà‰∏çÊîØÊåÅÁÉ≠Êõ¥Êñ∞Ôºâ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#‰∏â„ÄÅÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆöÂêå‰πâËØç-filter"><span class="toc-text">‰∏â„ÄÅÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆöÂêå‰πâËØç filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ÊµãËØï"><span class="toc-text">ÊµãËØï</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Â¢ûÂä†Stopwords"><span class="toc-text">Â¢ûÂä†Stopwords</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#‰∏∫Á¥¢ÂºïÈÖçÁΩÆStopwords"><span class="toc-text">‰∏∫Á¥¢ÂºïÈÖçÁΩÆStopwords</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ÊµãËØï-1"><span class="toc-text">ÊµãËØï</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ÈÖçÁΩÆÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑü"><span class="toc-text">ÈÖçÁΩÆÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑü</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ÈôÑÂΩï"><span class="toc-text">ÈôÑÂΩï</span></a></li></ol>
      </ul>
    </div>
    
    <p>ÊúÄËøëÂÅöÁöÑÈ°πÁõÆÁî®Âà∞‰∫ÜESÔºåËøôÈáåÊÄªÁªì‰∏Ä‰∏ãÔºõ</p>
<br>

<a id="more"></a>

<h1 id="ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì"><a href="#ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì" class="headerlink" title="ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì"></a><strong>ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì</strong></h1><h2 id="ÈÉ®ÁΩ≤ELK"><a href="#ÈÉ®ÁΩ≤ELK" class="headerlink" title="ÈÉ®ÁΩ≤ELK"></a><strong>ÈÉ®ÁΩ≤ELK</strong></h2><p>Âú®ËøõË°åESÊìç‰Ωú‰πãÂâçÔºåÈ¶ñÂÖàÊàë‰ª¨Ë¶ÅÂÖàÊúâ‰∏Ä‰∏™ELKÊúçÂä°Ôºõ</p>
<p>ÂÖ∑‰ΩìELKÁöÑÈÉ®ÁΩ≤ÂèØ‰ª•ÂèÇËÄÉÊàë‰πãÂâçÁöÑÊñáÁ´†Ôºö</p>
<ul>
<li><a href="/2021/05/15/‰ΩøÁî®Docker-ComposeÈÉ®ÁΩ≤ÂçïËäÇÁÇπELK/">‰ΩøÁî®Docker-ComposeÈÉ®ÁΩ≤ÂçïËäÇÁÇπELK</a></li>
</ul>
<p>Ê∫ê‰ª£Á†ÅÔºö</p>
<ul>
<li><a href="https://github.com/JasonkayZK/docker-repo/tree/elk-v7.14-single" target="_blank" rel="noopener">https://github.com/JasonkayZK/docker-repo/tree/elk-v7.14-single</a></li>
</ul>
<p>‰∏ãÈù¢Êù•ÁúãÁúãESÁöÑÂÖ∑‰ΩìÁî®Ê≥ïÔºõ</p>
<br>

<h2 id="Âü∫Êú¨Ê¶ÇÂøµ"><a href="#Âü∫Êú¨Ê¶ÇÂøµ" class="headerlink" title="Âü∫Êú¨Ê¶ÇÂøµ"></a><strong>Âü∫Êú¨Ê¶ÇÂøµ</strong></h2><p>ElasticsearchÊ¶ÇËø∞Ôºö</p>
<p>ES ÊòØ‰∏Ä‰∏™Âü∫‰∫é Lucene ÁöÑÊêúÁ¥¢ÊúçÂä°Âô®ÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÂ§öÁî®Êà∑ËÉΩÂäõÁöÑÊêúÁ¥¢ÂºïÊìéÔºå‰∏îESÊîØÊåÅ Restful WebÈ£éÊ†ºÁöÑurlËÆøÈóÆÔºõESÊòØÂü∫‰∫éJavaÂºÄÂèëÁöÑÂºÄÊ∫êÊêúÁ¥¢ÂºïÊìéÔºåËÆæËÆ°Áî®‰∫é‰∫ëËÆ°ÁÆóÔºõÊ≠§Â§ñÔºåESËøòÊèê‰æõ‰∫ÜÊï∞ÊçÆËÅöÂêàÂàÜÊûêÂäüËÉΩÔºå‰ΩÜÂú®Êï∞ÊçÆÂàÜÊûêÊñπÈù¢ÔºåES ÁöÑÊó∂ÊïàÊÄß‰∏çÊòØÂæàÁêÜÊÉ≥ÔºåÂú®‰ºÅ‰∏öÂ∫îÁî®‰∏≠‰∏ÄËà¨ËøòÊòØÁî®‰∫éÊêúÁ¥¢ÔºõESËá™2016Âπ¥Ëµ∑Â∑≤ÁªèË∂ÖËøáSolrÁ≠âÔºåÁß∞‰∏∫ÊéíÂêçÁ¨¨‰∏ÄÁöÑÊêúÁ¥¢ÂºïÊìéÂ∫îÁî®Ôºõ</p>
<p>ESÁöÑÁâπÊÄßÔºöÈÄüÂ∫¶Âø´„ÄÅÊòìÊâ©Â±ï„ÄÅÂºπÊÄß„ÄÅÁÅµÊ¥ª„ÄÅÊìç‰ΩúÁÆÄÂçï„ÄÅÂ§öËØ≠Ë®ÄÂÆ¢Êà∑Á´Ø„ÄÅX-Pack„ÄÅhadoop/sparkÂº∫Âº∫ËÅîÊâã„ÄÅÂºÄÁÆ±Âç≥Áî®Ôºõ</p>
<ul>
<li>ÂàÜÂ∏ÉÂºèÔºöÊ®™ÂêëÊâ©Â±ïÈùûÂ∏∏ÁÅµÊ¥ªÔºõ</li>
<li>ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºöÂü∫‰∫éluceneÁöÑÂº∫Â§ßÁöÑÂÖ®ÊñáÊ£ÄÁ¥¢ËÉΩÂäõÔºõ</li>
<li>ËøëÂÆûÊó∂ÊêúÁ¥¢ÂíåÂàÜÊûêÔºöÊï∞ÊçÆËøõÂÖ•ESÔºåÂèØËææÂà∞ËøëÂÆûÊó∂ÊêúÁ¥¢ÔºåËøòÂèØËøõË°åËÅöÂêàÂàÜÊûêÔºõ</li>
<li>È´òÂèØÁî®ÔºöÂÆπÈîôÊú∫Âà∂ÔºåËá™Âä®ÂèëÁé∞Êñ∞ÁöÑÊàñÂ§±Ë¥•ÁöÑËäÇÁÇπÔºåÈáçÁªÑÂíåÈáçÊñ∞Âπ≥Ë°°Êï∞ÊçÆÔºõ</li>
<li>Ê®°ÂºèËá™Áî±ÔºöESÁöÑÂä®ÊÄÅmappingÊú∫Âà∂ÂèØ‰ª•Ëá™Âä®Ê£ÄÊµãÊï∞ÊçÆÁöÑÁªìÊûÑÂíåÁ±ªÂûãÔºåÂàõÂª∫Á¥¢ÂºïÂπ∂‰ΩøÊï∞ÊçÆÂèØÊêúÁ¥¢Ôºõ</li>
<li>RESTful APIÔºöJSON + HTTPÔºõ</li>
</ul>
<p>ElasticSearch ‰∏≠ÊúâÂá†‰∏™Âü∫Êú¨Ê¶ÇÂøµÔºö</p>
<ul>
<li>Á¥¢Âºï(index)Ôºõ</li>
<li>Á±ªÂûã(type)Ôºõ</li>
<li>ÊñáÊ°£(document)Ôºõ</li>
<li>Êò†Â∞Ñ(mapping)Á≠âÔºõ</li>
</ul>
<p>Êàë‰ª¨Â∞ÜËøôÂá†‰∏™Ê¶ÇÂøµ‰∏é‰º†ÁªüÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂ∫ì„ÄÅË°®„ÄÅË°å„ÄÅÂàóÁ≠âÊ¶ÇÂøµËøõË°åÂØπÊØîÔºåÂ¶Ç‰∏ãË°®Ôºö</p>
<table>
<thead>
<tr>
<th><strong>RDBMS</strong></th>
<th><strong>ES</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Êï∞ÊçÆÂ∫ìÔºàDatabaseÔºâ</strong></td>
<td><strong>Á¥¢ÂºïÔºàIndexÔºâ</strong></td>
</tr>
<tr>
<td>Ë°®ÔºàtableÔºâ</td>
<td>Á±ªÂûãÔºàtypeÔºâÔºàES6.0‰πãÂêéË¢´Â∫üÂºÉÔºåes7‰∏≠ÂÆåÂÖ®Âà†Èô§Ôºâ</td>
</tr>
<tr>
<td>Ë°®ÁªìÊûÑÔºàschemaÔºâ</td>
<td>Êò†Â∞ÑÔºàmappingÔºâ</td>
</tr>
<tr>
<td>Ë°åÔºàrowÔºâ</td>
<td>ÊñáÊ°£ÔºàdocumentÔºâ</td>
</tr>
<tr>
<td>ÂàóÔºàcolumnÔºâ</td>
<td>Â≠óÊÆµÔºàfieldÔºâ</td>
</tr>
<tr>
<td>Á¥¢Âºï</td>
<td>ÂèçÂêëÁ¥¢Âºï</td>
</tr>
<tr>
<td>SQL</td>
<td>Êü•ËØ¢DSL</td>
</tr>
<tr>
<td>SELECT * FROM table</td>
<td>GET /index/_search {}</td>
</tr>
<tr>
<td>UPDATE table SET</td>
<td>PUT  /index {}</td>
</tr>
<tr>
<td>DELETE</td>
<td>DELETE  /index {}</td>
</tr>
</tbody></table>
<p><strong>ËøôÈáåÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÁöÑÊòØÔºö</strong></p>
<p><strong>Âíå RDBMS ‰∏≠ÁöÑÁ¥¢ÂºïÊ¶ÇÂøµ‰∏çÂêåÔºåES ‰∏≠ÁöÑÁ¥¢ÂºïË∑üÁ±ª‰ºº‰∫é Table ÁöÑÊ¶ÇÂøµÔºåÂç≥Ôºö</strong></p>
<p><strong>Âú® ES ‰∏≠ÊñáÊ°£ÊòØ‚ÄúÊåÇ‚ÄùÂú®Á¥¢Âºï‰∏äÈù¢ÁöÑÔºõ</strong></p>
<p>‰∏ãÈù¢ÂàÜÂà´Êù•ÁúãËøô‰∫õÊ¶ÇÂøµÔºõ</p>
<br>

<h3 id="Á¥¢ÂºïÔºàindexÔºâ"><a href="#Á¥¢ÂºïÔºàindexÔºâ" class="headerlink" title="Á¥¢ÂºïÔºàindexÔºâ"></a><strong>Á¥¢ÂºïÔºàindexÔºâ</strong></h3><p>Á¥¢ÂºïÊòØESÁöÑ<strong>ÈÄªËæëÂ≠òÂÇ®</strong>ÔºåÂØπÂ∫îÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂ∫ìÔºåESÂèØ‰ª•ÊääÁ¥¢ÂºïÊï∞ÊçÆÂ≠òÊîæÂà∞ÊúçÂä°Âô®‰∏≠Ôºå‰πüÂèØ‰ª•ÂàÜÁâáÔºàShardingÔºâÂêéÂ≠òÂÇ®Âà∞Â§öÂè∞ÊúçÂä°Âô®‰∏äÔºõ</p>
<p>ÊØè‰∏™Á¥¢ÂºïÂèØ‰ª•Êúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂàÜÁâáÔºåÊØè‰∏™ÂàÜÁâáÂèØ‰ª•ÊúâÂ§ö‰∏™ÂâØÊú¨Ôºõ</p>
<br>

<h3 id="Á±ªÂûãÔºàtypeÔºâ"><a href="#Á±ªÂûãÔºàtypeÔºâ" class="headerlink" title="Á±ªÂûãÔºàtypeÔºâ"></a><strong>Á±ªÂûãÔºàtypeÔºâ</strong></h3><p>Âú® ES ‰∏≠Ôºå<strong>‰∏Ä‰∏™Á¥¢ÂºïÂèØ‰ª•Â≠òÂÇ®Â§ö‰∏™Áî®‰∫é‰∏çÂêåÁî®ÈÄîÁöÑÂØπË±°ÔºåÂèØ‰ª•ÈÄöËøáÁ±ªÂûãÊù•Âå∫ÂàÜÁ¥¢Âºï‰∏≠ÁöÑ‰∏çÂêåÂØπË±°ÔºåÂØπÂ∫îÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠Ë°®ÁöÑÊ¶ÇÂøµÔºõ‰ΩÜÊòØÂú®ES 6.0ÂºÄÂßãÔºåÁ±ªÂûãÁöÑÊ¶ÇÂøµË¢´Â∫üÂºÉÔºåES7‰∏≠Â∞ÜÂÆÉÂÆåÂÖ®Âà†Èô§Ôºõ</strong></p>
<p>Âà†Èô§typeÁöÑÂéüÂõ†Ôºö</p>
<p>Êàë‰ª¨‰∏ÄÁõ¥ËÆ§‰∏∫ ES ‰∏≠ÁöÑ <code>index</code> Á±ª‰ºº‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑ <code>database</code>ÔºåËÄå <code>type</code> Áõ∏ÂΩì‰∫é‰∏Ä‰∏™Êï∞ÊçÆË°®Ôºõ‰ΩÜÊòØÔºåESÁöÑÂºÄÂèëËÄÖ‰ª¨ËÆ§‰∏∫ËøôÊòØ‰∏Ä‰∏™Á≥üÁ≥ïÁöÑËÆ§ËØÜÔºõ‰æãÂ¶ÇÔºö</p>
<p><font color="#f00"><strong>ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠‰∏§‰∏™Êï∞ÊçÆË°®Á§∫ÊòØÁã¨Á´ãÁöÑÔºåÂç≥‰Ωø‰ªñ‰ª¨ÈáåÈù¢ÊúâÁõ∏ÂêåÂêçÁß∞ÁöÑÂàó‰πü‰∏çÂΩ±Âìç‰ΩøÁî®Ôºå‰ΩÜES‰∏≠‰∏çÊòØËøôÊ†∑ÁöÑÔºöES ‰∏≠‰∏çÂêå type ‰∏ãÂêçÁß∞Áõ∏ÂêåÁöÑ field ÊúÄÁªàÂú® Lucene ‰∏≠ÁöÑÂ§ÑÁêÜÊñπÂºèÊòØ‰∏ÄÊ†∑ÁöÑÔºÅ</strong></font></p>
<p><font color="#f00"><strong>‰∏æ‰∏™‰æãÂ≠êÔºö‰∏§‰∏™‰∏çÂêå type ‰∏ãÁöÑ‰∏§‰∏™ user_nameÔºåÂú® ES Âêå‰∏Ä‰∏™Á¥¢Âºï‰∏ãÂÖ∂ÂÆûË¢´ËÆ§‰∏∫ÊòØÂêå‰∏Ä‰∏™ fieldÔºå‰Ω†ÂøÖÈ°ªÂú®‰∏§‰∏™‰∏çÂêåÁöÑ type ‰∏≠ÂÆö‰πâÁõ∏ÂêåÁöÑfieldÊò†Â∞ÑÔºõÂê¶ÂàôÔºå‰∏çÂêåtype‰∏≠ÁöÑÁõ∏ÂêåÂ≠óÊÆµÂêçÁß∞Â∞±‰ºöÂú®Â§ÑÁêÜ‰∏≠Âá∫Áé∞ÂÜ≤Á™ÅÁöÑÊÉÖÂÜµÔºåÂØºËá¥LuceneÂ§ÑÁêÜÊïàÁéá‰∏ãÈôçÔºÅ</strong></font></p>
<p><font color="#f00"><strong>ÂéªÊéâ type ËÉΩÂ§ü‰ΩøÊï∞ÊçÆÂ≠òÂÇ®Âú®Áã¨Á´ãÁöÑ index ‰∏≠ÔºåËøôÊ†∑Âç≥‰ΩøÊúâÁõ∏ÂêåÁöÑÂ≠óÊÆµÂêçÁß∞‰πü‰∏ç‰ºöÂá∫Áé∞ÂÜ≤Á™ÅÔºåÂ∞±ÂÉèElasticSearchÂá∫Áé∞ÁöÑÁ¨¨‰∏ÄÂè•ËØù‰∏ÄÊ†∑‚Äú‰Ω†Áü•ÈÅìÁöÑÔºå‰∏∫‰∫ÜÊêúÁ¥¢¬∑¬∑¬∑¬∑‚ÄùÔºåÂéªÊéâtypeÂ∞±ÊòØ‰∏∫‰∫ÜÊèêÈ´òESÂ§ÑÁêÜÊï∞ÊçÆÁöÑÊïàÁéáÔºõ</strong></font></p>
<p><font color="#f00"><strong>Èô§Ê≠§‰πãÂ§ñÔºåÂú®Âêå‰∏Ä‰∏™Á¥¢ÂºïÁöÑ‰∏çÂêå type ‰∏ãÂ≠òÂÇ®Â≠óÊÆµÊï∞‰∏ç‰∏ÄÊ†∑ÁöÑÂÆû‰Ωì‰ºöÂØºËá¥Â≠òÂÇ®‰∏≠Âá∫Áé∞Á®ÄÁñèÊï∞ÊçÆÔºåÂΩ±ÂìçLuceneÂéãÁº©ÊñáÊ°£ÁöÑËÉΩÂäõÔºåÂØºËá¥ESÊü•ËØ¢ÊïàÁéáÁöÑÈôç‰ΩéÔºõ</strong></font></p>
<br>

<h3 id="ÊñáÊ°£ÔºàdocumentÔºâ"><a href="#ÊñáÊ°£ÔºàdocumentÔºâ" class="headerlink" title="ÊñáÊ°£ÔºàdocumentÔºâ"></a><strong>ÊñáÊ°£ÔºàdocumentÔºâ</strong></h3><p><strong>Â≠òÂÇ®Âú®ES‰∏≠ÁöÑ‰∏ªË¶ÅÂÆû‰ΩìË¢´Áß∞‰∏∫ÔºöÊñáÊ°£ÔºåÂèØ‰ª•ÁêÜËß£‰∏∫ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠Ë°®ÁöÑ‰∏ÄË°åÊï∞ÊçÆËÆ∞ÂΩïÔºåÊØè‰∏™ÊñáÊ°£Áî±Â§ö‰∏™Â≠óÊÆµÔºàfieldÔºâÁªÑÊàêÔºõ</strong></p>
<p><font color="#f00"><strong>Âå∫Âà´‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÊòØÔºåESÊòØ‰∏Ä‰∏™ÈùûÁªìÊûÑÂåñÁöÑÊï∞ÊçÆÂ∫ìÔºåÊØè‰∏™ÊñáÊ°£ÂèØ‰ª•Êúâ‰∏çÂêåÁöÑÂ≠óÊÆµÔºåÂπ∂‰∏îÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÊ†áËØÜÔºõ</strong></font></p>
<br>

<h3 id="Êò†Â∞ÑÔºàmappingÔºâ"><a href="#Êò†Â∞ÑÔºàmappingÔºâ" class="headerlink" title="Êò†Â∞ÑÔºàmappingÔºâ"></a><strong>Êò†Â∞ÑÔºàmappingÔºâ</strong></h3><p><strong>mappingÊòØÂØπÁ¥¢ÂºïÂ∫ì‰∏≠ÁöÑÁ¥¢ÂºïÂ≠óÊÆµÂèäÂÖ∂Êï∞ÊçÆÁ±ªÂûãËøõË°åÂÆö‰πâÔºåÁ±ª‰ºº‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®ÁªìÊûÑÔºõ</strong></p>
<p><font color="#f00"><strong>ESÈªòËÆ§Âä®ÊÄÅÂàõÂª∫Á¥¢ÂºïÂíåÁ¥¢ÂºïÁ±ªÂûãÁöÑmappingÔºåËøôÊúâÁÇπÁ±ª‰ºº‰∫é MongoDBÔºåÊó†ÈúÄÂÆö‰πâË°®ÁªìÊûÑÔºåÊõ¥‰∏çÁî®ÊåáÂÆöÂ≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåË°®ÁöÑÁªìÊûÑÊòØÂä®ÊÄÅÁöÑÈùûÂ∏∏ÁÅµÊ¥ªÔºàÂΩìÁÑ∂‰πüÂèØ‰ª•ÊâãÂä®ÊåáÂÆömappingÁ±ªÂûãÔºâÔºõ</strong></font></p>
<br>

<h3 id="ÂàÜÁâáÔºàshardÔºâ"><a href="#ÂàÜÁâáÔºàshardÔºâ" class="headerlink" title="ÂàÜÁâáÔºàshardÔºâ"></a><strong>ÂàÜÁâáÔºàshardÔºâ</strong></h3><p>Â¶ÇÊûúÊàë‰ª¨ÁöÑÁ¥¢ÂºïÊï∞ÊçÆÈáèÂæàÂ§ßÔºåË∂ÖËøáÁ°¨‰ª∂Â≠òÊîæÂçï‰∏™Êñá‰ª∂ÁöÑÈôêÂà∂ÔºåÂ∞±‰ºöÂΩ±ÂìçÊü•ËØ¢ËØ∑Ê±ÇÁöÑÈÄüÂ∫¶Ôºõ</p>
<p>ES ÂºïÂÖ•‰∫ÜÂàÜÁâáÊäÄÊúØÔºö‰∏Ä‰∏™ÂàÜÁâáÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÊúÄÂ∞èÁöÑÂ∑•‰ΩúÂçïÂÖÉÔºåÊâøËΩΩ<strong>ÈÉ®ÂàÜÊï∞ÊçÆ</strong>ÔºåÊñáÊ°£Â≠òÂÇ®Âú®ÂàÜÁâá‰∏≠ÔºåËÄåÂàÜÁâá‰ºöË¢´ÂàÜÈÖçÂà∞ÈõÜÁæ§‰∏≠ÁöÑÂêÑ‰∏™ËäÇÁÇπ‰∏≠ÔºåÈöèÁùÄÈõÜÁæ§ÁöÑÊâ©Â§ßÂíåÁº©Â∞èÔºåES‰ºöËá™Âä®ÁöÑÂ∞ÜÂàÜÁâáÂú®ËäÇÁÇπ‰πãÈó¥ËøõË°åËøÅÁßªÔºå‰ª•‰øùËØÅÈõÜÁæ§ËÉΩ‰øùÊåÅ‰∏ÄÁßçÂπ≥Ë°°Ôºõ</p>
<p>ÂàÜÁâáÊúâ‰ª•‰∏ãÁâπÁÇπÔºö</p>
<ul>
<li>‰∏Ä‰∏™Á¥¢ÂºïÂèØ‰ª•ÂåÖÂê´Â§ö‰∏™ÂàÜÁâáÔºàshardÔºâÔºõ</li>
<li>ÊØè‰∏Ä‰∏™ÂàÜÁâáÔºàshardÔºâÈÉΩÊòØ‰∏Ä‰∏™ÊúÄÂ∞èÁöÑÂ∑•‰ΩúÂçïÂÖÉÔºåÊâøËΩΩ<strong>ÈÉ®ÂàÜÊï∞ÊçÆ</strong>Ôºõ</li>
<li><strong>ÊØè‰∏™shardÈÉΩÊòØ‰∏Ä‰∏™luceneÂÆû‰æãÔºåÊúâÂÆåÊï¥ÁöÑÁÆÄÂéÜÁ¥¢ÂºïÂíåÂ§ÑÁêÜËØ∑Ê±ÇÁöÑËÉΩÂäõÔºõ</strong></li>
<li><strong>Â¢ûÂáèËäÇÁÇπÊó∂Ôºåshard‰ºöËá™Âä®Âú®nodes‰∏≠Ë¥üËΩΩÂùáË°°Ôºõ</strong></li>
<li><strong>‰∏Ä‰∏™ÊñáÊ°£Âè™ËÉΩÂÆåÊï¥ÁöÑÂ≠òÊîæÂú®‰∏Ä‰∏™shard‰∏äÔºõ</strong></li>
<li><font color="#f00"><strong>‰∏Ä‰∏™Á¥¢Âºï‰∏≠Âê´ÊúâshardÁöÑÊï∞ÈáèÔºåÈªòËÆ§ÂÄº‰∏∫5ÔºåÂú®Á¥¢ÂºïÂàõÂª∫ÂêéËøô‰∏™ÂÄºÊòØ‰∏çËÉΩË¢´Êõ¥ÊîπÁöÑÔºõ</strong></font></li>
</ul>
<p>‰ºòÁÇπÔºö</p>
<ul>
<li><strong>Ê∞¥Âπ≥ÂàÜÂâ≤ÂíåÊâ©Â±ïÊàë‰ª¨Â≠òÊîæÁöÑÂÜÖÂÆπÁ¥¢ÂºïÔºõ</strong></li>
<li><strong>ÂàÜÂèëÂíåÂπ∂Ë°åË∑®Á¢éÁâáÊìç‰ΩúÊèêÈ´òÊÄßËÉΩ/ÂêûÂêêÈáèÔºõ</strong></li>
</ul>
<p>ÊØè‰∏Ä‰∏™shardÂÖ≥ËÅîÁöÑÂâØÊú¨ÂàÜÁâáÔºàreplica shardÔºâÁöÑÊï∞ÈáèÔºåÈªòËÆ§ÂÄº‰∏∫1ÔºåËøô‰∏™ËÆæÁΩÆÂú®‰ªª‰ΩïÊó∂ÂÄôÈÉΩÂèØ‰ª•‰øÆÊîπÔºõ</p>
<br>

<h3 id="ÂâØÊú¨ÔºàreplicaÔºâ"><a href="#ÂâØÊú¨ÔºàreplicaÔºâ" class="headerlink" title="ÂâØÊú¨ÔºàreplicaÔºâ"></a><strong>ÂâØÊú¨ÔºàreplicaÔºâ</strong></h3><p>ÂâØÊú¨Ôºàreplica shardÔºâÂ∞±ÊòØshardÁöÑÂÜó‰ΩôÂ§á‰ªΩÔºåÂÆÉÁöÑ‰∏ªË¶Å‰ΩúÁî®Ôºö</p>
<ul>
<li>ÂÜó‰ΩôÂ§á‰ªΩÔºåÈò≤Ê≠¢Êï∞ÊçÆ‰∏¢Â§±Ôºõ</li>
<li>shardÂºÇÂ∏∏Êó∂Ë¥üË¥£ÂÆπÈîôÂíåË¥üËΩΩÂùáË°°Ôºõ</li>
</ul>
<br>

<h3 id="‰∏Ä‰∫õÂÖ∂‰ªñÈóÆÈ¢ò"><a href="#‰∏Ä‰∫õÂÖ∂‰ªñÈóÆÈ¢ò" class="headerlink" title="‰∏Ä‰∫õÂÖ∂‰ªñÈóÆÈ¢ò"></a><strong>‰∏Ä‰∫õÂÖ∂‰ªñÈóÆÈ¢ò</strong></h3><h4 id="analyzerÂíåsearch-analyzerÁöÑÂå∫Âà´"><a href="#analyzerÂíåsearch-analyzerÁöÑÂå∫Âà´" class="headerlink" title="analyzerÂíåsearch_analyzerÁöÑÂå∫Âà´"></a><strong>analyzerÂíåsearch_analyzerÁöÑÂå∫Âà´</strong></h4><p><strong>ÂàÜÊûêÂô®‰∏ªË¶ÅÊúâ‰∏§ÁßçÊÉÖÂÜµ‰ºöË¢´‰ΩøÁî®Ôºö</strong></p>
<ul>
<li><font color="#f00"><strong>Á¨¨‰∏ÄÁßçÊòØÊèíÂÖ•ÊñáÊ°£Êó∂ÔºåÂ∞ÜtextÁ±ªÂûãÁöÑÂ≠óÊÆµÂÅöÂàÜËØçÁÑ∂ÂêéÊèíÂÖ•ÂÄíÊéíÁ¥¢ÂºïÔºõ</strong></font></li>
<li><font color="#f00"><strong>Á¨¨‰∫åÁßçÂ∞±ÊòØÂú®Êü•ËØ¢Êó∂ÔºåÂÖàÂØπË¶ÅÊü•ËØ¢ÁöÑtextÁ±ªÂûãÁöÑËæìÂÖ•ÂÅöÂàÜËØçÔºåÂÜçÂéªÂÄíÊéíÁ¥¢ÂºïÊêúÁ¥¢Ôºõ</strong></font></li>
</ul>
<p><font color="#f00"><strong>Â¶ÇÊûúÊÉ≥Ë¶ÅËÆ© Á¥¢Âºï Âíå Êü•ËØ¢ Êó∂‰ΩøÁî®‰∏çÂêåÁöÑÂàÜËØçÂô®ÔºåElasticSearch‰πüÊòØËÉΩÊîØÊåÅÁöÑÔºåÂè™ÈúÄË¶ÅÂú®Â≠óÊÆµ‰∏äÂä† search_analyzerÂèÇÊï∞Ôºõ</strong></font></p>
<p><font color="#f00"><strong>Âú®Á¥¢ÂºïÊó∂ÔºåÂè™‰ºöÂéªÁúãÂ≠óÊÆµÊúâÊ≤°ÊúâÂÆö‰πâanalyzerÔºåÊúâÂÆö‰πâÁöÑËØùÂ∞±Áî®ÂÆö‰πâÁöÑÔºåÊ≤°ÂÆö‰πâÂ∞±Áî®ESÈ¢ÑËÆæÁöÑÔºõ</strong></font></p>
<p><font color="#f00"><strong>Âú®Êü•ËØ¢Êó∂Ôºå‰ºöÂÖàÂéªÁúãÂ≠óÊÆµÊúâÊ≤°ÊúâÂÆö‰πâsearch_analyzerÔºåÂ¶ÇÊûúÊ≤°ÊúâÂÆö‰πâÔºåÂ∞±ÂéªÁúãÊúâÊ≤°ÊúâanalyzerÔºåÂÜçÊ≤°ÊúâÂÆö‰πâÔºåÊâç‰ºöÂéª‰ΩøÁî®ESÈ¢ÑËÆæÁöÑÔºõ</strong></font></p>
<br>

<h4 id="es-number-of-shardsÂíånumber-of-replicasÁöÑÂå∫Âà´"><a href="#es-number-of-shardsÂíånumber-of-replicasÁöÑÂå∫Âà´" class="headerlink" title="es number_of_shardsÂíånumber_of_replicasÁöÑÂå∫Âà´"></a><strong>es number_of_shardsÂíånumber_of_replicasÁöÑÂå∫Âà´</strong></h4><p><code>number_of_replicas</code> ÊòØ<strong>Êï∞ÊçÆÂ§á‰ªΩÊï∞</strong>ÔºåÂ¶ÇÊûúÂè™Êúâ‰∏ÄÂè∞Êú∫Âô®ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏∫ 0Ôºõ</p>
<p><code>number_of_shards</code> ÊòØ<strong>Êï∞ÊçÆÂàÜÁâáÊï∞</strong>ÔºåÈªòËÆ§‰∏∫ 5Ôºõ</p>
<br>

<h2 id="ESÁöÑÂü∫Êú¨Êìç‰Ωú"><a href="#ESÁöÑÂü∫Êú¨Êìç‰Ωú" class="headerlink" title="ESÁöÑÂü∫Êú¨Êìç‰Ωú"></a><strong>ESÁöÑÂü∫Êú¨Êìç‰Ωú</strong></h2><p>Âú® ES ‰∏≠ÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩÊòØÂèØ‰ª•‰ΩøÁî® Restful È£éÊ†ºÁöÑËØ∑Ê±ÇÊù•Êìç‰ΩúÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">curl -u username:passwd -XPUT -H &quot;Content-Type: application/json&quot; &quot;http://127.0.0.1:9200/abc&quot; -d &quot;{}&quot;</code></pre>
<p>ÂêåÊó∂ÔºåÂú® Kibana ‰∏≠‰πüÊèê‰æõ‰∫ÜÁõ∏ÂÖ≥Â∑•ÂÖ∑ÔºöDevToolsÔºõ</p>
<p>Âú® Kibana ‰∏≠ÂèØ‰ª•Áõ¥Êé•ÁÆÄÂåñ‰∏äÈù¢ÁöÑÊìç‰ΩúÔºö</p>
<pre><code>PUT /abc {}</code></pre><p>‰∏ãÈù¢ÁöÑÊìç‰ΩúÈÉΩ‰ºöÂú® Kibana ‰∏≠Êìç‰ΩúÔºåÁõ∏‰ø°‰Ω†‰πüËÉΩËΩªÊùæÁöÑËΩ¨‰∏∫ curl ÂëΩ‰ª§ÁöÑÈ£éÊ†ºÔºõ</p>
<br>

<h3 id="Á¥¢ÂºïÔºàË°®ÔºâÊìç‰Ωú"><a href="#Á¥¢ÂºïÔºàË°®ÔºâÊìç‰Ωú" class="headerlink" title="Á¥¢ÂºïÔºàË°®ÔºâÊìç‰Ωú"></a><strong>Á¥¢ÂºïÔºàË°®ÔºâÊìç‰Ωú</strong></h3><h4 id="Âª∫Á¥¢ÂºïÔºàË°®Ôºâ"><a href="#Âª∫Á¥¢ÂºïÔºàË°®Ôºâ" class="headerlink" title="Âª∫Á¥¢ÂºïÔºàË°®Ôºâ"></a><strong>Âª∫Á¥¢ÂºïÔºàË°®Ôºâ</strong></h4><p>ES ÁöÑË°®ÁªìÊûÑÊòØÈùûÂ∏∏ÁÅµÊ¥ªÁöÑÔºåÊúÄÁÆÄÂçïÁöÑÂª∫Ë°®ËØ≠Âè•ÂèØ‰ª•ÊòØ‰∏ãÈù¢ËøôÊ†∑ÁöÑÔºö</p>
<pre><code>PUT /abc</code></pre><p>Ë∞ÉÁî®‰πãÂêéËøîÂõûÔºö</p>
<pre><code class="json">{
  &quot;acknowledged&quot; : true,
  &quot;shards_acknowledged&quot; : true,
  &quot;index&quot; : &quot;abc&quot;
}</code></pre>
<p>Âç≥Ë°®Á§∫Âª∫Ë°®ÂÆåÊàêÔºÅ</p>
<p>ÂΩìÁÑ∂ÔºåÂª∫Ë°®ËØ≠Âè•‰πüÂèØ‰ª•ÈùûÂ∏∏Â§çÊùÇÔºõ</p>
<p>‰æãÂ¶ÇÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™‰øùÂ≠òÊñáÁ´†ÁöÑÁ¥¢ÂºïÔºö</p>
<pre><code class="json">PUT /passage
{
  &quot;settings&quot;: {
    &quot;index&quot;: {
      &quot;analysis&quot;: {
        &quot;analyzer&quot;: {
          &quot;title_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;false&quot;,
            &quot;tokenizer&quot;: &quot;ik_max_word&quot;,
            &quot;filter&quot;: [
              &quot;jt_tfr&quot;,
              &quot;lowercase&quot;
            ]
          },
          &quot;content_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;true&quot;,
            &quot;tokenizer&quot;: &quot;ik_smart&quot;,
            &quot;filter&quot;: [
              &quot;jt_tfr&quot;,
              &quot;lowercase&quot;
            ]
          }
        },
        &quot;filter&quot;: {
          &quot;jt_tfr&quot;: {
            &quot;type&quot;: &quot;stop&quot;,
            &quot;stopwords&quot;: [
              &quot; &quot;,
              &quot;ÔºÅ&quot;,
              &quot;Ôºå&quot;,
              &quot;Ôºö&quot;,
              &quot;Ôºõ&quot;
            ]
          }
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;title&quot;: {
        &quot;analyzer&quot;: &quot;title_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      },
      &quot;content&quot;: {
        &quot;analyzer&quot;: &quot;content_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      }
    }
  }
}</code></pre>
<p>Á¥¢ÂºïÂåÖÊã¨‰∫ÜÔºö</p>
<ul>
<li>‰∏â‰∏™Êò†Â∞ÑÔºötitle„ÄÅcontentÔºõ</li>
<li>‰∏§‰∏™ÂàÜÊûêÂô®Ôºötitle_analyzer„ÄÅcontent_analyzerÔºõ</li>
<li>‰∏Ä‰∏™ËøáÊª§Âô®Ôºöjt_tfrÔºõ</li>
</ul>
<br>

<h4 id="Âà†Á¥¢Âºï"><a href="#Âà†Á¥¢Âºï" class="headerlink" title="Âà†Á¥¢Âºï"></a><strong>Âà†Á¥¢Âºï</strong></h4><p>Âà†Èô§Á¥¢Âºï‰πüÊòØÈùûÂ∏∏ÁÆÄÂçïÔºåÁî±‰∫é Restful È£éÊ†ºËâØÂ•ΩÁöÑË°®ËææÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂ∞Ü <code>PUT</code> Êîπ‰∏∫ <code>DELETE</code> Âç≥ÂèØÔºÅ</p>
<pre><code>DELETE /abc</code></pre><p>ËøîÂõûÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  &quot;acknowledged&quot; : true
}</code></pre>
<br>

<h4 id="‰øÆÊîπÁ¥¢Âºï"><a href="#‰øÆÊîπÁ¥¢Âºï" class="headerlink" title="‰øÆÊîπÁ¥¢Âºï"></a><strong>‰øÆÊîπÁ¥¢Âºï</strong></h4><p>‰øÆÊîπÁ¥¢ÂºïÂú®‰πãÂâçÁöÑÊñáÁ´†‰∏≠ÂÜôËøá‰∫ÜÔºö</p>
<ul>
<li><a href="/2022/06/22/ES‰øÆÊîπÁ¥¢ÂºïÁªìÊûÑ/">ES‰øÆÊîπÁ¥¢ÂºïÁªìÊûÑ</a></li>
</ul>
<p>ÂÖ∑‰ΩìÊ≠•È™§Â¶Ç‰∏ãÔºö</p>
<ul>
<li>Êñ∞Âª∫Á¥¢ÂºïÔºõ</li>
<li>Â§çÂà∂Êï∞ÊçÆÔºàreindexÔºâÔºõ</li>
<li>Á°ÆËÆ§Êï∞ÊçÆÔºõ</li>
<li>Âà†Èô§ÊóßÂà´ÂêçÔºõ</li>
<li>Âà†Èô§ÊóßÁ¥¢ÂºïÔºõ</li>
<li>ÂàõÂª∫Âà´ÂêçÔºàaliasesÔºâÔºõ</li>
</ul>
<br>

<h3 id="ÊñáÊ°£Êìç‰Ωú"><a href="#ÊñáÊ°£Êìç‰Ωú" class="headerlink" title="ÊñáÊ°£Êìç‰Ωú"></a><strong>ÊñáÊ°£Êìç‰Ωú</strong></h3><p>ÊñáÊ°£Êìç‰Ωú‰∏ªË¶ÅÂåÖÊã¨‰∫Ü  Index„ÄÅCreate„ÄÅRead„ÄÅUpdate„ÄÅDelete Ëøô‰∫îÁßçÊìç‰ΩúÔºõ</p>
<p>ÊÄªÁªìÂ¶Ç‰∏ãË°®ÊâÄÁ§∫Ôºö</p>
<table>
<thead>
<tr>
<th>Êìç‰Ωú</th>
<th>ÂÆû‰æã</th>
</tr>
</thead>
<tbody><tr>
<td>Index</td>
<td><code>PUT my_index/_doc/1 {}</code></td>
</tr>
<tr>
<td>Create</td>
<td><code>PUT my_index/_create/1 {}</code><br><code>POST my_index/_doc {}</code> ‰∏çÊåáÂÆöIdÔºåËá™Âä®ÁîüÊàêÔºõ</td>
</tr>
<tr>
<td>Read</td>
<td><code>GET my_index/_doc/1</code></td>
</tr>
<tr>
<td>Update</td>
<td><code>POST my_index/_update/1 {&quot;doc&quot;: {...}}</code></td>
</tr>
<tr>
<td>Delete</td>
<td><code>DELETE my_index/_doc/1</code></td>
</tr>
</tbody></table>
<p>ËØ∑Ê±ÇÈ¶ñÂÖàÈÉΩÊòØÊèê‰æõ‰∏Ä‰∏™ HTTP ÁöÑ methodÔºåÂêéÈù¢ÊòØÁ¥¢ÂºïÂêçÂ≠óÔºåÂú® 7.0 ‰πãÂêéÊâÄ‰ª•ÁöÑ Type ÈÉΩÁî® <code>_doc</code> Ë°®Á§∫ÔºåÂêéÈù¢ÊòØÊñáÊ°£ idÔºõ</p>
<p>‰∏ãÈù¢ÂàÜÂà´Êù•ÁúãÔºõ</p>
<h4 id="Êñ∞Â¢ûÊñáÊ°£"><a href="#Êñ∞Â¢ûÊñáÊ°£" class="headerlink" title="Êñ∞Â¢ûÊñáÊ°£"></a><strong>Êñ∞Â¢ûÊñáÊ°£</strong></h4><p>Create ÊîØÊåÅ‰∏§ÁßçÊñπÂºèÔºö</p>
<ul>
<li><strong>ÊåáÂÆöÊñáÊ°£IdÂàõÂª∫ÊñáÊ°£Ôºõ</strong></li>
<li><strong>Ëá™Âä®ÁîüÊàêÊñáÊ°£IdÔºõ</strong></li>
</ul>
<blockquote>
<p>  <strong>Ëá™Â∑±ÊåáÂÆöÊñáÊ°£ idÂàõÂª∫ÊñáÊ°£ÔºåÈúÄË¶ÅËÄÉËôë id ÁöÑÂùáË°°ÊÄßÔºåÈÅøÂÖç‰∫ßÁîüÂàÜÈÖç‰∏çÂùáË°°ÁöÑÈóÆÈ¢òÔºõ</strong></p>
<p>  <strong>ES ÁöÑ hash ÂáΩÊï∞‰ºöÁ°Æ‰øùÊñáÊ°£ id Ë¢´ÂùáÂåÄÂàÜÈÖçÂà∞‰∏çÂêåÁöÑÂàÜÁâáÔºõ</strong></p>
</blockquote>
<p>‰∏ãÈù¢ÊåáÂÆöIdÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™ÊñáÊ°£Ôºö</p>
<pre><code class="json">PUT /passage/_doc/1
{
  &quot;title&quot;: &quot;ÊµãËØï&quot;,
  &quot;content&quot;: &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;
}</code></pre>
<p>ËøîÂõûÂìçÂ∫îÔºö</p>
<pre><code class="json">{
  &quot;_index&quot; : &quot;passage&quot;,
  &quot;_type&quot; : &quot;_doc&quot;,
  &quot;_id&quot; : &quot;1&quot;,
  &quot;_version&quot; : 1,
  &quot;result&quot; : &quot;created&quot;,
  &quot;_shards&quot; : {
    &quot;total&quot; : 2,
    &quot;successful&quot; : 1,
    &quot;failed&quot; : 0
  },
  &quot;_seq_no&quot; : 0,
  &quot;_primary_term&quot; : 1
}</code></pre>
<p>ÂÖ∂‰∏≠ <code>_version</code> ÊØè‰∏ÄÊ¨°Êìç‰ΩúÔºåÈÉΩ‰ºö + 1ÔºåÂÆÉÊòØ‰∏Ä‰∏™ÈîÅÁöÑÊú∫Âà∂ÔºåÂΩìÂπ∂Ë°å‰øÆÊîπÊñáÊ°£ÁöÑÊó∂ÂÄôÔºåÊõ¥Êñ∞ÁöÑÁâàÊú¨Âè∑ÊØîÊñáÊ°£ÂΩìÂâçÁöÑÁâàÊú¨Âè∑Â∞èÊó∂Â∞±‰ºöÊä•ÈîôÔºå‰∏çÂÖÅËÆ∏ÂÅö‰øÆÊîπÔºõ</p>
<p>‰πüÂèØ‰ª•Áî®‰∏ãÈù¢ÁöÑÊñπÂºèÂàõÂª∫ÊñáÊ°£Ôºö</p>
<pre><code class="json">PUT /passage/_create/2
{
  &quot;title&quot;: &quot;ÊµãËØï2&quot;,
  &quot;content&quot;: &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2&quot;,
  &quot;comment&quot;: &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2&quot;
}</code></pre>
<p>ÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑÔºõ</p>
<p><font color="#f00"><strong>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºöËøôÈáåÁöÑ <code>comment</code> Â≠óÊÆµÂú®Êàë‰ª¨ÂàõÂª∫Á¥¢ÂºïÁöÑÊó∂ÂÄôÊòØ‰∏çÂ≠òÂú®ÁöÑÔºÅ</strong></font></p>
<p><font color="#f00"><strong>Âú®ESÂàõÂª∫ÊñáÊ°£Êó∂ÔºåÂ¶ÇÊûúÁ¥¢Âºï‰∏≠‰∏çÂ≠òÂú®ÔºåES ‰ºöËá™Âä®ÂàõÂª∫ÂØπÂ∫îÁöÑ index Âíå typeÔºÅ</strong></font></p>
<p>‰πüÂèØ‰ª•Áî®‰∏çÊåáÂÆö id ÂàõÂª∫ÊñáÊ°£ÁöÑÊñπÂºèÔºö</p>
<pre><code class="json">POST /passage/_doc 
{
  &quot;title&quot;: &quot;Ëá™Âä®ÂàõÂª∫IdÁöÑÊµãËØï&quot;,
  &quot;content&quot;: &quot;ËøôÊòØ‰∏Ä‰∏™Ëá™Âä®ÂàõÂª∫IdÁöÑÊµãËØïÂÜÖÂÆπ&quot;
}</code></pre>
<p>ÂìçÂ∫îÔºö</p>
<pre><code class="json">{
  &quot;_index&quot; : &quot;passage&quot;,
  &quot;_type&quot; : &quot;_doc&quot;,
  &quot;_id&quot; : &quot;4cyVqYEBPqU3ER3DXk4l&quot;,
  &quot;_version&quot; : 1,
  &quot;result&quot; : &quot;created&quot;,
  &quot;_shards&quot; : {
    &quot;total&quot; : 2,
    &quot;successful&quot; : 1,
    &quot;failed&quot; : 0
  },
  &quot;_seq_no&quot; : 4,
  &quot;_primary_term&quot; : 1
}</code></pre>
<p>IndexÊìç‰ΩúÁõ∏ÊØî CreateÔºåÂå∫Âà´Âú®‰∫éÔºö</p>
<p><font color="#f00"><strong>Â¶ÇÊûúÊñáÊ°£‰∏çÂ≠òÂú®ÔºåÂ∞±Á¥¢ÂºïÊñ∞ÁöÑÊñáÊ°£ÔºåÂê¶ÂàôÁé∞ÊúâÊñáÊ°£Â∞±‰ºöË¢´Âà†Èô§ÔºåÊñ∞ÁöÑÊñáÊ°£Ë¢´Á¥¢ÂºïÔºåÁâàÊú¨‰ø°ÊÅØ <code>_version</code> + 1Ôºõ</strong></font></p>
<br>

<h4 id="Êü•ËØ¢ÊñáÊ°£"><a href="#Êü•ËØ¢ÊñáÊ°£" class="headerlink" title="Êü•ËØ¢ÊñáÊ°£"></a><strong>Êü•ËØ¢ÊñáÊ°£</strong></h4><p>Get ÊñπÊ≥ïÊØîËæÉÁÆÄÂçïÔºöÂè™ÈúÄË¶Å <code>Get Á¥¢ÂºïÂêçÁß∞/_doc/ÊñáÊ°£ id</code>ÔºåÂ∞±ÂèØ‰ª•Áü•ÈÅìÊñáÊ°£ÁöÑÂÖ∑‰Ωì‰ø°ÊÅØ‰∫ÜÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code>GET /passage/_doc/2</code></pre><p>ËøîÂõûÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  &quot;_index&quot; : &quot;passage&quot;,
  &quot;_type&quot; : &quot;_doc&quot;,
  &quot;_id&quot; : &quot;2&quot;,
  &quot;_version&quot; : 3,
  &quot;_seq_no&quot; : 3,
  &quot;_primary_term&quot; : 1,
  &quot;found&quot; : true,
  &quot;_source&quot; : {
    &quot;title&quot; : &quot;ÊµãËØï2&quot;,
    &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2&quot;,
    &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2&quot;
  }
}</code></pre>
<p>ÂÖ∂‰∏≠ <code>_index</code> ‰∏∫Á¥¢ÂºïÔºå<code>_type</code> ‰∏∫Á±ªÂûãÔºå<code>_id</code> ‰∏∫ÊñáÊ°£ idÔºå<code>_version</code> ‰∏∫ÁâàÊú¨‰ø°ÊÅØÔºå<code>_source</code> Â≠òÂÇ®‰∫ÜÊñáÊ°£ÁöÑÂÆåÊï¥ÂéüÂßãÊï∞ÊçÆÔºõ</p>
<p>ÂΩìÊü•ËØ¢ÁöÑÊñáÊ°£ id ‰∏çÂ≠òÂú®Êó∂Ôºå‰ºöËøîÂõû HTTP 404Ôºå‰∏î <code>found</code> ‰∏∫ <code>false</code>ÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö</p>
<pre><code>GET /passage/_doc/3</code></pre><p>ËøîÂõûÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  &quot;_index&quot; : &quot;passage&quot;,
  &quot;_type&quot; : &quot;_doc&quot;,
  &quot;_id&quot; : &quot;3&quot;,
  &quot;found&quot; : false
}</code></pre>
<br>

<h4 id="Êõ¥Êñ∞ÊñáÊ°£"><a href="#Êõ¥Êñ∞ÊñáÊ°£" class="headerlink" title="Êõ¥Êñ∞ÊñáÊ°£"></a><strong>Êõ¥Êñ∞ÊñáÊ°£</strong></h4><p>Update ÊñπÊ≥ïÈááÁî® HTTP POSTÔºåÂú®ËØ∑Ê±Ç‰Ωì‰∏≠ÂøÖÈ°ªÊåáÊòé docÔºåÂú®ÊääÂÖ∑‰ΩìÊñáÊ°£Êèê‰æõÂú® HTTP ÁöÑ body ÈáåÔºõ</p>
<p>Âπ∂‰∏îÔºå<font color="#f00"><strong>Update Âíå Index ÊñπÊ≥ï‰∏çÂêåÔºåUpdate ÊñπÊ≥ï‰∏ç‰ºöÂà†Èô§ÂéüÊù•ÁöÑÊñáÊ°£ÔºåËÄåÊòØÂÆûÁé∞ÁúüÊ≠£ÁöÑÊï∞ÊçÆÊõ¥Êñ∞ÔºÅ</strong></font></p>
<p>ÊØîÂ¶ÇÂú®ÂéüÊù•ÁöÑÊñáÊ°£ Id ‰∏∫ 1 ÁöÑÊñáÊ°£‰∏äÂ¢ûÂä†Â≠óÊÆµÔºåÂÖ∑‰ΩìËØ∑Ê±ÇÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">POST /passage/_update/1
{
  &quot;doc&quot;: {
    &quot;title&quot;: &quot;ÊµãËØï&quot;,
    &quot;content&quot;: &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;,
    &quot;comment&quot;: &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫&quot;
  }
}</code></pre>
<p>ÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  &quot;_index&quot; : &quot;passage&quot;,
  &quot;_type&quot; : &quot;_doc&quot;,
  &quot;_id&quot; : &quot;1&quot;,
  &quot;_version&quot; : 2,
  &quot;result&quot; : &quot;updated&quot;,
  &quot;_shards&quot; : {
    &quot;total&quot; : 2,
    &quot;successful&quot; : 1,
    &quot;failed&quot; : 0
  },
  &quot;_seq_no&quot; : 5,
  &quot;_primary_term&quot; : 1
}
</code></pre>
<p>ÊâßË°åÂêéÔºåÁâàÊú¨‰ø°ÊÅØ <code>_version</code> + 1Ôºõ</p>
<p>ÂÜçÂéªÊü•ËØ¢‰∏ãËØ•ÊñáÊ°£Ôºö</p>
<pre><code class="json">{
  &quot;_index&quot; : &quot;passage&quot;,
  &quot;_type&quot; : &quot;_doc&quot;,
  &quot;_id&quot; : &quot;1&quot;,
  &quot;_version&quot; : 2,
  &quot;_seq_no&quot; : 5,
  &quot;_primary_term&quot; : 1,
  &quot;found&quot; : true,
  &quot;_source&quot; : {
    &quot;title&quot; : &quot;ÊµãËØï&quot;,
    &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;,
    &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫&quot;
  }
}</code></pre>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÊñ∞Â¢ûÂ≠óÊÆµÂ∑≤ÁªèÊàêÂäü‰∫ÜÔºõ</p>
<br>

<h4 id="Âà†Èô§ÊñáÊ°£"><a href="#Âà†Èô§ÊñáÊ°£" class="headerlink" title="Âà†Èô§ÊñáÊ°£"></a><strong>Âà†Èô§ÊñáÊ°£</strong></h4><p>DELETE ÊñπÊ≥ï‰πüÂæàÁÆÄÂçïÔºå<code>DELETE Á¥¢ÂºïÂêçÁß∞/_doc/ÊñáÊ°£id</code> Â∞±ÂèØ‰ª•‰∫ÜÔºö</p>
<pre><code class="json">DELETE /passage/_doc/1</code></pre>
<p>ËøîÂõûÂÄºÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  &quot;_index&quot; : &quot;passage&quot;,
  &quot;_type&quot; : &quot;_doc&quot;,
  &quot;_id&quot; : &quot;1&quot;,
  &quot;_version&quot; : 3,
  &quot;result&quot; : &quot;deleted&quot;,
  &quot;_shards&quot; : {
    &quot;total&quot; : 2,
    &quot;successful&quot; : 1,
    &quot;failed&quot; : 0
  },
  &quot;_seq_no&quot; : 6,
  &quot;_primary_term&quot; : 1
}</code></pre>
<br>

<h3 id="Bulk-API"><a href="#Bulk-API" class="headerlink" title="Bulk API"></a><strong>Bulk API</strong></h3><p>Âú®‰∏Ä‰∏™ REST ËØ∑Ê±Ç‰∏≠ÔºåÈáçÊñ∞Âª∫Á´ãÁΩëÁªúËøûÊé•ÊòØÂçÅÂàÜÊçüËÄóÊÄßËÉΩÁöÑÔºåÂõ†Ê≠§ ES Êèê‰æõ Bulk APIÔºåÊîØÊåÅÂú®‰∏ÄÊ¨° API Ë∞ÉÁî®‰∏≠ÔºåÂØπ‰∏çÂêåÁöÑÁ¥¢ÂºïËøõË°åÊìç‰ΩúÔºå‰ªéËÄåÂáèÂ∞ëÁΩëÁªú‰º†ËæìÂºÄÈîÄÔºåÊèêÂçáÂÜôÂÖ•ÈÄüÁéáÔºõ</p>
<p>ES ÊîØÊåÅ <code>Index</code>„ÄÅ<code>Create</code>„ÄÅ<code>Update</code>„ÄÅ<code>Delete</code> ÂõõÁßçÁ±ªÂûãÊìç‰ΩúÔºåÂèØ‰ª•Âú® URI ‰∏≠ÊåáÂÆöÁ¥¢ÂºïÔºå‰πüÂèØ‰ª•Âú®ËØ∑Ê±ÇÁöÑÊñπÊ≥ï‰Ωì‰∏≠ËøõË°åÔºõ</p>
<p>ÂêåÊó∂Â§öÊù°Êìç‰Ωú‰∏≠Ôºö<font color="#f00"><strong>Â¶ÇÊûúÂÖ∂‰∏≠Êúâ‰∏ÄÊù°Â§±Ë¥•Ôºå‰πü‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñÁöÑÊìç‰ΩúÔºåÂπ∂‰∏îËøîÂõûÁöÑÁªìÊûúÂåÖÊã¨ÊØè‰∏ÄÊù°Êìç‰ΩúÊâßË°åÁöÑÁªìÊûúÔºõ</strong></font></p>
<p>ÊØîÂ¶Ç‰∏ãÈù¢ÁöÑËØ∑Ê±ÇÔºö</p>
<pre><code class="json">POST /_bulk
{&quot;index&quot;:{&quot;_index&quot;:&quot;passage&quot;,&quot;_id&quot;:&quot;2&quot;}}
{&quot;comment&quot;:&quot;bulk api&quot;}
{&quot;delete&quot;:{&quot;_index&quot;:&quot;passage&quot;,&quot;_id&quot;:&quot;1&quot;}}
{&quot;update&quot;:{&quot;_index&quot;:&quot;passage&quot;,&quot;_id&quot;:&quot;2&quot;}}
{&quot;doc&quot;:{&quot;title&quot;:&quot;bulk&quot;}}</code></pre>
<p>ÊâßË°åÂëΩ‰ª§ÂêéÔºåÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  &quot;took&quot; : 4,
  &quot;errors&quot; : false,
  &quot;items&quot; : [
    {
      &quot;index&quot; : {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_version&quot; : 6,
        &quot;result&quot; : &quot;updated&quot;,
        &quot;_shards&quot; : {
          &quot;total&quot; : 2,
          &quot;successful&quot; : 1,
          &quot;failed&quot; : 0
        },
        &quot;_seq_no&quot; : 10,
        &quot;_primary_term&quot; : 1,
        &quot;status&quot; : 200
      }
    },
    {
      &quot;delete&quot; : {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;1&quot;,
        &quot;_version&quot; : 2,
        &quot;result&quot; : &quot;deleted&quot;,
        &quot;_shards&quot; : {
          &quot;total&quot; : 2,
          &quot;successful&quot; : 1,
          &quot;failed&quot; : 0
        },
        &quot;_seq_no&quot; : 11,
        &quot;_primary_term&quot; : 1,
        &quot;status&quot; : 200
      }
    },
    {
      &quot;update&quot; : {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_version&quot; : 7,
        &quot;result&quot; : &quot;updated&quot;,
        &quot;_shards&quot; : {
          &quot;total&quot; : 2,
          &quot;successful&quot; : 1,
          &quot;failed&quot; : 0
        },
        &quot;_seq_no&quot; : 12,
        &quot;_primary_term&quot; : 1,
        &quot;status&quot; : 200
      }
    }
  ]
}</code></pre>
<p><code>took</code> Ë°®Á§∫Ê∂àËÄó‰∫Ü 4 ÊØ´ÁßíÔºå<code>errors</code> ‰∏∫ <code>false</code> ËØ¥ÊòéÊ≤°ÈóÆÈ¢òÔºõ</p>
<p>Â¶ÇÊûúÔºå<code>errors</code> ‰∏∫ <code>true</code> ÂàôË°®Á§∫Âú®Ëøô‰∫õÊìç‰Ωú‰∏≠ÈîôËØØÂèëÁîüÔºõ</p>
<p>Âú®‰ΩøÁî® Bulk API ÁöÑÊó∂ÂÄôÔºå<strong>ÂΩì <code>errors</code> ‰∏∫ <code>true</code> Êó∂ÔºåÈúÄË¶ÅÊääÈîôËØØÁöÑÊìç‰Ωú‰øÆÊîπÊéâÔºåÈò≤Ê≠¢Â≠òÂà∞ ES ÁöÑÊï∞ÊçÆÊúâÁº∫Â§±Ôºõ</strong></p>
<br>

<h3 id="ÊâπÈáèÊü•ËØ¢ÊñáÊ°£"><a href="#ÊâπÈáèÊü•ËØ¢ÊñáÊ°£" class="headerlink" title="ÊâπÈáèÊü•ËØ¢ÊñáÊ°£"></a><strong>ÊâπÈáèÊü•ËØ¢ÊñáÊ°£</strong></h3><p><strong>ÊâπÈáèÊü•ËØ¢ÈúÄË¶ÅÊåáÊòéË¶ÅÊü•ËØ¢ÊñáÊ°£ÁöÑ id</strong>ÔºåÂèØ‰ª•Âú®‰∏Ä‰∏™ <code>_mget</code> Êìç‰ΩúÈáåÊü•ËØ¢‰∏çÂêåÁ¥¢ÂºïÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•ÂáèÂ∞ëÁΩëÁªúËøûÊé•ÊâÄ‰∫ßÁîüÁöÑÂºÄÈîÄÔºåÊèêÈ´òÊÄßËÉΩÔºõ</p>
<p>‰∏ãÈù¢Êàë‰ª¨Êù•ÂÆûÈôÖÊìç‰Ωú‰∏ãÔºåÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Â∞±ÂèØ‰ª•ÂæóÂà∞ÊñáÊ°£ Id ‰∏∫ 1„ÄÅ3 ÁöÑÊï∞ÊçÆÔºö</p>
<pre><code class="json">GET /_mget
{
  &quot;docs&quot;: [
    {
      &quot;_index&quot;: &quot;passage&quot;,
      &quot;_id&quot;: &quot;1&quot;
    },
    {
      &quot;_index&quot;: &quot;passage&quot;,
      &quot;_id&quot;: &quot;3&quot;
    }
  ]
}</code></pre>
<p>ËøîÂõûÁªìÊûúÔºö</p>
<pre><code class="json">{
  &quot;docs&quot; : [
    {
      &quot;_index&quot; : &quot;passage&quot;,
      &quot;_type&quot; : &quot;_doc&quot;,
      &quot;_id&quot; : &quot;1&quot;,
      &quot;_version&quot; : 1,
      &quot;_seq_no&quot; : 13,
      &quot;_primary_term&quot; : 1,
      &quot;found&quot; : true,
      &quot;_source&quot; : {
        &quot;title&quot; : &quot;ÊµãËØï&quot;,
        &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;
      }
    },
    {
      &quot;_index&quot; : &quot;passage&quot;,
      &quot;_type&quot; : &quot;_doc&quot;,
      &quot;_id&quot; : &quot;3&quot;,
      &quot;_version&quot; : 1,
      &quot;_seq_no&quot; : 15,
      &quot;_primary_term&quot; : 1,
      &quot;found&quot; : true,
      &quot;_source&quot; : {
        &quot;title&quot; : &quot;ÊµãËØï3&quot;,
        &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ3&quot;,
        &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫3&quot;
      }
    }
  ]
}</code></pre>
<p>ÊâπÈáèÊìç‰ΩúËôΩÁÑ∂ÂèØ‰ª•ÊèêÈ´ò API Ë∞ÉÁî®ÊÄßËÉΩÔºå‰ΩÜÊòØ‰∏çË¶Å‰∏ÄÊ¨°ÂèëÈÄÅËøáÂ§öÊï∞ÊçÆÔºåÂê¶Âàô‰ºöÂØπ ES ÈõÜÁæ§‰∫ßÁîüËøáÂ§ßÁöÑÂéãÂäõÔºåÂØºËá¥ÊÄßËÉΩÊúâÊâÄ‰∏ãÈôçÔºõ</p>
<p>‰∏ÄËà¨Âª∫ËÆÆ 1000-5000 ‰∏™ÊñáÊ°£ÔºåÂ¶ÇÊûú‰Ω†ÁöÑÊñáÊ°£ÂæàÂ§ßÔºåÂèØ‰ª•ÈÄÇÂΩìÂáèÂ∞ëÈòüÂàóÔºåÂ§ßÂ∞èÂª∫ËÆÆÊòØ 5-15 MBÔºåÈªòËÆ§‰∏çËÉΩË∂ÖËøá 100 MÔºõ</p>
<br>

<h2 id="ÂêÑÁßçÊü•ËØ¢"><a href="#ÂêÑÁßçÊü•ËØ¢" class="headerlink" title="ÂêÑÁßçÊü•ËØ¢"></a><strong>ÂêÑÁßçÊü•ËØ¢</strong></h2><p>Âú®‰∏äÈù¢ÁöÑÊü•ËØ¢‰∏≠Ôºå‰∏ªË¶ÅÈÉΩÊòØÁõ¥Êé•ÈÄöËøá Id ËøõË°åÊü•ËØ¢Ôºõ</p>
<p>ËøôÁßçÊñπÂºèÂú®ÂÆûÈôÖ‰ΩøÁî®Êó∂ÂÖ∂ÂÆûÂπ∂‰∏çÂ∏∏ËßÅÔºåÊõ¥Â§öÁöÑÊòØÈÖçÂêàÂêÑÁßçÂêÑÊ†∑ÁöÑÊù°‰ª∂ËøõË°åÂåπÈÖçÊü•ËØ¢Ôºõ</p>
<p>‰∏ãÈù¢Êàë‰ª¨ËØ¶ÁªÜÊù•ÁúãÔºõ</p>
<br>

<h3 id="Êü•ËØ¢ÁöÑÁ±ªÂûã"><a href="#Êü•ËØ¢ÁöÑÁ±ªÂûã" class="headerlink" title="Êü•ËØ¢ÁöÑÁ±ªÂûã"></a><strong>Êü•ËØ¢ÁöÑÁ±ªÂûã</strong></h3><p>ES ÁöÑÊêúÁ¥¢ÁªìÊûúÊòØÊåâÁÖßÁõ∏ÂÖ≥ÂàÜÊï∞ÁöÑÈ´ò‰ΩéËøõË°åÊéíÂ∫èÁöÑÔºåÂú®ÊêúÁ¥¢ÁöÑËøáÁ®ã‰∏≠Ôºå‰ºöËÆ°ÁÆóËøô‰∏™ÂàÜÊï∞ÔºåËøô‰∏™ÂàÜÊï∞‰ª£Ë°®‰∫ÜËøôÊù°ËÆ∞ÂΩïÂåπÈÖçÊêúÁ¥¢ÂÜÖÂÆπÁöÑÁõ∏ÂÖ≥Á®ãÂ∫¶Ôºõ</p>
<p>ÂàÜÊï∞ÊòØ‰∏Ä‰∏™ÊµÆÁÇπÂûãÁöÑÊï∞Â≠óÔºåÂØπÂ∫îÁöÑÊòØÊêúÁ¥¢ÁªìÊûú‰∏≠ÁöÑ<code>_score</code>Â≠óÊÆµÔºåÂàÜÊï∞Ë∂äÈ´ò‰ª£Ë°®ÂåπÈÖçÂ∫¶Ë∂äÈ´òÔºåÊéíÂ∫èË∂äÈù†ÂâçÔºõ</p>
<p>Âú®ESÁöÑÊêúÁ¥¢ÂΩì‰∏≠ÔºåÂàÜ‰∏∫‰∏§ÁßçÔºö</p>
<ul>
<li>Êü•ËØ¢ÔºöËÆ°ÁÆóÂàÜÊï∞Ôºå‰ª£Ë°®ËøôÊù°ËÆ∞ÂΩï‰∏éÊêúÁ¥¢ÂÜÖÂÆπÂåπÈÖçÁöÑÁ®ãÂ∫¶ÔºåÈô§‰∫ÜÂÜ≥ÂÆöËøôÊù°ËÆ∞ÂΩïÊòØÂê¶ÂåπÈÖçÂ§ñÔºåËøòË¶ÅËÆ°ÁÆóËøôÊù°ËÆ∞ÂΩïÁöÑÁõ∏ÂÖ≥ÂàÜÊï∞Ôºõ</li>
<li>ËøáÊª§Ôºö‰∏çËÆ°ÁÆóÂàÜÊï∞Ôºå‰ª£Ë°®ËøôÊù°ËÆ∞ÂΩïÊòØÂê¶ÂåπÈÖçÊü•ËØ¢Êù°‰ª∂ÔºõÈ¢ëÁπÅ‰ΩøÁî®ÁöÑËøáÊª§Ëøò‰ºöË¢´ESÂä†ÂÖ•Âà∞ÁºìÂ≠òÔºå‰ª•ÊèêÂçáESÁöÑÊÄßËÉΩÔºõ</li>
</ul>
<blockquote>
<p>  <strong>Âú®Êüê‰∫õ‰∏çÈúÄË¶ÅÁõ∏ÂÖ≥ÊÄßÁÆóÂàÜÁöÑÊü•ËØ¢Âú∫ÊôØÔºåÂ∞ΩÈáè‰ΩøÁî®FilterContext‰ºòÂåñÊü•ËØ¢ÊÄßËÉΩÔºõ</strong></p>
</blockquote>
<p>‰∏ãÈù¢Â∞±ÊòØ‰∏Ä‰∏™Êü•ËØ¢ÁöÑ‰æãÂ≠êÔºö</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: { 
    &quot;bool&quot;: { 
      &quot;must&quot;: [
        { &quot;match&quot;: { &quot;title&quot;:   &quot;Search&quot;        }},
        { &quot;match&quot;: { &quot;content&quot;: &quot;Elasticsearch&quot; }}
      ],
      &quot;filter&quot;: [ 
        { &quot;term&quot;:  { &quot;status&quot;: &quot;published&quot; }},
        { &quot;range&quot;: { &quot;publish_date&quot;: { &quot;gte&quot;: &quot;2015-01-01&quot; }}}
      ]
    }
  }
}</code></pre>
<p><code>/_search</code> ÊòØËØ∑Ê±ÇÁöÑË∑ØÂæÑÔºåËØ∑Ê±ÇÁöÑÊñπÊ≥ïÊòØ<code>GET</code>ÔºåËØ∑Ê±Ç‰Ωì‰∏≠Êúâ‰∏Ä‰∏™<code>query</code>Ôºå‰ª£Ë°®Êü•ËØ¢ÁöÑÊù°‰ª∂Ôºõ</p>
<p>ËÄå <code>bool</code> ‰∏≠ÁöÑÔºö</p>
<ul>
<li><code>must</code> Ë¢´Áî®‰Ωú<code>query context</code>ÔºåÂÆÉÂú®Êü•ËØ¢ÁöÑÊó∂ÂÄô‰ºöËÆ°ÁÆóËÆ∞ÂΩïÂåπÈÖçÁöÑÁõ∏ÂÖ≥ÂàÜÊï∞Ôºõ</li>
<li><code>filter</code>‰∏≠ÁöÑÊù°‰ª∂Áî®‰ΩúËøáÊª§ÔºåÂè™‰ºöÊääÁ¨¶ÂêàÊù°‰ª∂ÁöÑËÆ∞ÂΩïÊ£ÄÁ¥¢Âá∫Êù•Ôºå‰∏ç‰ºöËÆ°ÁÆóÂàÜÊï∞Ôºõ</li>
</ul>
<br>

<h3 id="Â§çÂêàÊü•ËØ¢ÔºàCompound-queriesÔºâ"><a href="#Â§çÂêàÊü•ËØ¢ÔºàCompound-queriesÔºâ" class="headerlink" title="Â§çÂêàÊü•ËØ¢ÔºàCompound queriesÔºâ"></a><strong>Â§çÂêàÊü•ËØ¢ÔºàCompound queriesÔºâ</strong></h3><p>Â§çÂêàÊü•ËØ¢Áî±ÂÖ∂‰ªñÂ§çÂêàÊü•ËØ¢ÊàñÂè∂Êü•ËØ¢ÁªÑÂêàËÄåÊàêÔºå‰ª•ÁªÑÂêàÂÆÉ‰ª¨ÁöÑÁªìÊûúÂíåÂàÜÊï∞ÔºåÊîπÂèòÂÆÉ‰ª¨ÁöÑË°å‰∏∫ÔºåÊàñËÄÖ‰ªéÊü•ËØ¢ÂàáÊç¢Âà∞ËøáÊª§‰∏ä‰∏ãÊñáÔºõ</p>
<p>Â§çÂêàÊü•ËØ¢ÂåÖÂê´‰∫ÜËÆ∏Â§öÂÖ∂‰ªñÁöÑÊü•ËØ¢ÔºåÂÉèÊàë‰ª¨ÂâçÈù¢ÊèêÂà∞ÁöÑ<code>query context</code>Âíå<code>filter context</code>Ôºõ</p>
<p>Âú®Â§çÂêàÊü•ËØ¢‰∏≠ÔºåÂàÜ‰∏∫ÂæàÂ§öÁßçÁ±ªÂûãÔºö</p>
<ul>
<li>Boolean QueryÔºõ</li>
<li>Boosting QueryÔºõ</li>
<li>Const QueryÔºõ</li>
<li>ÂÖ®ÊñáÊ£ÄÁ¥¢Ôºõ</li>
<li>‚Ä¶‚Ä¶</li>
</ul>
<p>‰∏ãÈù¢Êàë‰ª¨ÂàÜÂà´Êù•ÁúãÔºõ</p>
<h4 id="Boolean-Query"><a href="#Boolean-Query" class="headerlink" title="Boolean Query"></a><strong>Boolean Query</strong></h4><p><strong>Â∏ÉÂ∞îÊü•ËØ¢ÊòØÊúÄÂ∏∏Áî®ÁöÑÁªÑÂêàÊü•ËØ¢Ôºå‰∏ç‰ªÖÂ∞ÜÂ§ö‰∏™Êü•ËØ¢Êù°‰ª∂ÁªÑÂêàÂú®‰∏ÄËµ∑ÔºåÂπ∂‰∏îÂ∞ÜÊü•ËØ¢ÁöÑ<code>ÁªìÊûú</code>ÂíåÁªìÊûúÁöÑ<code>ËØÑÂàÜ</code>ÁªÑÂêàÂú®‰∏ÄËµ∑Ôºåbool Áõ∏ÂΩì‰∫é<code>MySQL‰∏≠ÁöÑ‰∏Ä‰∏™Êã¨Âè∑()</code>Ôºõ</strong></p>
<p>ÂâçÈù¢Êàë‰ª¨ÂÜôÁöÑÊü•ËØ¢ËØ≠Âè•‰æãÂ≠êÂ∞±ÊòØ‰∏Ä‰∏™booleanÊü•ËØ¢ÔºåÂú® boolean Êü•ËØ¢‰∏≠ÊúâÂá†‰∏™ÂÖ≥ÈîÆËØçÔºö</p>
<table>
<thead>
<tr>
<th align="left"><strong>ÂÖ≥ÈîÆËØç</strong></th>
<th align="left"><strong>ÊèèËø∞</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><font color="#f00"><strong>must</strong></font></td>
<td align="left"><font color="#f00"><strong>ÂøÖÈ°ªÊª°Ë∂≥ÁöÑÊù°‰ª∂ÔºåËÄå‰∏î‰ºöËÆ°ÁÆóÂàÜÊï∞Ôºõ</strong></font></td>
</tr>
<tr>
<td align="left"><font color="#f00"><strong>filter</strong></font></td>
<td align="left"><font color="#f00"><strong>ÂøÖÈ°ªÊª°Ë∂≥ÁöÑÊù°‰ª∂Ôºå‰∏ç‰ºöËÆ°ÁÆóÂàÜÊï∞Ôºõ</strong></font></td>
</tr>
<tr>
<td align="left"><font color="#f00"><strong>should</strong></font></td>
<td align="left"><font color="#f00"><strong>ÂèØ‰ª•Êª°Ë∂≥ÁöÑÊù°‰ª∂Ôºå‰ºöËÆ°ÁÆóÂàÜÊï∞Ôºõ</strong></font></td>
</tr>
<tr>
<td align="left"><font color="#f00"><strong>must_not</strong></font></td>
<td align="left"><font color="#f00"><strong>ÂøÖÈ°ª‰∏çÊª°Ë∂≥ÁöÑÊù°‰ª∂Ôºå‰∏ç‰ºöËÆ°ÁÆóÂàÜÊï∞Ôºõ</strong></font></td>
</tr>
</tbody></table>
<p>Êàë‰ª¨ÁúãÁúã‰∏ãÈù¢ÁöÑÊü•ËØ¢ËØ≠Âè•Ôºö</p>
<pre><code class="javascript">POST _search
{
  &quot;query&quot;: {
    &quot;bool&quot; : {
      &quot;must&quot; : {
        &quot;term&quot; : { &quot;user&quot; : &quot;kimchy&quot; }
      },
      &quot;filter&quot;: {
        &quot;term&quot; : { &quot;tag&quot; : &quot;tech&quot; }
      },
      &quot;must_not&quot; : {
        &quot;range&quot; : {
          &quot;age&quot; : { &quot;gte&quot; : 10, &quot;lte&quot; : 20 }
        }
      },
      &quot;should&quot; : [
        { &quot;term&quot; : { &quot;tag&quot; : &quot;wow&quot; } },
        { &quot;term&quot; : { &quot;tag&quot; : &quot;elasticsearch&quot; } }
      ],
      &quot;minimum_should_match&quot; : 1,
      &quot;boost&quot; : 1.0
    }
  }
}</code></pre>
<p>‰∏äÈù¢ÁöÑÊü•ËØ¢Â∞±ÊòØ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑbooleanÂ§çÂêàÊü•ËØ¢ÔºåÈáåËæπÁöÑÂÖ≥ÈîÆËØçÈÉΩÁî®‰∏ä‰∫ÜÔºõ</p>
<p>ËøôÈáåÂÜçÂº∫Ë∞É‰∏Ä‰∏ã <code>must</code>Âíå<code>should</code>ÁöÑÂå∫Âà´Ôºö</p>
<ul>
<li><code>must</code>ÊòØÂøÖÈ°ªÊª°Ë∂≥ÁöÑÊù°‰ª∂Ôºå‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠<code>must</code>ÈáåÂè™ÂÜô‰∫Ü‰∏Ä‰∏™Êù°‰ª∂ÔºåÂ¶ÇÊûúÊòØÂ§ö‰∏™Êù°‰ª∂ÔºåÈÇ£‰πàÈáåËæπÁöÑÊâÄÊúâÊù°‰ª∂ÂøÖÈ°ªÂÖ®ÈÉ®Êª°Ë∂≥ÔºåÊâçËÉΩË¢´Êü•Âá∫Êù•Ôºõ</li>
<li>ËÄåÂØπ‰∫é<code>should</code>ÔºåÂú®‰æãÂ≠ê‰∏≠ <code>should</code> ÂàóÂá∫‰∫Ü‰∏§‰∏™Êù°‰ª∂ÔºåÂπ∂‰∏çÊòØËØ¥Ëøô‰∏§‰∏™Êù°‰ª∂ÂøÖÈ°ªÂÖ®ÈÉ®Êª°Ë∂≥ÔºåÂà∞Â∫ïÈúÄË¶ÅÊª°Ë∂≥Âá†‰∏™Êù°‰ª∂ÂèØ‰ª•Áúã‰∏ãÈù¢ÁöÑÂÖ≥ÈîÆÂ≠ó<code>minimum_should_match</code>ÔºàÊúÄÂ∞è<code>should</code>ÂåπÈÖçÊï∞ÔºåÂú®ËøôÈáåËÆæÁΩÆÁöÑÊòØ1ÔºâÔºå‰πüÂ∞±ÊòØËØ¥Ôºå<code>should</code>ÈáåÁöÑÊù°‰ª∂Âè™Ë¶ÅÊª°Ë∂≥1‰∏™ÔºåÂ∞±ÁÆóÂåπÈÖçÊàêÂäüÔºõ</li>
</ul>
<blockquote>
<p>  <font color="#f00"><strong>Âú®booleanÊü•ËØ¢‰∏≠ÔºåÂ¶ÇÊûúÂ≠òÂú®‰∏Ä‰∏™<code>should</code>Êù°‰ª∂ÔºåËÄåÊ≤°Êúâ<code>filter</code>Âíå<code>must</code>Êù°‰ª∂ÔºåÈÇ£‰πà<code>minimum_should_match</code>ÁöÑÈªòËÆ§ÂÄºÊòØ1ÔºåÂÖ∂‰ªñÊÉÖÂÜµÈªòËÆ§ÂÄºÊòØ0Ôºõ</strong></font></p>
</blockquote>
<br>

<p>ÂÜçÊù•Áúã‰∏Ä‰∏™ÂÆûÈôÖÁöÑ‰æãÂ≠êÔºå‰πãÂâçÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ <code>passage</code> Á¥¢ÂºïÔºõ</p>
<p>Á¥¢Âºï‰∏≠Â≠òÂú®ÁùÄÂá†Êù°Êï∞ÊçÆÔºåÊï∞ÊçÆÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th align="left">_index</th>
<th align="left">_id</th>
<th align="left">title</th>
<th align="left">content</th>
<th align="left">comment</th>
</tr>
</thead>
<tbody><tr>
<td align="left">passage</td>
<td align="left">1</td>
<td align="left">ÊµãËØï</td>
<td align="left">ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ</td>
<td align="left">ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫</td>
</tr>
<tr>
<td align="left">passage</td>
<td align="left">2</td>
<td align="left">ÊµãËØï2</td>
<td align="left">ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2</td>
<td align="left">ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2</td>
</tr>
<tr>
<td align="left">passage</td>
<td align="left">wicds4EB0KdGOS9dT4Pr</td>
<td align="left">Ëá™Âä®ÂàõÂª∫IdÊµãËØï</td>
<td align="left">ËøôÊòØ‰∏Ä‰∏™Ëá™Âä®ÂàõÂª∫IdÊµãËØïÂÜÖÂÆπ</td>
<td align="left"></td>
</tr>
</tbody></table>
<p>Âè™Êúâ 3 Êù°ËÆ∞ÂΩïÔºåÊàë‰ª¨Êñ∞Âª∫‰∏Ä‰∏™Êü•ËØ¢ËØ≠Âè•ÔºåÂ¶Ç‰∏ãÔºö</p>
<pre><code class="javascript">POST /passage/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;must&quot;: [
        {
          &quot;match&quot;: {
            &quot;title&quot;: &quot;Ëá™Âä®ÊµãËØï&quot;
          }
        }
      ]
    }
  },
  &quot;from&quot;: 0,
  &quot;size&quot;: 1
}</code></pre>
<p>Êàë‰ª¨Êü•ËØ¢ÁöÑÊù°‰ª∂ÊòØ <code>title</code> Â≠óÊÆµÊª°Ë∂≥ <code>Ëá™Âä®ÊµãËØï</code> Ôºõ</p>
<p>Áî±‰∫éÂú®ÂàõÂª∫Á¥¢ÂºïÊó∂ÔºåÊàë‰ª¨‰ΩøÁî®‰∫Ü ik ÂàÜËØçÂô®Ôºö</p>
<pre><code class="json">PUT /passage
{
  &quot;settings&quot;: {
    &quot;index&quot;: {
      &quot;analysis&quot;: {
        &quot;analyzer&quot;: {
          &quot;title_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;false&quot;,
            &quot;tokenizer&quot;: &quot;ik_max_word&quot;,
            &quot;filter&quot;: [
              &quot;jt_tfr&quot;,
              &quot;lowercase&quot;
            ]
          },
          &quot;content_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;true&quot;,
            &quot;tokenizer&quot;: &quot;ik_smart&quot;,
            &quot;filter&quot;: [
              &quot;jt_tfr&quot;,
              &quot;lowercase&quot;
            ]
          }
        },
        &quot;filter&quot;: {
          &quot;jt_tfr&quot;: {
            &quot;type&quot;: &quot;stop&quot;,
            &quot;stopwords&quot;: [...]
          }
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;title&quot;: {
        &quot;analyzer&quot;: &quot;title_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      },
      &quot;content&quot;: {
        &quot;analyzer&quot;: &quot;content_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      }
    }
  }
}</code></pre>
<p>ËÄåÊü•ËØ¢Êù°‰ª∂ <code>Ëá™Âä®ÊµãËØï</code> ‰ºöË¢´ÂàÜËØç‰∏∫ <code>Ëá™Âä®</code> Âíå <code>ÊµãËØï</code> Ôºå3‰∏™Êï∞ÊçÆÁöÑ <code>title</code> ‰∏≠ÈÉΩÊúâ <code>ÊµãËØï</code> Â≠óÊÆµÔºåÊâÄ‰ª• 3Êù°Êï∞ÊçÆÈÉΩ‰ºöË¢´Êü•ËØ¢Âá∫Êù•Ôºö</p>
<pre><code class="json">{
  &quot;took&quot; : 1,
  &quot;timed_out&quot; : false,
  &quot;_shards&quot; : {
    &quot;total&quot; : 1,
    &quot;successful&quot; : 1,
    &quot;skipped&quot; : 0,
    &quot;failed&quot; : 0
  },
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 3,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 0.86236954,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;wicds4EB0KdGOS9dT4Pr&quot;,
        &quot;_score&quot; : 0.86236954,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;Ëá™Âä®ÂàõÂª∫IdÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™Ëá™Âä®ÂàõÂª∫IdÊµãËØïÂÜÖÂÆπ&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;1&quot;,
        &quot;_score&quot; : 0.17426977,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_score&quot; : 0.14181954,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï2&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2&quot;
        }
      }
    ]
  }
}</code></pre>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÊï∞ÊçÆÂÖ®ÈÉ®Ë¢´Êü•ËØ¢Âá∫Êù•‰∫ÜÔºåÂíåÊàë‰ª¨ÁöÑÈ¢ÑÊúüÊòØ‰∏ÄÊ†∑ÁöÑÔºõ</p>
<blockquote>
<p>  <font color="#f00"><strong>textÁ±ªÂûãÁöÑÊü•ËØ¢ÈÉΩÊòØÂü∫‰∫éÂàÜËØçÂêéÁöÑËØçÊù°Êü•ËØ¢ÁöÑÔºå‰æãÂ¶Ç‚Äùabcd‚ÄùÂàÜËØçÂêé‚Äùab,cd‚ÄùÂ¶ÇÊûútermÊü•ËØ¢‚Äùbc‚ÄùÂ∞±Êü•‰∏çÂà∞Ôºõ</strong></font></p>
</blockquote>
<p><font color="#f00"><strong>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ <code>_score</code>Â≠óÊÆµÔºöÂÆÉ‰ª¨ÁöÑÂàÜÊï∞ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊàë‰ª¨ÁöÑÊü•ËØ¢Êù°‰ª∂ÊòØ <code>Ëá™Âä®ÊµãËØï</code>ÔºåÊâÄ‰ª•Êó¢ÂåÖÂê´<code>Ëá™Âä®</code>ÂèàÂåÖÂê´<code>ÊµãËØï</code>ÁöÑÊï∞ÊçÆÂàÜÊï∞È´òÔºåÊàë‰ª¨ÁúãÂà∞ÂàÜÊï∞Âà∞‰∫Ü0.86ÔºåËÄåÂè¶Â§ñ2Êù°Êï∞ÊçÆÂè™ÂåπÈÖç‰∫Ü<code>ÊµãËØï</code>ÔºåÊâÄ‰ª•ÂàÜÊï∞Âè™Êúâ0.17Ôºå0.14Ôºõ</strong></font></p>
<br>

<h4 id="Boosting-Query"><a href="#Boosting-Query" class="headerlink" title="Boosting Query"></a><strong>Boosting Query</strong></h4><p>Boosting Query ÂèØ‰ª•‰∏∫‰∏çÂñúÊ¨¢ÁöÑÊü•ËØ¢ÂáèÂàÜÔºõ</p>
<p>Boosting Query Êúâ‰∏§‰∏™ÂÖ≥ÈîÆËØçÔºö<code>positive</code>Âíå<code>negative</code>Ôºõ</p>
<ul>
<li><code>positive</code>ÔºöÔºàÂøÖÈúÄÔºåÊü•ËØ¢ÂØπË±°ÔºâÊü•ËØ¢ËØ≠Âè•ÔºåÊâÄÊúâÊª°Ë∂≥ <code>positive</code> Êù°‰ª∂ÁöÑÊï∞ÊçÆÈÉΩ‰ºöË¢´Êü•ËØ¢Âá∫Êù•Ôºõ</li>
<li><code>negative</code>ÔºöÔºàÂøÖÈúÄÔºåÊü•ËØ¢ÂØπË±°ÔºâÈôç‰ΩéÂàÜÊï∞ÁöÑÂåπÈÖçÊü•ËØ¢Ôºå<strong>Êª°Ë∂≥<code>negative</code>Êù°‰ª∂ÁöÑÊï∞ÊçÆÂπ∂‰∏ç‰ºöË¢´ËøáÊª§ÊéâÔºåËÄåÊòØ‰ºöÊâ£ÂáèÂàÜÊï∞Ôºõ</strong>‰ΩøÁî®Â≠óÊÆµ<code>negative_boost</code> Ë°®Á§∫Êâ£ÂáèÁ≥ªÊï∞ÔºàÂú®0~1‰πãÈó¥ÔºâÔºõÂ¶ÇÊûúÊª°Ë∂≥‰∫Ü<code>negative</code>Êù°‰ª∂ÁöÑÊï∞ÊçÆÔºåÂÆÉ‰ª¨ÁöÑÂàÜÊï∞‰ºö‰πò‰ª•Ëøô‰∏™Á≥ªÊï∞ÔºõÊØîÂ¶ÇËøô‰∏™Á≥ªÊï∞ÊòØ 0.5ÔºåÂéüÊù•100ÂàÜÁöÑÊï∞ÊçÆÂ¶ÇÊûúÊª°Ë∂≥‰∫Ü<code>negative</code>Êù°‰ª∂ÔºåÂÆÉÁöÑÂàÜÊï∞‰ºö‰πò‰ª•0.5ÔºåÂèòÊàê50ÂàÜÔºõ</li>
</ul>
<pre><code class="javascript">POST /passage/_search
{
  &quot;query&quot;: {
    &quot;boosting&quot;: {
      &quot;positive&quot;: {
        &quot;term&quot;: {
          &quot;title&quot;: &quot;ÊµãËØï&quot;
        }
      },
      &quot;negative&quot;: {
        &quot;term&quot;: {
          &quot;title&quot;: &quot;Ëá™Âä®&quot;
        }
      },
      &quot;negative_boost&quot;: 0.5
    }
  }
}</code></pre>
<p><code>positive</code> Êù°‰ª∂ÊòØ <code>ÊµãËØï</code>ÔºåÂõ†Ê≠§Âè™Ë¶Å <code>title</code> ‰∏≠Êúâ <code>ÊµãËØï</code> ÁöÑÊï∞ÊçÆÈÉΩ‰ºöË¢´Êü•ËØ¢Âá∫Êù•Ôºõ</p>
<p>ËÄå<code>negative</code>ÁöÑÊù°‰ª∂ÊòØ <code>Ëá™Âä®</code>ÔºåÂè™Ë¶Å<code>title</code>‰∏≠ÂåÖÂê´ <code>Ëá™Âä®</code> ÁöÑÊï∞ÊçÆÈÉΩ‰ºöË¢´Êâ£ÂáèÂàÜÊï∞ÔºõÁî± <code>&quot;negative_boost&quot;: 0.5</code> ÂèØÁü•ÔºåÂÆÉÁöÑÂæóÂàÜÂ∞Ü‰ºöÂèò‰∏∫ <code>ÂéüÂàÜÊï∞*0.5</code>Ôºõ</p>
<p>ÊâßË°åÂêéÁöÑÁªìÊûúÔºö</p>
<pre><code class="json">{
  &quot;took&quot; : 6,
  &quot;timed_out&quot; : false,
  &quot;_shards&quot; : {
    &quot;total&quot; : 1,
    &quot;successful&quot; : 1,
    &quot;skipped&quot; : 0,
    &quot;failed&quot; : 0
  },
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 3,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 0.17426977,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;1&quot;,
        &quot;_score&quot; : 0.17426977,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_score&quot; : 0.14181954,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï2&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;wicds4EB0KdGOS9dT4Pr&quot;,
        &quot;_score&quot; : 0.05166793,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;Ëá™Âä®ÂàõÂª∫IdÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™Ëá™Âä®ÂàõÂª∫IdÊµãËØïÂÜÖÂÆπ&quot;
        }
      }
    ]
  }
}</code></pre>
<p>ÂèØ‰ª•ÁúãÂà∞Áî±‰∫éÊúÄÂêé‰∏ÄÊù°Êï∞ÊçÆ‰∏≠ÁöÑ<code>title</code>ÂåÖÂê´<code>Ëá™Âä®</code>ÔºåÂÆÉÁöÑÂæóÂàÜ‰ºö‰πò‰ª•0.5ÁöÑÁ≥ªÊï∞ÔºåÊâÄ‰ª•ÂàÜÊï∞‰ºöÊØîËæÉ‰ΩéÔºõ</p>
<br>

<h4 id="constant-score"><a href="#constant-score" class="headerlink" title="constant_score"></a><strong>constant_score</strong></h4><p>ÊÅíÂÆöÂàÜÊï∞Êü•ËØ¢Ôºõ</p>
<p>Âú®ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåES ‰∏≠Êü•ËØ¢ÁöÑÂàÜÊï∞ÊòØÁî± Lucene ËÆ°ÁÆóÂá∫Êù•ÁöÑÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰∫∫‰∏∫ÊåáÂÆö‰∏Ä‰∏™Âõ∫ÂÆöÁöÑÂàÜÊï∞Ôºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="json">POST /passage/_search
{
  &quot;query&quot;: {
    &quot;constant_score&quot;: {
      &quot;filter&quot;: {
        &quot;term&quot;: {
          &quot;title&quot;: &quot;Ëá™Âä®&quot;
        }
      },
      &quot;boost&quot;: 1.2
    }
  }
}</code></pre>
<p>Ê≠§Êó∂ <code>filter</code> ÊòØÂøÖÈ°ªÁöÑÔºåÂπ∂‰∏îÂÖ∂‰∏≠ÁöÑ <code>boost</code> ÊòØÂåπÈÖç‰πãÂêéËé∑ÂæóÁöÑÂàÜÊï∞Ôºõ</p>
<p>ÊâßË°åÂêéÁªìÊûú‰∏∫Ôºö</p>
<pre><code class="json">{
  &quot;took&quot; : 0,
  &quot;timed_out&quot; : false,
  &quot;_shards&quot; : {
    &quot;total&quot; : 1,
    &quot;successful&quot; : 1,
    &quot;skipped&quot; : 0,
    &quot;failed&quot; : 0
  },
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 1,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 1.2,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;wicds4EB0KdGOS9dT4Pr&quot;,
        &quot;_score&quot; : 1.2,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;Ëá™Âä®ÂàõÂª∫IdÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™Ëá™Âä®ÂàõÂª∫IdÊµãËØïÂÜÖÂÆπ&quot;
        }
      }
    ]
  }
}</code></pre>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÂæóÂàÜ‰∏∫ 1.2Ôºõ</p>
<br>

<h4 id="dis-max"><a href="#dis-max" class="headerlink" title="dis_max"></a><strong>dis_max</strong></h4><p>dis_max Êü•ËØ¢Âè™‰ΩøÁî®ÊúÄ‰Ω≥ÂåπÈÖçÊü•ËØ¢Êù°‰ª∂ÁöÑÂàÜÊï∞Ôºö</p>
<ul>
<li><code>queries</code>ÔºöÔºàÂøÖÈúÄÔºåÊü•ËØ¢ÂØπË±°Êï∞ÁªÑÔºâÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êü•ËØ¢Â≠êÂè•ÔºõËøîÂõûÁöÑÊñáÊ°£ÂøÖÈ°ª‰∏éËøô‰∫õÊü•ËØ¢‰∏≠ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂåπÈÖçÔºõÂ¶ÇÊûú‰∏Ä‰∏™ÊñáÊ°£ÂåπÈÖçÂ§ö‰∏™Êü•ËØ¢ÔºåES ‰ΩøÁî®<code>ÊúÄÈ´ò</code>ÁöÑÁõ∏ÂÖ≥ÊÄßÂàÜÊï∞Ôºõ</li>
<li><code>tie_breaker</code>ÔºöÔºàÂèØÈÄâÔºåÊµÆÁÇπÊï∞Ôºâ0-1‰πãÈó¥ÔºåÈªòËÆ§0.0ÔºåÁî®‰∫éÂ¢ûÂä†ÁöÑËØÑÂàÜÔºõ</li>
</ul>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;dis_max&quot;: {
      &quot;queries&quot;: [
        { &quot;term&quot;: { &quot;title&quot;: &quot;ÊµãËØï&quot; } },  # Êü•ËØ¢Â≠óÂè•ÔºåÂÅáËÆæC1=1.3
        { &quot;term&quot;: { &quot;comment&quot;: &quot;2&quot; } }, # Êü•ËØ¢Â≠óÂè•ÔºåÂÅáËÆæC2=1.8
        { &quot;term&quot;: { &quot;content&quot;: &quot;ËøôÊòØ‰∏Ä‰∏™&quot; } } # Êü•ËØ¢Â≠óÂè•ÔºåÂÅáËÆæC3=1.1
      ],
      &quot;tie_breaker&quot;: 0.2
    }
  }
}</code></pre>
<p>ÂØπ‰∫éÊó† dis_max Êó∂Êü•ËØ¢ÁöÑËØÑÂàÜÔºåÂ§ßËá¥Â∫îËØ•ÊòØ<code>C1+C2+C3</code>ÁöÑËØÑÂàÜÔºõ</p>
<p>ËÄåÊúâ dis_max ÁöÑËØÑÂàÜÂ§ßËá¥ËÆ°ÁÆóÔºö<code>C2+(C1+C3)*tie_breaker</code>Ôºõ</p>
<p>‰∏äÈù¢ÁöÑÊü•ËØ¢ËøîÂõûÔºö</p>
<pre><code class="json">{
  ......
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 3,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 0.7003642,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_score&quot; : 0.7003642,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï2&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;1&quot;,
        &quot;_score&quot; : 0.17426977,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;wicds4EB0KdGOS9dT4Pr&quot;,
        &quot;_score&quot; : 0.10333586,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;Ëá™Âä®ÂàõÂª∫IdÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™Ëá™Âä®ÂàõÂª∫IdÊµãËØïÂÜÖÂÆπ&quot;
        }
      }
    ]
  }
}</code></pre>
<br>

<h4 id="ÊâìÂàÜÂáΩÊï∞Ôºàfunction-scoreÔºâ"><a href="#ÊâìÂàÜÂáΩÊï∞Ôºàfunction-scoreÔºâ" class="headerlink" title="ÊâìÂàÜÂáΩÊï∞Ôºàfunction_scoreÔºâ"></a><strong>ÊâìÂàÜÂáΩÊï∞Ôºàfunction_scoreÔºâ</strong></h4><p>function_score ‰ºöÂú® <code>‰∏ªÊü•ËØ¢queryÁªìÊùüÂêé</code> ÂØπÊØè‰∏Ä‰∏™ÂåπÈÖçÁöÑÊñáÊ°£ËøõË°å‰∏ÄÁ≥ªÂàóÁöÑ <code>ÈáçÊñ∞ÊâìÂàÜ</code> Êìç‰ΩúÔºåËÉΩÂ§üÂØπÂ§ö‰∏™Â≠óÊÆµ‰∏ÄËµ∑ËøõË°åÁªºÂêàËØÑ‰º∞ÔºåÂπ∂‰∏îËÉΩÂ§ü‰ΩøÁî® filter Â∞ÜÁªìÊûúÂàíÂàÜ‰∏∫Â§ö‰∏™Â≠êÈõÜÔºåÂπ∂‰∏∫ÊØè‰∏™Â≠êÈõÜ‰ΩøÁî®‰∏çÂêåÁöÑÂä†Âº∫ÂáΩÊï∞Ôºõ</p>
<p><font color="#f00"><strong>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºö<code>‰∏çËÆ∫Êàë‰ª¨ÊÄé‰πàËá™ÂÆö‰πâÊâìÂàÜÔºåÈÉΩ‰∏ç‰ºöÊîπÂèòÂéüÂßãqueryÁöÑÂåπÈÖçË°å‰∏∫</code>ÔºåÊàë‰ª¨Ëá™ÂÆö‰πâÊâìÂàÜÔºåÈÉΩÊòØÂú®ÂéüÂßã query Êü•ËØ¢ÁªìÊùüÂêéÔºåÂØπÊØè‰∏Ä‰∏™ÂåπÈÖçÁöÑÊñáÊ°£ËøõË°åÈáçÊñ∞ÁÆóÂàÜÔºõ</strong></font></p>
<p>ÊúÄÁªàÁªìÊûúÁöÑ <code>_score</code>ÔºåÂç≥ <code>result_score</code> ÁöÑËÆ°ÁÆóËøáÁ®ãÂ¶Ç‰∏ãÔºö</p>
<ul>
<li><strong>Ë∑üÂéüÊù•‰∏ÄÊ†∑ÊâßË°å<code>query</code>Âπ∂‰∏îÂæóÂà∞ÂéüÂßã <code>query_score</code>Ôºõ</strong></li>
<li><strong>ÊâßË°åËÆæÁΩÆÁöÑËá™ÂÆö‰πâÊâìÂàÜÂáΩÊï∞ÔºåÂπ∂‰∏∫ÊØè‰∏™ÊñáÊ°£ÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÂàÜÊï∞ÔºåËÆ∞‰∏∫<code>func_score</code>Ôºõ</strong></li>
<li><strong>ÊúÄÁªàÁªìÊûúÁöÑÂàÜÊï∞ <code>result_score</code> Á≠â‰∫é <code>query_score</code>‰∏é<code>func_score</code>ÊåâÊüêÁßçÊñπÂºèËÆ°ÁÆóÁöÑÁªìÊûúÔºàÈªòËÆ§ÊòØÁõ∏‰πòÔºâÔºõ</strong></li>
</ul>
<p><strong>ÊúÄÁªàÁöÑÂàÜÊï∞<code>result_score</code> ÊòØÁî±<code>query_score</code>‰∏é<code>func_score</code>ËøõË°åËÆ°ÁÆóËÄåÊù•ÔºåËÆ°ÁÆóÊñπÂºèÁî±ÂèÇÊï∞<code>boost_mode</code>ÂÆö‰πâÔºö</strong></p>
<ul>
<li>multiply : Áõ∏‰πòÔºàÈªòËÆ§ÔºâÔºå<code>result_score = query_score * function_score</code>Ôºõ</li>
<li>replace : ÊõøÊç¢Ôºå<code>result_score = function_score</code>Ôºõ</li>
<li>sum : Áõ∏Âä†Ôºå<code>result_score = query_score + function_score</code>Ôºõ</li>
<li>avg : Âèñ‰∏§ËÄÖÁöÑÂπ≥ÂùáÂÄºÔºå<code>result_score = Avg(query_score, function_score)</code>Ôºõ</li>
<li>max : Âèñ‰∏§ËÄÖ‰πã‰∏≠ÁöÑÊúÄÂ§ßÂÄºÔºå<code>result_score = Max(query_score, function_score)</code>Ôºõ</li>
<li>min : Âèñ‰∏§ËÄÖ‰πã‰∏≠ÁöÑÊúÄÂ∞èÂÄºÔºå<code>result_score = Min(query_score, function_score)</code>Ôºõ</li>
</ul>
<p>function_score Êèê‰æõ‰∫Ü‰ª•‰∏ãÂá†ÁßçÊâìÂàÜÁöÑÂáΩÊï∞Ôºö</p>
<ul>
<li>weight : Âä†ÊùÉÔºõ</li>
<li>random_score : ÈöèÊú∫ÊâìÂàÜÔºåÁîüÊàê [0, 1) ‰πãÈó¥ÂùáÂåÄÂàÜÂ∏ÉÁöÑÈöèÊú∫ÂàÜÊï∞ÂÄºÔºõ</li>
<li>field_value_factor : ‰ΩøÁî®Â≠óÊÆµÁöÑÊï∞ÂÄºÂèÇ‰∏éËÆ°ÁÆóÂàÜÊï∞Ôºõ</li>
<li>decay_function : Ë°∞ÂáèÂáΩÊï∞ gauss, linear, exp Á≠âÔºõ</li>
<li>script_score : Ëá™ÂÆö‰πâËÑöÊú¨ÊâìÂàÜÔºõ</li>
</ul>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;function_score&quot;: { # ÊâìÂàÜÂáΩÊï∞
      &quot;query&quot;: { &quot;match_all&quot;: {} }, # ÂéüÂßãqueryÁöÑÂåπÈÖç
      &quot;boost&quot;: &quot;5&quot;, # Áî®‰ª•ÊèêÈ´òÊï¥‰∏™Êü•ËØ¢ÊùÉÈáç
      &quot;functions&quot;: [ # ÂΩìÊúâÂ§ö‰∏™ÊâìÂàÜÂáΩÊï∞Êó∂ÔºåÈúÄ‰ΩøÁî®functionsÔºåÂΩìÂè™Êúâ‰∏Ä‰∏™Êó∂ÔºåÂèØÁúÅÁï•
        { # ÊâìÂàÜÂáΩÊï∞1ÔºöÂèØ‰ª•ÁêÜËß£ÊàêÔºåweight*ÈöèÊú∫Êï∞
          &quot;weight&quot;: 23, # Âä†ÊùÉÂÄºÔºåÈªòËÆ§ÂÄºÊòØ1.0Ôºå‰πüÂèØ‰ª•ÁêÜËß£ÊØè‰∏™ÊâìÂàÜÂáΩÊï∞ÈÉΩÊúâ‰∏Ä‰∏™ weight: 1.0
          &quot;filter&quot;: { &quot;match&quot;: { &quot;test&quot;: &quot;bar&quot; } }, # ÈÄöËøá filter ÂéªÈôêÂà∂ weight ÁöÑ‰ΩúÁî®ËåÉÂõ¥
          &quot;random_score&quot;: { # ÈöèÊú∫ÊâìÂàÜÔºåÁîüÊàê0-1‰πãÈó¥ÁöÑÈöèÊú∫Êï∞ÔºåÊú¨Á§∫‰æã‰∏≠random_scoreÂú®0-23‰πãÈó¥
            &quot;seed&quot;: 10,
            &quot;field&quot;: &quot;_seq_no&quot;
          } 
        },
        { # ÊâìÂàÜÂáΩÊï∞2
          &quot;weight&quot;: 42 # Âä†ÊùÉÊï∞
          &quot;filter&quot;: { &quot;match&quot;: { &quot;test&quot;: &quot;cat&quot; } }, # ÈÄöËøá filter ÂéªÈôêÂà∂ weight ÁöÑ‰ΩúÁî®ËåÉÂõ¥
        },
        { # ÊâìÂàÜÂáΩÊï∞3ÔºöË°∞ÂáèÂáΩÊï∞Ôºå
          &quot;weight&quot;: 1.0, #  ÈªòËÆ§Âä†ÊùÉ 1.0ÂÄç
          &quot;exp&quot;: { # expÊåáÊï∞ÂáΩÊï∞ÁÆóÊ≥ï
            &quot;ctime&quot;: { # Êó∂Èó¥Ë°∞Âáè
              &quot;origin&quot;: 1649582870, # ÂΩìÂâçÊó∂Èó¥Êà≥
              &quot;scale&quot;: 4320000, # 50Â§©ÂÜÖË°∞Âáè
              &quot;offset&quot;: 800, # ‰ªéÂ§öÈïøÊó∂Èó¥ÂêéÂºÄÂßãË°∞Âáè
              &quot;decay&quot;: 0.1 // ÊúÄ‰ΩéË°∞ÂáèÂÄº
            }
          }
        },
        { # ÊâìÂàÜÂáΩÊï∞4Ôºö‰ΩøÁî®Â≠óÊÆµÂÄºËÆ°ÁÆóÔºåÊ≠§ÊñπÊ≥ïÂèØ‰ª•ÁêÜËß£ÊàêÔºö1.0*log1p(1.2*doc[&#39;weight&#39;].value)
          &quot;weight&quot;: 1.0, #  ÈªòËÆ§Âä†ÊùÉ 1.0ÂÄç
          &quot;field_value_factor&quot;: { 
            &quot;field&quot;: &quot;weight&quot;, # ÂèÇ‰∏éËÆ°ÁÆóÁöÑÂ≠óÊÆµ
            &quot;modifier&quot;: &quot;log1p&quot;, # ËÆ°ÁÆóÂáΩÊï∞ÔºåÊúâÂçÅÊù•‰∏™ÂáΩÊï∞ÂèØ‰ª•Êü•ÁúãÊñáÊ°£ÔºåÁ§∫‰æã‰∏≠Ôºölog1p(1.2*doc[&#39;weight&#39;].value)ÔºåÂÖ∂ÂÆûÂíåscript_scoreËÆ°ÁÆóÂ∑Æ‰∏çÂ§öÔºåÂè™‰∏çËøáÊïàÁéáÊõ¥È´ò
            &quot;factor&quot;: 1.2, # ÂáΩÊï∞ÁöÑË∞ÉËäÇÁî®ÁöÑÂèÇÊï∞Ôºåfactor&gt;1‰ºöÊèêÂçáÊïàÊûúÔºåfactor&lt;1‰ºöÈôç‰ΩéÊïàÊûú
            &quot;missing&quot;: 1   # Ëã• weight Â≠óÊÆµ‰∏çÂ≠òÂú®ÔºåÂàôÈªòËÆ§‰∏∫1
          }
        },
        { # ÊâìÂàÜÂáΩÊï∞5Ôºö‰ΩøÁî®ËÑöÊú¨Êù•Ëá™ÂÆö‰πâ
          &quot;script_score&quot;: {
            &quot;source&quot;: &quot;params.a / Math.pow(params.b, doc[&#39;my-int&#39;].value)&quot;,
            &quot;params&quot;: {&quot;a&quot;: 5,&quot;b&quot;: 1.2},
          }
        }
      ],
      &quot;score_mode&quot;: &quot;avg&quot;, # ÂèÇÊï∞ score_mode ÊåáÂÆöÂ§ö‰∏™ÊâìÂàÜÂáΩÊï∞Â¶Ç‰ΩïÁªÑÂêàËÆ°ÁÆóÂá∫Êñ∞ÁöÑÂàÜÊï∞ÔºåavgÊ±ÇÂπ≥Âùá
      &quot;min_score&quot;: 2 # ‰∏∫‰∫ÜÊéíÈô§Êéâ‰∏Ä‰∫õÂàÜÊï∞Â§™‰ΩéÁöÑÁªìÊûúÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá min_score ÂèÇÊï∞ËÆæÁΩÆÊúÄÂ∞èÂàÜÊï∞ÈòàÂÄº
      &quot;boost_mode&quot;: &quot;multiply&quot;, # Â∞±ÊòØÊääÂéüÂßãÁöÑ query_score ‰∏éÊñ∞ÁöÑ func_score ËÆ°ÁÆóÂ∞±ÂæóÂà∞‰∫ÜÊúÄÁªàÁöÑ _score ÂàÜÊï∞
      &quot;max_boost&quot;: 42, # ‰∏∫‰∫ÜÈÅøÂÖçÊñ∞ÁöÑÂàÜÊï∞ÁöÑÊï∞ÂÄºËøáÈ´òÔºåÂèØ‰ª•ÈÄöËøá max_boost ÂèÇÊï∞ÂéªËÆæÁΩÆ‰∏äÈôê
    }
  }
}</code></pre>
<p><strong>Ê≥®ÊÑèÔºöËøôÈáåÂú®ÈáçÊñ∞ÊâìÂàÜÊó∂ÔºåÂ¶ÇÊûúÈÉΩÊèê‰æõ‰∫Ü <code>weight</code> Ëøô‰∏™ÂèÇÊï∞Ôºå‰∏î <code>score_mode=avg</code>ÔºåÈÇ£‰πàËÆ°ÁÆóÊúÄÁªà<code>func_score</code>Êó∂ÔºåÂ∫îËØ•ÊòØÂä†ÊùÉÂπ≥ÂùáÊï∞Ôºõ</strong></p>
<p>‰æãÂ¶ÇÔºöÊâìÂàÜÂáΩÊï∞1ÁöÑweight=2ÔºåÁÆóÂá∫Êù•ÁöÑÂÄºÊòØ3ÔºåÊâìÂàÜÂáΩÊï∞2ÁöÑweight=5ÔºåÁÆóÂá∫Êù•ÁöÑÂÄºÊòØ2ÔºåÂä†ÊùÉÂπ≥ÂùáÊï∞=<code>(2*3+5*2)/(2+5)</code></p>
<blockquote>
<p>  Áõ∏ÂÖ≥ÊñáÁ´†Ôºö</p>
<ul>
<li><a href="https://segmentfault.com/a/1190000037700644" target="_blank" rel="noopener">ES Ëá™ÂÆö‰πâÊâìÂàÜ Function score query</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1764235" target="_blank" rel="noopener">ElasticsearchÊé¢Á¥¢ÔºöÁõ∏ÂÖ≥ÊÄßÊâìÂàÜÊú∫Âà∂ API</a></li>
</ul>
</blockquote>
<br>

<h3 id="ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text-QueriesÔºâ"><a href="#ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text-QueriesÔºâ" class="headerlink" title="ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text QueriesÔºâ"></a><strong>ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text QueriesÔºâ</strong></h3><p>ÂÖ®ÊñáÊü•ËØ¢ËÉΩÂ§üÊêúÁ¥¢ÂàÜÊûêÂô®ÔºàanalyzerÔºâ<code>ÂàÜÊûêËøáÂêéÁöÑÊñáÊú¨Â≠óÊÆµ</code>Ôºå‰æãÂ¶ÇÂÜÖÂÆπÊ≠£ÊñáÔºõ‰ΩøÁî®Âú®Á¥¢ÂºïÊúüÈó¥Â∫îÁî®‰∫éÂ≠óÊÆµÁöÑÁõ∏ÂêåÂàÜÊûêÂô®Â§ÑÁêÜÊü•ËØ¢Â≠óÁ¨¶‰∏≤Ôºõ</p>
<p>Âú®ÂâçÈù¢ÁöÑÂÜÖÂÆπ‰∏≠ÊèêÂà∞Ôºö<strong>Âè™ÊúâÂ≠óÊÆµÁöÑÁ±ªÂûãÊòØ <code>text</code>ÁöÑÊâç‰ºö‰ΩøÁî®ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÂπ∂‰∏îÂÖ®ÊñáÊ£ÄÁ¥¢‰ºö‰ΩøÁî®Âà∞ÂàÜÊûêÂô®Ôºõ</strong></p>
<p>Âú®Êàë‰ª¨ÁöÑ <code>passage</code> Á¥¢Âºï‰∏≠Ôºå<code>title</code>Âíå<code>content</code>Â≠óÊÆµÈÉΩÊòØ<code>text</code>Á±ªÂûãÔºõÊâÄ‰ª•ÔºåËøô‰∏§‰∏™Â≠óÊÆµÁöÑÊêúÁ¥¢ÈÉΩ‰ºö‰ΩøÁî®Âà∞ik‰∏≠ÊñáÂàÜËØçÂô®Ôºõ</p>
<p>ÂÖ®ÊñáÊ£ÄÁ¥¢ÊØîËµ∑ÂâçÈù¢ÁöÑÂ§çÂêàÊ£ÄÁ¥¢Ë¶ÅÁÆÄÂçï‰∏ÄÁÇπÔºå‰∏ãÈù¢Êàë‰ª¨ÂàÜÂà´Êù•ÁúãÔºõ</p>
<p>ÂØπ‰∫é‰∏ãÈù¢ÁöÑËØ≠Âè•Ôºö</p>
<pre><code class="javascript">GET /passage/_search
{
  &quot;query&quot;: {
    &quot;match&quot;: {
      &quot;title&quot;: {
        &quot;query&quot;: &quot;ÊµãËØï&quot;
      }
    }
  }
}</code></pre>
<p>Âú®ËØ∑Ê±Ç‰Ωì‰∏≠Ôºå<code>match</code> ‰ª£Êõø‰∫Ü‰πãÂâçÁöÑ <code>bool</code>Ôºå<code>match</code>ÊòØÊ†áÂáÜÁöÑÂÖ®ÊñáÁ¥¢ÂºïÁöÑÊü•ËØ¢Ôºõ</p>
<p><code>match</code> ÂêéÈù¢ÁöÑÂ≠óÊÆµÊòØË¶ÅÊü•ËØ¢ÁöÑÂ≠óÊÆµÂêçÔºåÂ¶ÇÊûúÊúâÂ§ö‰∏™Â≠óÊÆµÔºåÂèØ‰ª•Âàó‰∏æÂ§ö‰∏™Ôºå<code>title</code>Â≠óÊÆµÈáåÁöÑ <code>query</code> Â∞±ÊòØË¶ÅÊü•ËØ¢ÁöÑÂÜÖÂÆπÔºõ</p>
<p>Ê≠§Â§ñÔºåËøòÂèØ‰ª•Âú®Â≠óÊÆµ‰∏≠ÊåáÂÆöÂàÜÊûêÂô®Ôºå‰ΩøÁî® <code>analyzer</code> ÂÖ≥ÈîÆÂ≠óÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÔºåÈªòËÆ§Â∞±ÊòØÁ¥¢ÂºïÁöÑÂàÜÊûêÂô®Ôºõ</p>
<p>ÊâßË°å‰∏äÈù¢ÁöÑÊü•ËØ¢ÔºåÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  ......
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 3,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 0.17426977,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;1&quot;,
        &quot;_score&quot; : 0.17426977,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_score&quot; : 0.14181954,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï2&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;wicds4EB0KdGOS9dT4Pr&quot;,
        &quot;_score&quot; : 0.10333586,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;Ëá™Âä®ÂàõÂª∫IdÊµãËØï&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™Ëá™Âä®ÂàõÂª∫IdÊµãËØïÂÜÖÂÆπ&quot;
        }
      }
    ]
  }
}</code></pre>
<p>ÂèØ‰ª•ÁúãÂà∞Áõ∏Â∫îÁöÑÊï∞ÊçÆÂ∑≤ÁªèÊ£ÄÁ¥¢Âá∫Êù•‰∫ÜÔºõ</p>
<p>ÂÖ®ÊñáÊ£ÄÁ¥¢‰πüÂåÖÊã¨‰∫ÜËÆ∏Â§öÁ±ªÂûãÔºå‰∏ãÈù¢Êàë‰ª¨‰∏Ä‰∏ÄÊù•ÁúãÔºõ</p>
<br>

<h4 id="match"><a href="#match" class="headerlink" title="match"></a><strong>match</strong></h4><p>matchÊü•ËØ¢ÊòØÊâßË°åÂÖ®ÊñáÊêúÁ¥¢ÁöÑÊ†áÂáÜÊü•ËØ¢ÔºåÂåÖÊã¨‰∫ÜÁî®‰∫éÊ®°Á≥äÂåπÈÖçÁöÑÈÄâÈ°πÔºõ</p>
<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ match Êü•ËØ¢ÁöÑÊ†áÂáÜÂèÇÊï∞Ôºö</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;match&quot;: { # matchÂÖ≥ÈîÆÂ≠ó
      &quot;message&quot;: { # ÔºàÂøÖÈúÄÔºåÂØπË±°ÔºâË¶ÅÊêúÁ¥¢ÁöÑÂ≠óÊÆµ„ÄÇ
        &quot;query&quot;: &quot;this is a test&quot;, # Ë¶ÅÊü•ËØ¢ÁöÑÂÜÖÂÆπ
        &quot;analyzer&quot;:{...}, # ÔºàÂèØÈÄâÔºåÂ≠óÁ¨¶‰∏≤ÔºâÂàÜÊûêÂô®
        &quot;operator&quot;:&quot;&quot;, #ÔºàÂèØÈÄâÔºåÂ≠óÁ¨¶‰∏≤ÔºâÁî®‰∫éËß£ÈáäqueryÂÄº‰∏≠ÊñáÊú¨ÁöÑÂ∏ÉÂ∞îÈÄªËæë„ÄÇÊúâÊïàÂÄº‰∏∫ÔºöOR AND
        &quot;fuzziness&quot;:&quot;&quot;, #ÔºàÂèØÈÄâÔºåÂ≠óÁ¨¶‰∏≤ÔºâÂÖÅËÆ∏ÂåπÈÖçÁöÑÊúÄÂ§ßÁºñËæëË∑ùÁ¶ª„ÄÇ
        &quot;max_expansions&quot;:50, # ÔºàÂèØÈÄâÔºåÊï¥Êï∞ÔºâÊü•ËØ¢Â∞ÜÊâ©Â±ïÂà∞ÁöÑÊúÄÂ§ßÊúØËØ≠Êï∞„ÄÇÈªòËÆ§‰∏∫50
        &quot;prefix_length&quot;:0, #ÔºàÂèØÈÄâÔºåÊï¥Êï∞ÔºâÁî®‰∫éÊ®°Á≥äÂåπÈÖçÁöÑËµ∑ÂßãÂ≠óÁ¨¶Êï∞‰øùÊåÅ‰∏çÂèò„ÄÇÈªòËÆ§‰∏∫0
        &quot;fuzzy_transpositions&quot;:0, #ÂèØÈÄâÔºåÂ∏ÉÂ∞îÂÄºÔºâÂ¶ÇÊûútrueÔºåÊ®°Á≥äÂåπÈÖçÁöÑÁºñËæëÂåÖÊã¨‰∏§‰∏™Áõ∏ÈÇªÂ≠óÁ¨¶ÁöÑÊç¢‰ΩçÔºàab ‚Üí baÔºâÈªòËÆ§‰∏∫true
        &quot;fuzzy_rewrite&quot;:&quot;&quot;, #ÔºàÂèØÈÄâÔºåÂ≠óÁ¨¶‰∏≤ÔºâÁî®‰∫éÈáçÂÜôÊü•ËØ¢ÁöÑÊñπÊ≥ï„ÄÇ
        &quot;lenient&quot;:false #ÔºàÂèØÈÄâÔºåÂ∏ÉÂ∞îÂÄºÔºâÂ¶ÇÊûúÔºåÂàôÂøΩÁï•trueÂü∫‰∫éÊ†ºÂºèÁöÑÈîôËØØ
      }
    }
  }
}</code></pre>
<br>

<h4 id="intervals"><a href="#intervals" class="headerlink" title="intervals"></a><strong>intervals</strong></h4><p>‰∏∫‰∫ÜÊõ¥Âä†ÁÆÄÂçïÁÅµÊ¥ªÁöÑÊéßÂà∂Êü•ËØ¢Êó∂Â≠óÁ¨¶‰∏≤Âú®ÊñáÊú¨‰∏≠ÂåπÈÖçÁöÑ<code>Ë∑ùÁ¶ª</code>‰∏é<code>ÂÖàÂêéÈ°∫Â∫è</code>ÔºåES Âú® 7.0 ‰∏≠ÂºïÂÖ•‰∫Üintervals queryÔºåÁî®Êà∑ÂèØÂçï‰∏ÄÊàñËÄÖÁªÑÂêàÂ§ö‰∏™ËßÑÂàôÈõÜÂêàÂú®Êüê‰∏Ä‰∏™ÁâπÂÆöÁöÑ<code>text field</code>‰∏äËøõË°åÊìç‰ΩúÔºõ</p>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="json">GET /passage/_search
{
  &quot;query&quot;: {
    &quot;intervals&quot; : { # intervalsÊü•ËØ¢ÂÖ≥ÈîÆÂ≠ó
      &quot;content&quot; : { # ÔºàÂøÖÈúÄÔºåËßÑÂàôÂØπË±°ÔºâË¶ÅÊêúÁ¥¢ÁöÑtextÂ≠óÊÆµ
        &quot;all_of&quot; : { # ÂåπÈÖçËßÑÂàôÔºåÊúâÊïàËßÑÂàôÂåÖÊã¨Ôºömatch„ÄÅprefix„ÄÅwildcard„ÄÅfuzzy„ÄÅall_of„ÄÅany_of
          &quot;ordered&quot; : true, # all_ofËßÑÂàôÂèÇÊï∞ÔºàÂèØÈÄâÔºåÂ∏ÉÂ∞îÂÄºÔºâÂ¶ÇÊûútrueÔºåËßÑÂàô‰∫ßÁîüÁöÑÈó¥ÈöîÂ∫îÊåâÊåáÂÆöÁöÑÈ°∫Â∫èÂá∫Áé∞ÔºåÈªòËÆ§‰∏∫false„ÄÇ
          &quot;intervals&quot; : [ # all_ofËßÑÂàôÂèÇÊï∞ÔºàÂøÖÈúÄÔºåËßÑÂàôÂØπË±°Êï∞ÁªÑÔºâË¶ÅÁªÑÂêàÁöÑËßÑÂàôÊï∞ÁªÑ„ÄÇ
            { # Â≠êËßÑÂàô1
              &quot;match&quot; : {
                &quot;query&quot; : &quot;‰∏Ä‰∏™ ÊµãËØï&quot;,
                &quot;max_gaps&quot; : 0,
                &quot;ordered&quot; : true
              }
            },
            { # Â≠êËßÑÂàô2
              &quot;any_of&quot; : {
                &quot;intervals&quot; : [
                  { &quot;match&quot; : { &quot;query&quot; : &quot;2&quot; } },
                  { &quot;match&quot; : { &quot;query&quot; : &quot;Ëá™Âä®&quot; } }
                ]
              }
            }
          ]
        },
        &quot;boost&quot; : 2.0,
        &quot;_name&quot; : &quot;passage_content&quot;
      }
    }
  }
}</code></pre>
<p>ÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">{
  ......
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 1,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 0.6666666,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;passage&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_score&quot; : 0.6666666,
        &quot;_source&quot; : {
          &quot;title&quot; : &quot;ÊµãËØï2&quot;,
          &quot;content&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ÊµãËØïÂÜÖÂÆπ2&quot;,
          &quot;comment&quot; : &quot;ËøôÊòØ‰∏Ä‰∏™ËØÑËÆ∫2&quot;
        },
        &quot;matched_queries&quot; : [
          &quot;passage_content&quot;
        ]
      }
    ]
  }
}</code></pre>
<br>

<h4 id="match-bool-prefix"><a href="#match-bool-prefix" class="headerlink" title="match_bool_prefix"></a><strong>match_bool_prefix</strong></h4><p>Êü•ËØ¢Â§ÑÁêÜÊµÅÁ®ãÔºö</p>
<ul>
<li>ÂØπÊü•ËØ¢ÁöÑÂÜÖÂÆπËøõË°åÂàÜËØçÔºõ</li>
<li>ÁÑ∂ÂêéÊûÑÈÄ†boolÊü•ËØ¢Ôºõ</li>
<li>ÂØπÊØè‰∏™ÂàÜËØç(Èô§‰∫ÜÊúÄÂêé‰∏Ä‰∏™ÂàÜËØç)‰ΩøÁî®termÊü•ËØ¢Ôºõ</li>
<li>‰ΩÜÂØπÊúÄÂêé‰∏Ä‰∏™ÂàÜËØçÈááÁî®prefixÊü•ËØ¢Ôºõ</li>
</ul>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;match_bool_prefix&quot;: { # Êü•ËØ¢ÂÖ≥ÈîÆËØç
      &quot;message&quot;: { # Êü•ËØ¢Â≠óÊÆµ
        &quot;query&quot;: &quot;quick brown f&quot;, # Ë¢´Êü•ËØ¢ÁöÑËØçÔºåË¢´ÂàÜ‰∏∫3‰∏™ËØçquick„ÄÅbrown„ÄÅf„ÄÇÂÖ∂‰∏≠quick‰∏ébrown‰ΩøÁî®termÊü•ËØ¢Ôºåp‰ΩøÁî®prefixÊü•ËØ¢
        &quot;analyzer&quot;: &quot;keyword&quot; # ÊåáÂÆöÂàÜÊûêÂô®
      }
    }
  }
}</code></pre>
<br>

<h4 id="match-phrase"><a href="#match-phrase" class="headerlink" title="match_phrase"></a><strong>match_phrase</strong></h4><p>match_phrase ÂèØ‰ª•Êü•ËØ¢ÂàÜÊûêÊñáÊú¨ÔºåÂπ∂‰ªéÂàÜÊûêÁöÑÊñáÊú¨‰∏≠ÂàõÂª∫Áü≠ËØ≠Êü•ËØ¢Ôºõ</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;match_phrase&quot;: {
      &quot;message&quot;: {
        &quot;query&quot;: &quot;quick brown fox&quot;,
        &quot;analyzer&quot;: &quot;my_analyzer&quot;
      }
    }
  }
}</code></pre>
<p>Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÂØπ‰∫éÂåπÈÖç‰∫ÜÁü≠ËØ≠‚Äùquick brown fox‚ÄùÁöÑÊñáÊ°£Ôºå‰∏ãÈù¢ÁöÑÊù°‰ª∂ÂøÖÈ°ª‰∏∫trueÔºö</p>
<ul>
<li>quick„ÄÅbrownÂíåfoxÂøÖÈ°ªÂÖ®ÈÉ®Âá∫Áé∞Âú®Êüê‰∏™Â≠óÊÆµ‰∏≠Ôºõ</li>
<li>brownÁöÑ‰ΩçÁΩÆÂøÖÈ°ªÊØîquickÁöÑ‰ΩçÁΩÆÂ§ß1Ôºõ</li>
<li>foxÁöÑ‰ΩçÁΩÆÂøÖÈ°ªÊØîquickÁöÑ‰ΩçÁΩÆÂ§ß2Ôºõ</li>
</ul>
<p>Â¶ÇÊûú‰ª•‰∏äÁöÑ‰ªª‰Ωï‰∏Ä‰∏™Êù°‰ª∂Ê≤°ÊúâË¢´Êª°Ë∂≥ÔºåÈÇ£‰πàÊñáÊ°£Â∞±‰∏çËÉΩË¢´ÂåπÈÖçÔºÅ</p>
<br>

<h4 id="match-phrase-prefix"><a href="#match-phrase-prefix" class="headerlink" title="match_phrase_prefix"></a><strong>match_phrase_prefix</strong></h4><p>match_phrase_prefixÂíåmatch_phraseÊòØÁõ∏ÂêåÁöÑÔºåÈô§‰∫ÜÂÆÉÂÖÅËÆ∏ÊñáÊú¨‰∏≠ÊúÄÂêé‰∏ÄÈ°π‰ΩøÁî®ÂâçÁºÄÂåπÈÖçÔºõ</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;match_phrase_prefix&quot;: {
      &quot;message&quot;: {
        &quot;query&quot;: &quot;quick brown f&quot; # Ê≥®ÊÑèÔºåÂàÜËØçÁöÑÊúÄÂêé‰∏ÄÈ°πf‰ΩøÁî®ÂâçÁºÄÂåπÈÖç
        &quot;max_expansions&quot;:50, # ËøôÈáåÂèØ‰ª•ÁêÜËß£ÂâçÁºÄÊü•ËØ¢fÈúÄÂú®Â§öÂ∞ë‰∏™ËØçÂÜÖÊü•ËØ¢Âà∞
        &quot;analyzer&quot;:ik  
      }
    }
  }
}</code></pre>
<br>

<h4 id="multi-match"><a href="#multi-match" class="headerlink" title="multi_match"></a><strong>multi_match</strong></h4><p>multi_match Êü•ËØ¢Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÆÄ‰æøÁöÑÊñπÊ≥ïÁî®Êù•ÂØπÂ§ö‰∏™Â≠óÊÆµÊâßË°åÁõ∏ÂêåÁöÑÊü•ËØ¢Ôºõ</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;multi_match&quot; : { # ÂÖ≥ÈîÆÂ≠ó
      &quot;query&quot;:      &quot;brown fox&quot;, # Êü•ËØ¢Â≠óÁ¨¶‰∏≤ÔºåÁªèÂàÜÊûêÂô®Â§ÑÁêÜÂêé
      &quot;type&quot;:       &quot;best_fields&quot;, # Â§ÑÁêÜÁ±ªÂûã
      &quot;fields&quot;:     [ &quot;subject&quot;, &quot;message&quot; ], # ÂæÖÂ§ÑÁêÜÁöÑÂ≠óÊÆµÂàóË°®
      &quot;tie_breaker&quot;: 0.3 
    }
  }
}</code></pre>
<br>

<h4 id="combined-fields"><a href="#combined-fields" class="headerlink" title="combined_fields"></a><strong>combined_fields</strong></h4><p>ÊîØÊåÅÊü•ËØ¢Â§ö‰∏™Â≠óÊÆµÔºåÊØîÂ¶ÇÊñáÁ´†ÁöÑÊ†áÈ¢ò„ÄÅÊ≠£Êñá„ÄÅÊèèËø∞Ôºå‰πüÂèØ‰ª•‰ΩøÁî®<code>^</code>Â≠óÁ¨¶ÊèêÂçáÊüê‰∏™Â≠óÊÆµÁöÑÊùÉÈáçÔºåÂêåÊó∂‰πüÊîØÊåÅÈÄöÈÖçÁ¨¶Ôºõ</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;combined_fields&quot; : {
      &quot;query&quot;:      &quot;database systems&quot;,
      &quot;fields&quot;:     [ &quot;title&quot;, &quot;abstract&quot;, &quot;body&quot;],
      &quot;operator&quot;:   &quot;and&quot;
    }
  }
}</code></pre>
<br>

<h4 id="query-string"><a href="#query-string" class="headerlink" title="query_string"></a><strong>query_string</strong></h4><p>query_stringÊòØ‰ΩøÁî®Êü•ËØ¢Ëß£ÊûêÂô®Êù•Ëß£ÊûêÂÖ∂ÂÜÖÂÆπÁöÑÊü•ËØ¢Ôºõ</p>
<ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax" target="_blank" rel="noopener">ÂÆòÊñπÊü•ËØ¢Â≠óÁ¨¶‰∏≤ËØ≠Ê≥ï</a></li>
</ul>
<pre><code class="json">GET /_search
{
    &quot;query&quot;: {
        &quot;query_string&quot; : {
            &quot;default_field&quot; : &quot;content&quot;, # ÈªòËÆ§Â≠óÁ¨¶‰∏≤
            &quot;query&quot; : &quot;this AND that OR thus&quot; # Êü•ËØ¢ËØ≠Ê≥ï
        }
    }
}</code></pre>
<br>

<h4 id="simple-query-string"><a href="#simple-query-string" class="headerlink" title="simple_query_string"></a><strong>simple_query_string</strong></h4><p>Áõ∏ÊØîquery_stringÔºå‰∏çÊîØÊåÅ AND OR NOTÔºå‰ΩÜ‰ºöÂΩì‰ΩúÂ≠óÁ¨¶‰∏≤Â§ÑÁêÜÔºåTerm ‰πãÈó¥ÈªòËÆ§ÁöÑÂÖ≥Á≥ªÊòØ ORÔºåÂèØ‰ª•ÊåáÂÆö <code>Operator+</code>Êõø‰ª£<code>AND</code>Ôºå<code>|</code>Êõø‰ª£<code>OR</code>Ôºå<code>-</code>Êõø‰ª£<code>NOT</code>Ôºõ</p>
<br>

<h3 id="Geo-Âú∞ÁêÜÊü•ËØ¢"><a href="#Geo-Âú∞ÁêÜÊü•ËØ¢" class="headerlink" title="Geo(Âú∞ÁêÜÊü•ËØ¢)"></a><strong>Geo(Âú∞ÁêÜÊü•ËØ¢)</strong></h3><p>Elasticsearch ÊîØÊåÅ‰∏§ÁßçÁ±ªÂûãÁöÑÂú∞ÁêÜÊï∞ÊçÆÔºö</p>
<ul>
<li><code>geo_point</code>Â≠óÊÆµÔºåÊîØÊåÅÁ∫¨Â∫¶/ÁªèÂ∫¶Ôºõ</li>
<li><code>geo_shape</code>Â≠óÊÆµÔºåÊîØÊåÅÁÇπ„ÄÅÁ∫ø„ÄÅÂúÜ„ÄÅÂ§öËæπÂΩ¢„ÄÅÂ§öÂ§öËæπÂΩ¢Á≠âÔºõ</li>
</ul>
<p>‰∏ªË¶ÅÂåÖÊã¨‰∏ãÈù¢Âá†Á±ªÔºö</p>
<ul>
<li>geo_bounding_box(Áü©ÂΩ¢ÂÜÖÁöÑÁÇπÁöÑÊñáÊ°£)Ôºõ</li>
<li>geo_distance(‰∏≠ÂøÉÁÇπÊåáÂÆöË∑ùÁ¶ªÂÜÖÁöÑÊñáÊ°£)Ôºõ</li>
<li>geo_polygon(Â§öËæπÂΩ¢ÂÜÖÁöÑÊñáÊ°£)Ôºõ</li>
<li>geo_shape(Áõ∏‰∫§„ÄÅÂåÖÂê´„ÄÅ‰∏çÁõ∏‰∫§ÁöÑÂΩ¢Áä∂)Ôºõ</li>
</ul>
<br>

<h3 id="Shape-queries-ÂΩ¢Áä∂Êü•ËØ¢"><a href="#Shape-queries-ÂΩ¢Áä∂Êü•ËØ¢" class="headerlink" title="Shape queries(ÂΩ¢Áä∂Êü•ËØ¢)"></a><strong>Shape queries(ÂΩ¢Áä∂Êü•ËØ¢)</strong></h3><p>Elasticsearch ÊîØÊåÅÁ¥¢Âºï‰ªªÊÑè‰∫åÁª¥ÔºàÈùûÂú∞ÁêÜÁ©∫Èó¥ÔºâÂá†‰ΩïÁöÑËÉΩÂäõÔºåËøô‰ΩøÂæóÁªòÂà∂ËôöÊãü‰∏ñÁïå„ÄÅ‰ΩìËÇ≤Âú∫È¶Ü„ÄÅ‰∏ªÈ¢òÂÖ¨Âõ≠Âíå CAD ÂõæË°®Êàê‰∏∫ÂèØËÉΩÔºõ</p>
<p>Êü•ËØ¢Á±ªÂûã‰∏∫ <code>shape</code>Ôºõ</p>
<p>‰ª•‰∏ãÊòØÂèØÁî®Á©∫Èó¥ÂÖ≥Á≥ªËøêÁÆóÁ¨¶ÁöÑÂÆåÊï¥ÂàóË°®Ôºö</p>
<ul>
<li><p>INTERSECTSÔºöÔºàÈªòËÆ§ÔºâËøîÂõûshapeÂ≠óÊÆµ‰∏éÊü•ËØ¢Âá†‰ΩïÁõ∏‰∫§ÁöÑÊâÄÊúâÊñáÊ°£Ôºõ</p>
</li>
<li><p>DISJOINTÔºöËøîÂõûÂÖ∂shapeÂ≠óÊÆµ‰∏éÊü•ËØ¢Âá†‰ΩïÊ≤°ÊúâÂÖ±Âêå‰πãÂ§ÑÁöÑÊâÄÊúâÊñáÊ°£Ôºõ</p>
</li>
<li><p>WITHINÔºöËøîÂõûÂÖ∂shapeÂ≠óÊÆµÂú®Êü•ËØ¢Âá†‰ΩïËåÉÂõ¥ÂÜÖÁöÑÊâÄÊúâÊñáÊ°£Ôºõ</p>
</li>
<li><p>CONTAINSÔºöËøîÂõûÂÖ∂shapeÂ≠óÊÆµÂåÖÂê´Êü•ËØ¢Âá†‰ΩïÁöÑÊâÄÊúâÊñáÊ°£Ôºõ</p>
</li>
</ul>
<pre><code class="json">GET /example/_search
{
  &quot;query&quot;: {
    &quot;shape&quot;: {
      &quot;geometry&quot;: {
        &quot;shape&quot;: {
          &quot;type&quot;: &quot;envelope&quot;,
          &quot;coordinates&quot;: [
            [
              1355,
              5355
            ],
            [
              1400,
              5200
            ]
          ]
        },
        &quot;relation&quot;: &quot;within&quot;
      }
    }
  }
}</code></pre>
<br>

<h3 id="Joining-queries-Âä†ÂÖ•Êü•ËØ¢"><a href="#Joining-queries-Âä†ÂÖ•Êü•ËØ¢" class="headerlink" title="Joining queries(Âä†ÂÖ•Êü•ËØ¢)"></a><strong>Joining queries(Âä†ÂÖ•Êü•ËØ¢)</strong></h3><p>Âú®ÂÉè Elasticsearch ËøôÊ†∑ÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÊâßË°åÂÆåÊï¥ÁöÑSQLÈ£éÊ†ºÁöÑËøûÊé•ÊòØÈùûÂ∏∏ÊòÇË¥µÁöÑÔºõÁõ∏ÂèçÔºåElasticsearch Êèê‰æõ‰∫Ü‰∏§ÁßçÂΩ¢ÂºèÁöÑËøûÊé•ÔºåÊó®Âú®Ê∞¥Âπ≥Êâ©Â±ïÔºõ</p>
<ul>
<li>nested(ÂµåÂ•óÊü•ËØ¢)Ôºõ</li>
<li>has_child and has_parent(ÊúâÂ≠êÊü•ËØ¢ÔºåÊúâÁà∂Êü•ËØ¢)Ôºõ</li>
</ul>
<p>‰æãÂ¶ÇÔºö</p>
<pre><code class="json"># ÂÆö‰πânested
PUT /my-index-000001
{
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;obj1&quot;: {
        &quot;type&quot;: &quot;nested&quot; # ËøôÈáåÁ±ªÂûãËÆæÁΩÆ‰∏∫nested
      }
    }
  }
}
# ‰ΩøÁî®nestedÊü•ËØ¢
GET /my-index-000001/_search
{
  &quot;query&quot;: {
    &quot;nested&quot;: { # Êü•ËØ¢ÂÖ≥ÈîÆÂ≠ó
      &quot;path&quot;: &quot;obj1&quot;,  # ÊÇ®Â∏åÊúõÊêúÁ¥¢Ë∑ØÂæÑÂµåÂ•óÂØπË±°
      &quot;score_mode&quot;: &quot;avg&quot;, # ËÆæÁΩÆÂÜÖÈÉ®childrenÂåπÈÖçÂΩ±ÂìçparentÊñáÊ°£„ÄÇÈªòËÆ§ÊòØavgÔºå‰ΩÜÊòØ‰πüÂèØ‰ª•ËÆæÁΩÆ‰∏∫sum„ÄÅmin„ÄÅmaxÂíånone
      &quot;query&quot;: { # Êü•ËØ¢ËØ≠Ê≥ï
        &quot;bool&quot;: {
          &quot;must&quot;: [
            { &quot;match&quot;: { &quot;obj1.name&quot;: &quot;blue&quot; } },
            { &quot;range&quot;: { &quot;obj1.count&quot;: { &quot;gt&quot;: 5 } } }
          ]
        }
      }
    }
  }
}</code></pre>
<br>

<h3 id="Match-All-None-ÂåπÈÖçÊâÄÊúâ"><a href="#Match-All-None-ÂåπÈÖçÊâÄÊúâ" class="headerlink" title="Match All/None(ÂåπÈÖçÊâÄÊúâ)"></a><strong>Match All/None(ÂåπÈÖçÊâÄÊúâ)</strong></h3><p>match_all(ÂåπÈÖçÊâÄÊúâÊñáÊ°£)Ôºö</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;match_all&quot;: { &quot;boost&quot; : 1.2 }
  }
}</code></pre>
<p>match_none(‰∏çÂåπÊâÄÊúâÊñáÊ°£)Ôºö</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;match_none&quot;: {}
  }
}</code></pre>
<br>

<h3 id="Span-queries-ËåÉÂõ¥Êü•ËØ¢"><a href="#Span-queries-ËåÉÂõ¥Êü•ËØ¢" class="headerlink" title="Span queries(ËåÉÂõ¥Êü•ËØ¢)"></a><strong>Span queries(ËåÉÂõ¥Êü•ËØ¢)</strong></h3><ul>
<li>span_containingÔºõ</li>
<li>span_field_maskingÔºõ</li>
<li>span_firstÔºõ</li>
<li>span_multiÔºõ</li>
<li>span_nearÔºõ</li>
<li>span_notÔºõ</li>
<li>span_orÔºõ</li>
<li>span_termÔºõ</li>
<li>span_withinÔºõ</li>
</ul>
<br>

<h3 id="Specialized-queries-‰∏ì‰∏öÊü•ËØ¢"><a href="#Specialized-queries-‰∏ì‰∏öÊü•ËØ¢" class="headerlink" title="Specialized queries(‰∏ì‰∏öÊü•ËØ¢)"></a><strong>Specialized queries(‰∏ì‰∏öÊü•ËØ¢)</strong></h3><ul>
<li>distance_featureÔºõ</li>
<li>more_like_this(Áõ∏‰ººÂ∫¶Êü•ËØ¢)Ôºõ</li>
<li>percolateÔºõ</li>
<li>rank_featureÔºõ</li>
<li>scriptÔºõ</li>
<li>script_scoreÔºõ</li>
<li>wrapperÔºõ</li>
<li>pinnedÔºõ</li>
</ul>
<br>

<h3 id="Term-level-queries-ÊúØËØ≠Á∫ßÊü•ËØ¢"><a href="#Term-level-queries-ÊúØËØ≠Á∫ßÊü•ËØ¢" class="headerlink" title="Term-level queries(ÊúØËØ≠Á∫ßÊü•ËØ¢)"></a><strong>Term-level queries(ÊúØËØ≠Á∫ßÊü•ËØ¢)</strong></h3><p>Ê†πÊçÆÁªìÊûÑÂåñÊï∞ÊçÆ‰∏≠ÁöÑ<code>Á≤æÁ°ÆÂÄº</code>Êü•ÊâæÊñáÊ°£Ôºõ</p>
<p><code>ÁªìÊûÑÂåñÊï∞ÊçÆ</code>ÊåáÁöÑÊòØÔºå‰æãÂ¶ÇÔºöÊó•ÊúüËåÉÂõ¥„ÄÅIP Âú∞ÂùÄ„ÄÅ‰ª∑Ê†ºÊàñ‰∫ßÂìÅ IDÁ≠âÔºõ</p>
<p><strong>‰∏éÂÖ®ÊñáÊü•ËØ¢‰∏çÂêåÔºåËØçÁ∫ßÊü•ËØ¢‰∏çÂàÜÊûêÊêúÁ¥¢ËØçÔºåÁõ∏ÂèçÔºåÊúØËØ≠Á∫ßÂà´ÁöÑÊü•ËØ¢‰∏éÂ≠òÂÇ®Âú®Â≠óÊÆµ‰∏≠ÁöÑÁ°ÆÂàáÊúØËØ≠Áõ∏ÂåπÈÖçÔºõ</strong></p>
<h4 id="exists"><a href="#exists" class="headerlink" title="exists"></a><strong>exists</strong></h4><p>existË°®Á§∫ÔºöÂåÖÂê´Â≠óÊÆµÁ¥¢ÂºïÂÄºÁöÑÊñáÊ°£ÔºåÂèØ‰ª•ÁêÜËß£ÊàêMySQL‰∏≠ÁöÑ<code>is not null</code></p>
<pre><code class="json"># Êü•ÊâæÊåáÂÆöÂ≠óÊÆµÂ≠òÂú®ÁöÑÊñáÊ°£
GET /_search
{
  &quot;query&quot;: {
    &quot;exists&quot;: {
      &quot;field&quot;: &quot;user&quot; # ÂøÖÈ°ªÔºåÊåáÂÆöÁöÑÂ≠óÊÆµÔºåÊ≠§Â≠óÊÆµÂøÖÈ°ªÂåÖÂê´ÂÄº„ÄÇ‰∏çÂ≠òÂú®ÔºönullÂíå[]ÔºåÂ≠òÂú®Ôºö&quot;&quot;,&quot;-&quot;,[null,&quot;foo&quot;]
    }
  }
}</code></pre>
<br>

<h4 id="fuzzy"><a href="#fuzzy" class="headerlink" title="fuzzy"></a><strong>fuzzy</strong></h4><p> fuzzyË°®Á§∫ÔºöÂåÖÂê´‰∏éÊêúÁ¥¢ËØçÁõ∏‰ººÁöÑËØçÁöÑÊñáÊ°£Ôºõ</p>
<pre><code class="json"># ‰∏∫‰∫ÜÊü•ÊâæÁõ∏‰ººÁöÑÊúØËØ≠ÔºåfuzzyÊü•ËØ¢‰ºöÂú®ÊåáÂÆöÁöÑÁºñËæëË∑ùÁ¶ªÂÜÖÂàõÂª∫‰∏ÄÁªÑÊêúÁ¥¢ÊúØËØ≠ÁöÑÊâÄÊúâÂèØËÉΩÂèò‰ΩìÊàñÊâ©Â±ï„ÄÇÁÑ∂ÂêéÊü•ËØ¢ËøîÂõûÊØè‰∏™Êâ©Â±ïÁöÑÁ≤æÁ°ÆÂåπÈÖç„ÄÇ
GET /_search
{
  &quot;query&quot;: {
    &quot;fuzzy&quot;: { 
      &quot;user.id&quot;: { # ÂøÖÈ°ªÔºåË¶ÅÊêúÁ¥¢ÁöÑÂ≠óÊÆµ
        &quot;value&quot;: &quot;ki&quot;, # ÂøÖÈ°ªÔºåÂæÖÊêúÁ¥¢ÁöÑÂÄº
        &quot;fuzziness&quot;: &quot;AUTO&quot;, # ÂÖÅËÆ∏ÂåπÈÖçÁöÑÊúÄÂ§ßÁºñËæëË∑ùÁ¶ª
        &quot;max_expansions&quot;: 50, # ÂàõÂª∫ÁöÑÊúÄÂ§ßÂèò‰ΩìÊï∞„ÄÇÈªòËÆ§‰∏∫50
        &quot;prefix_length&quot;: 0, # ÂàõÂª∫Êâ©Â±ïÊó∂‰øùÊåÅ‰∏çÂèòÁöÑËµ∑ÂßãÂ≠óÁ¨¶Êï∞„ÄÇÈªòËÆ§‰∏∫0
        &quot;transpositions&quot;: true, # ÊòØÂê¶ÂåÖÊã¨‰∏§‰∏™Áõ∏ÈÇªÂ≠óÁ¨¶ÁöÑÊç¢‰ΩçÔºàab ‚Üí baÔºâ„ÄÇÈªòËÆ§‰∏∫true
        &quot;rewrite&quot;: &quot;constant_score&quot; # ÈáçÂÜôÊü•ËØ¢ÁöÑÊñπÊ≥ï„ÄÇ
      }
    }
  }
}</code></pre>
<br>

<h4 id="ids"><a href="#ids" class="headerlink" title="ids"></a><strong>ids</strong></h4><p>idsÁî®‰∫éÊü•_idÂÄºÂØπÂ∫îÁöÑÊñáÊ°£Ôºõ</p>
<pre><code class="json"># Ê†πÊçÆÊñáÊ°£ÁöÑ ID ËøîÂõûÊñáÊ°£„ÄÇÊ≠§Êü•ËØ¢‰ΩøÁî®Â≠òÂÇ®Âú®_idÂ≠óÊÆµ‰∏≠ÁöÑÊñáÊ°£ ID
GET /_search
{
  &quot;query&quot;: {
    &quot;ids&quot; : {
      &quot;values&quot; : [&quot;1&quot;, &quot;4&quot;, &quot;100&quot;] # ÂøÖÈúÄÔºåÂ≠óÁ¨¶‰∏≤Êï∞ÁªÑÔºåÊñáÊ°£_idÊï∞ÁªÑ
    }
  }
}</code></pre>
<br>

<h4 id="prefix"><a href="#prefix" class="headerlink" title="prefix"></a><strong>prefix</strong></h4><p>prefixÁî®‰∫éÊü•ÂâçÁºÄÔºõ</p>
<pre><code class="json"># ÂåÖÂê´ÁâπÂÆöÂâçÁºÄÁöÑÊñáÊ°£
GET /_search
{
  &quot;query&quot;: {
    &quot;prefix&quot;: { 
      &quot;user.id&quot;: { # Â≠óÊÆµÂêç
        &quot;value&quot;: &quot;ki&quot; # ÂæÖÊêúÁ¥¢ÁöÑÂÄº
      }
    }
  }
}</code></pre>
<br>

<h4 id="range"><a href="#range" class="headerlink" title="range"></a><strong>range</strong></h4><p>rangeÁî®‰∫éËåÉÂõ¥Êü•ËØ¢ÔºåÂèØ‰ª•ÁêÜËß£‰∏∫MySQL‰∏≠ÁöÑ<code>between</code>Ôºõ</p>
<pre><code class="json"># Êï∞Â≠óÊàñÊó∂Èó¥ËåÉÂõ¥ÂåπÈÖç
GET /_search
{
  &quot;query&quot;: {
    &quot;range&quot;: { # ËåÉÂõ¥Êü•ËØ¢
      &quot;age&quot;: { # Â≠óÊÆµÂêç
        &quot;gte&quot;: 10, # Êìç‰ΩúÁ¨¶ gt(&gt;) gte(&gt;=) lt(&lt;) lte(&lt;=)
        &quot;lte&quot;: 20,
        &quot;format&quot;: &quot;yyyy/MM/dd&quot;, # Áî®‰∫éËΩ¨Êç¢dateÊü•ËØ¢‰∏≠ÂÄºÁöÑÊó•ÊúüÊ†ºÂºè
        &quot;time_zone&quot;: &quot;&quot;, # ÊåáÂÆöÊó∂Âå∫
        &quot;boost&quot;: 2.0 # Â¢ûÂáèÊü•ËØ¢ÂèÇÊï∞
      }
    }
  }
}</code></pre>
<br>

<h4 id="regexp"><a href="#regexp" class="headerlink" title="regexp"></a><strong>regexp</strong></h4><p>regexpË°®Á§∫Ê≠£ÂàôË°®ËææÂºèÂåπÈÖçÔºõ</p>
<pre><code class="json"># Ê≠£ÂàôË°®ËææÂºè
GET /_search
{
  &quot;query&quot;: {
    &quot;regexp&quot;: {
      &quot;user.id&quot;: { # Ë¶ÅÊêúÁ¥¢ÁöÑÂ≠óÊÆµ
        &quot;value&quot;: &quot;k.*y&quot;, # Ê≠£ÂàôË°®ËææÂºèÔºåË¶ÅÊèêÈ´òÊÄßËÉΩÔºåËØ∑ÈÅøÂÖç‰ΩøÁî®ÈÄöÈÖçÁ¨¶Ê®°ÂºèÔºå‰æãÂ¶Ç.*Êàñ .*?+ÔºåËÄåÊ≤°ÊúâÂâçÁºÄÊàñÂêéÁºÄ
        &quot;flags&quot;: &quot;ALL&quot;, # Ê≠£ÂàôË°®ËææÂºèÂêØÁî®ÂèØÈÄâËøêÁÆóÁ¨¶
        &quot;case_insensitive&quot;: true, # ÊòØÂê¶Âå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑÂåπÈÖç
        &quot;max_determinized_states&quot;: 10000,
        &quot;rewrite&quot;: &quot;constant_score&quot; # ÈáçÂÜôÊü•ËØ¢ÁöÑÊñπÊ≥ï
      }
    }
  }
}</code></pre>
<br>

<h4 id="term"><a href="#term" class="headerlink" title="term"></a><strong>term</strong></h4><p>termy Áî®‰∫éÁ≤æÁ°ÆÂåπÈÖçÔºàÈô§‰∫ÜtextÁ±ªÂûãÁöÑÂ≠óÊÆµ)ÔºåÂèØ‰ª•ÁêÜËß£ÊàêMySQL‰∏≠ÁöÑ <code>Á≠â‰∫é(=)</code>Ôºõ</p>
<pre><code class="json"># Á≤æÁ°ÆÊü•ËØ¢
# ÈÅøÂÖçtermÂØπtextÂ≠óÊÆµ‰ΩøÁî®Êü•ËØ¢
# ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåtext‰Ωú‰∏∫analysis ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåElasticsearch ‰ºöÊõ¥ÊîπÂ≠óÊÆµÁöÑÂÄº„ÄÇËøô‰ºö‰ΩøÊü•ÊâætextÂ≠óÊÆµÂÄºÁöÑÁ≤æÁ°ÆÂåπÈÖçÂèòÂæóÂõ∞Èöæ„ÄÇË¶ÅÊêúÁ¥¢textÂ≠óÊÆµÂÄºÔºåËØ∑ÊîπÁî®matchÊü•ËØ¢„ÄÇ
GET /_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;user.id&quot;: { # Â≠óÊÆµ
        &quot;value&quot;: &quot;kimchy&quot;, # ÂÄº
        &quot;boost&quot;: 1.0 # ÊùÉÈáç
      }
    }
  }
}</code></pre>
<br>

<h4 id="terms"><a href="#terms" class="headerlink" title="terms"></a><strong>terms</strong></h4><p>terms Áî®‰∫éÁ≤æÁ°ÆÂåπÈÖçÂ§ö‰∏™Ôºõ</p>
<pre><code class="json"># ÂèØ‰ª•ÁêÜËß£ÊàêMySQL‰∏≠ÁöÑinÊü•ËØ¢
# ÂêåtermÊü•ËØ¢ÔºåÂîØ‰∏Ä‰∏çÂêåÁöÑÂ∞±ÊòØÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™ÂÄº
GET /_search
{
  &quot;query&quot;: {
    &quot;terms&quot;: { 
      &quot;user.id&quot;: [ &quot;kimchy&quot;, &quot;elkbee&quot; ], # ÂåπÈÖçÂ§ö‰∏™ÂÄº
      &quot;boost&quot;: 1.0
    }
  }
}</code></pre>
<br>

<h4 id="terms-set"><a href="#terms-set" class="headerlink" title="terms_set"></a><strong>terms_set</strong></h4><p>terms_set Áî®‰∫éÁ≤æÁ°ÆÂåπÈÖçÂ§ö‰∏™ÔºåÂêåÊó∂ÂèØÂÆö‰πâÊúÄÂ∞ëÂåπÈÖçÊï∞Ôºõ</p>
<pre><code class="json"># ÂêåtermsÊü•ËØ¢Ôºå‰ΩÜÂèØ‰ª•ÂÆö‰πâÊúÄÂ∞ëÂåπÈÖçÊï∞
GET /job-candidates/_search
{
  &quot;query&quot;: {
    &quot;terms_set&quot;: {
      &quot;programming_languages&quot;: {
        &quot;terms&quot;: [ &quot;c++&quot;, &quot;java&quot;, &quot;php&quot; ],
        &quot;minimum_should_match_field&quot;: &quot;required_matches&quot;,
        &quot;minimum_should_match_script&quot;: {
          &quot;source&quot;: &quot;Math.min(params.num_terms, doc[&#39;required_matches&#39;].value)&quot;
        },
        &quot;boost&quot;: 1.0
      }
    }
  }
}</code></pre>
<br>

<h4 id="wildcard"><a href="#wildcard" class="headerlink" title="wildcard"></a><strong>wildcard</strong></h4><p>wildcard Ë°®Á§∫ÈÄöÈÖçÁ¨¶Êü•ËØ¢Ôºõ</p>
<pre><code class="json">GET /_search
{
  &quot;query&quot;: {
    &quot;wildcard&quot;: {
      &quot;user.id&quot;: { # Â≠óÊÆµ
        &quot;value&quot;: &quot;ki*y&quot;, # ÈÄöÈÖçÁ¨¶ÁöÑÂÄº
        &quot;boost&quot;: 1.0, # ÊùÉÈáç
        &quot;rewrite&quot;: &quot;constant_score&quot; # ÊîπÂèòÊü•ËØ¢Ë°å‰∏∫Ôºå‰∏ì‰∏ö‰∫∫Â£´‰ΩøÁî®ÔºåÊ≠§ÂèÇÊï∞ÁöÑÂÄº‰ºöÂΩ±ÂìçÊêúÁ¥¢ÊÄßËÉΩÂíåÁõ∏ÂÖ≥ÊÄß
      }
    }
  }
}</code></pre>
<br>

<h2 id="‰∏Ä‰∫õÈ´òÁ∫ßÁâπÊÄß"><a href="#‰∏Ä‰∫õÈ´òÁ∫ßÁâπÊÄß" class="headerlink" title="‰∏Ä‰∫õÈ´òÁ∫ßÁâπÊÄß"></a><strong>‰∏Ä‰∫õÈ´òÁ∫ßÁâπÊÄß</strong></h2><h3 id="ÈÖçÁΩÆÂàÜËØçÊü•ËØ¢"><a href="#ÈÖçÁΩÆÂàÜËØçÊü•ËØ¢" class="headerlink" title="ÈÖçÁΩÆÂàÜËØçÊü•ËØ¢"></a><strong>ÈÖçÁΩÆÂàÜËØçÊü•ËØ¢</strong></h3><h4 id="ÂÆâË£ÖÂàÜËØçÊèí‰ª∂"><a href="#ÂÆâË£ÖÂàÜËØçÊèí‰ª∂" class="headerlink" title="ÂÆâË£ÖÂàÜËØçÊèí‰ª∂"></a><strong>ÂÆâË£ÖÂàÜËØçÊèí‰ª∂</strong></h4><p>ÂØπ‰∫é‰∏≠ÊñáÊü•ËØ¢ËÄåË®ÄÔºåÊàë‰ª¨ÊòØÊ≤°ÊúâÁ±ª‰ºº‰∫éËã±Êñá‰∏≠ÁöÑÁ©∫Ê†ºÊù•ÊãÜÂàÜÂçïËØçÁöÑÔºåÂõ†Ê≠§ÈúÄË¶ÅËøõË°åÂàÜËØçÔºõ</p>
<p>‰∏Ä‰∏™ÈùûÂ∏∏Â∏∏Áî®ÁöÑ‰∏≠ÊñáÂàÜËØçÂàÜÊûêÂô® ikÔºö</p>
<ul>
<li><a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener">https://github.com/medcl/elasticsearch-analysis-ik</a></li>
</ul>
<p>Âπ∂‰∏îÔºåES Êèê‰æõ‰∫ÜÂæàÂ•ΩÁöÑÊèí‰ª∂Â∑•ÂÖ∑Ôºö<code>elasticsearch-plugin</code>ÔºåÂèØ‰ª•‰∏ÄÈîÆÂÆâË£ÖÔºå‰æãÂ¶ÇÔºö</p>
<pre><code class="bash">./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.14.1/elasticsearch-analysis-ik-7.14.1.zip</code></pre>
<br>

<h4 id="Ë°•ÂÖÖÁü•ËØÜÔºöik-max-wordÂíåik-smartÁöÑÂå∫Âà´"><a href="#Ë°•ÂÖÖÁü•ËØÜÔºöik-max-wordÂíåik-smartÁöÑÂå∫Âà´" class="headerlink" title="Ë°•ÂÖÖÁü•ËØÜÔºöik_max_wordÂíåik_smartÁöÑÂå∫Âà´"></a><strong>Ë°•ÂÖÖÁü•ËØÜÔºöik_max_wordÂíåik_smartÁöÑÂå∫Âà´</strong></h4><p>IKÂàÜËØçÂô®Êúâ‰∏§ÁßçÂàÜËØçÊ®°ÂºèÔºöik_max_wordÂíåik_smartÊ®°ÂºèÔºõ</p>
<ul>
<li>ik_max_wordÔºö‰ºöÂ∞ÜÊñáÊú¨ÂÅöÊúÄÁªÜÁ≤íÂ∫¶ÁöÑÊãÜÂàÜÔºåÊØîÂ¶Ç‰ºöÂ∞Ü‚Äú‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ‰∫∫Ê∞ëÂ§ß‰ºöÂ†Ç‚ÄùÊãÜÂàÜ‰∏∫‚Äú‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ„ÄÅ‰∏≠Âçé‰∫∫Ê∞ë„ÄÅ‰∏≠Âçé„ÄÅÂçé‰∫∫„ÄÅ‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ„ÄÅ‰∫∫Ê∞ë„ÄÅÂÖ±ÂíåÂõΩ„ÄÅÂ§ß‰ºöÂ†Ç„ÄÅÂ§ß‰ºö„ÄÅ‰ºöÂ†ÇÁ≠â‰∏ÄÁ≥ªÂàóËØçËØ≠Ôºõ</li>
<li>ik_smartÔºö‰ºöÂÅöÊúÄÁ≤óÁ≤íÂ∫¶ÁöÑÊãÜÂàÜÔºåÊØîÂ¶Ç‰ºöÂ∞Ü‚Äú‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ‰∫∫Ê∞ëÂ§ß‰ºöÂ†Ç‚ÄùÊãÜÂàÜ‰∏∫‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ„ÄÅ‰∫∫Ê∞ëÂ§ß‰ºöÂ†ÇÔºõ</li>
</ul>
<p><font color="#f00"><strong>‰∏§ÁßçÂàÜËØçÂô®‰ΩøÁî®ÁöÑÊúÄ‰Ω≥ÂÆûË∑µÊòØÔºöÁ¥¢ÂºïÊó∂Áî®ik_max_wordÔºåÂú®ÊêúÁ¥¢Êó∂Áî®ik_smartÔºõ</strong></font></p>
<p><font color="#f00"><strong>Âç≥ÔºöÁ¥¢ÂºïÊó∂ÊúÄÂ§ßÂåñÁöÑÂ∞ÜÊñáÁ´†ÂÜÖÂÆπÂàÜËØçÔºåÊêúÁ¥¢Êó∂Êõ¥Á≤æÁ°ÆÁöÑÊêúÁ¥¢Âà∞ÊÉ≥Ë¶ÅÁöÑÁªìÊûúÔºõ</strong></font></p>
<p>‰∏æ‰∏™‰æãÂ≠êÔºö</p>
<p>Â¶ÇÊûúÁî®Êà∑ËæìÂÖ•‚ÄúËãπÊûúÊâãÊú∫‚ÄùÔºåÊ≠§Êó∂Áî®Êà∑ÁöÑÊÉ≥Ê≥ïÊòØÊÉ≥ÊêúÁ¥¢Âá∫‚ÄúËãπÊûúÊâãÊú∫‚ÄùÁöÑÂïÜÂìÅÔºåËÄå‰∏çÊòØËãπÊûúÂÖ∂ÂÆÉÁöÑÂïÜÂìÅÔºå‰πüÂ∞±ÊòØÂïÜÂìÅ‰ø°ÊÅØ‰∏≠ÂøÖÈ°ªÂè™Êúâ<code>ËãπÊûúÊâãÊú∫</code>Ëøô‰∏™ËØçÔºõ</p>
<p>Â¶ÇÊûúÊ≠§Êó∂‰ΩøÁî® ik_smart Âíå ik_max_word ÈÉΩ‰ºöÂ∞ÜËãπÊûúÊâãÊú∫ÊãÜÂàÜ‰∏∫ËãπÊûúÂíåÊâãÊú∫‰∏§‰∏™ËØçÔºåÈÇ£‰∫õÂè™ÂåÖÊã¨‚ÄúËãπÊûú‚ÄùËøô‰∏™ËØçÁöÑ‰ø°ÊÅØ‰πüË¢´ÊêúÁ¥¢Âá∫Êù•‰∫ÜÔºåËÄåÁõÆÊ†áÊòØÊêúÁ¥¢Âè™ÂåÖÂê´<code>ËãπÊûúÊâãÊú∫</code>Ëøô‰∏™ËØçÁöÑ‰ø°ÊÅØÔºõ</p>
<p>Êàë‰ª¨ÂèØ‰ª•Â∞Ü<code>ËãπÊûúÊâãÊú∫</code>Ê∑ªÂä†Âà∞Ëá™ÂÆö‰πâËØçÂ∫ìÔºõ</p>
<p>Ê≠§ÂêéÔºåÂõ†‰∏∫<code>ËãπÊûúÊâãÊú∫</code>ÊòØ‰∏Ä‰∏™ËØçÔºåÊâÄ‰ª•ik_smartÂ∞±‰∏çÂÜçÁªÜÁ≤íÂ∫¶ÂàÜ‰∫ÜÔºõ</p>
<p>Âõ†Ê≠§ÔºåÂèØ‰ª•Âú®Á¥¢ÂºïÊó∂‰ΩøÁî® ik_max_wordÔºåÂú®ÊêúÁ¥¢Êó∂Áî®ik_smartÔºõ</p>
<br>

<h4 id="ÂàÜËØçÁ¥¢ÂºïÈÖçÁΩÆ"><a href="#ÂàÜËØçÁ¥¢ÂºïÈÖçÁΩÆ" class="headerlink" title="ÂàÜËØçÁ¥¢ÂºïÈÖçÁΩÆ"></a><strong>ÂàÜËØçÁ¥¢ÂºïÈÖçÁΩÆ</strong></h4><p>Âú®Êú¨ÊñáÂºÄÂ§¥ÁöÑ‰æãÂ≠êÔºåÂª∫Á´ãÁöÑ <code>passage</code> Á¥¢ÂºïÂ∞±‰ΩøÁî®‰∫ÜËøô‰∏§ÁßçÂàÜÊûêÂô®Ôºõ</p>
<p>Â¶Ç‰∏ãÊâÄÁ§∫Ôºö</p>
<pre><code class="json">PUT /x
{
  &quot;settings&quot;: {
    &quot;index&quot;: {
      &quot;analysis&quot;: {
        &quot;analyzer&quot;: {
          &quot;title_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;false&quot;,
            &quot;tokenizer&quot;: &quot;ik_max_word&quot;
          },
          &quot;content_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;true&quot;,
            &quot;tokenizer&quot;: &quot;ik_smart&quot;
          }
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;title&quot;: {
        &quot;analyzer&quot;: &quot;title_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      },
      &quot;content&quot;: {
        &quot;analyzer&quot;: &quot;content_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      }
    }
  }
}</code></pre>
<p>Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÂàÜÂà´‰∏∫Á¥¢Âºï <code>x</code> ‰∏≠ÁöÑ <code>title</code> Âíå <code>content</code> Â≠óÊÆµÈÖçÁΩÆ‰∫Ü <code>ik_max_word</code> Âíå <code>ik_smart</code> ÂàÜÊûêÂô®Ôºõ</p>
<p>Ëá≥‰∫éÂàÜËØçÁöÑÊïàÊûúÔºåÂâçÈù¢Â∑≤ÁªèÁúãÂà∞‰∫ÜÔºåËøôÈáå‰∏çÂÜçÈáçÂ§çÂ±ïÁ§∫Ôºõ</p>
<br>

<h3 id="ÈÖçÁΩÆÂêå‰πâËØç"><a href="#ÈÖçÁΩÆÂêå‰πâËØç" class="headerlink" title="ÈÖçÁΩÆÂêå‰πâËØç"></a><strong>ÈÖçÁΩÆÂêå‰πâËØç</strong></h3><p>Èô§‰∫ÜÂàÜËØç‰πãÂ§ñÔºåÊúâÊó∂ÂÄôÊàë‰ª¨ËøòÈúÄË¶ÅÈÖçÁΩÆÂêå‰πâËØçÔºå‰æãÂ¶ÇÔºö<code>‰∏≠ÂõΩ</code> Âíå <code>China</code>ÔºåÂΩìÁî®Êà∑ËæìÂÖ• <code>China</code> ÁöÑÊó∂ÂÄôÔºå‰πüÂèØ‰ª•ÊêúÁ¥¢Âà∞ ÂåÖÂê´ <code>‰∏≠ÂõΩ</code> ÁöÑÂÜÖÂÆπÔºõ</p>
<p>ÂÖ≥‰∫éÂ¶Ç‰ΩïÈÖçÁΩÆÂêå‰πâËØçÔºå‰∏ãÈù¢ÊòØÂÆòÊñπÊñáÊ°£Ôºö</p>
<ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.14/analysis-synonym-tokenfilter.html" target="_blank" rel="noopener">https://www.elastic.co/guide/en/elasticsearch/reference/7.14/analysis-synonym-tokenfilter.html</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.14/analyzer.html" target="_blank" rel="noopener">https://www.elastic.co/guide/en/elasticsearch/reference/7.14/analyzer.html</a></li>
</ul>
<p>ËøôÈáåÁÆÄÂçïËØ¥‰∏Ä‰∏ãÔºåÂ§ßÊ¶ÇÂàÜ‰∏∫‰∏âÊ≠•Ôºö</p>
<ul>
<li>ÂàõÂª∫Âêå‰πâËØçËØçÂ∫ìÔºõ</li>
<li>ÈáçÂêØESÂä†ËΩΩËØçÂ∫ìÔºà‰∏çÊîØÊåÅÁÉ≠Êõ¥Êñ∞ÔºâÔºõ</li>
<li><strong>ÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆöÂêå‰πâËØç filterÔºõ</strong></li>
</ul>
<p>‰∏ãÈù¢ÂàÜÂà´Êù•ÁúãÔºõ</p>
<h4 id="‰∏Ä„ÄÅÂàõÂª∫Âêå‰πâËØçËØçÂ∫ì"><a href="#‰∏Ä„ÄÅÂàõÂª∫Âêå‰πâËØçËØçÂ∫ì" class="headerlink" title="‰∏Ä„ÄÅÂàõÂª∫Âêå‰πâËØçËØçÂ∫ì"></a><strong>‰∏Ä„ÄÅÂàõÂª∫Âêå‰πâËØçËØçÂ∫ì</strong></h4><p>ÊâæÂà∞ ES ÂÆâË£ÖÁõÆÂΩïÔºåÂàõÂª∫ <code>config/analysis/synonym.txt</code>ÔºåËØ•Êñá‰ª∂Áî®‰∫éÂàõÂª∫Âêå‰πâËØçËØçÂ∫ìÔºõ</p>
<p><font color="#f00"><strong>‰∏ÄË°å‰∏Ä‰∏™Âêå‰πâËØçÔºå‰∏ÄÂÆöË¶ÅÊòØUTF-8Ê†ºÂºèÔºÅ</strong></font></p>
<p><strong>ÂÖ∂‰∏≠Ôºö</strong></p>
<ul>
<li><font color="#f00"><strong><code>AA,BB=&gt;CC</code> ËøôÁßçÂÜôÊ≥ï‰ºöÂ∞Ü AA ‰∏é BB ÈÉΩÊò†Â∞ÑÂà∞ CCÔºåÁÑ∂ÂêéÂè™ÂØπCCËøõË°åÁ¥¢ÂºïÔºõ</strong></font></li>
<li><font color="#f00"><strong>ËÄå <code>AA,BB</code> ËøôÁßçÂΩìÊñáÊ°£‰∏≠Â≠òÂú®AAÊó∂Ôºå‰∏ç‰ªÖ‰ªÖ‰ºöÁ¥¢ÂºïAAËøò‰ºöÁ¥¢ÂºïBBÔºõ</strong></font></li>
</ul>
<p><font color="#f00"><strong>Â¶ÇÊûúÊñá‰ª∂‰∏≠‰∏Ä‰∏™ËØçÂ≠òÂú®‰∫éÂ§öË°åÔºåÈÇ£‰πàÂØπÂ∫îÁöÑËøë‰πâËØç‰ºöÁ¥ØËÆ°ÔºåÂ¶ÇÔºö</strong></font></p>
<pre><code>ËãπÊûú,ËãπÊûúÊâãÊú∫
ËãπÊûú,ËãπÊûúÁîµËÑë</code></pre><p>Ê≠§Êó∂‚ÄúËãπÊûú‚ÄùÂØπÂ∫îÁöÑËøë‰πâËØçÊòØ‚ÄúËãπÊûúÊâãÊú∫‚Äù„ÄÅ‚ÄúËãπÊûúÁîµËÑë‚ÄùÔºå‰ΩÜÂ¶ÇÊûúÊòØËæìÂÖ•‚ÄúËãπÊûúÊâãÊú∫‚ÄùÔºåÈÇ£‰πàËøë‰πâËØçÂè™Êúâ‚ÄúËãπÊûú‚ÄùÔºõ</p>
<p>Â∞Ü‰ª•‰∏ãÂ≠óÊÆµÂÜôÂÖ•<code>synonym.txt</code>Ôºö</p>
<pre><code>Ë•øÁ∫¢Êüø,Áï™ËåÑ=&gt;Âú£Â•≥Êûú
‰∏≠ÂõΩ,China</code></pre><br>

<h4 id="‰∫å„ÄÅÈáçÂêØESÂä†ËΩΩËØçÂ∫ìÔºà‰∏çÊîØÊåÅÁÉ≠Êõ¥Êñ∞Ôºâ"><a href="#‰∫å„ÄÅÈáçÂêØESÂä†ËΩΩËØçÂ∫ìÔºà‰∏çÊîØÊåÅÁÉ≠Êõ¥Êñ∞Ôºâ" class="headerlink" title="‰∫å„ÄÅÈáçÂêØESÂä†ËΩΩËØçÂ∫ìÔºà‰∏çÊîØÊåÅÁÉ≠Êõ¥Êñ∞Ôºâ"></a><strong>‰∫å„ÄÅÈáçÂêØESÂä†ËΩΩËØçÂ∫ìÔºà‰∏çÊîØÊåÅÁÉ≠Êõ¥Êñ∞Ôºâ</strong></h4><p>ÈáçÂêØelasticsearchÔºåÂä†ËΩΩÂêå‰πâËØçËØçÂ∫ìÔºõ</p>
<p>ÂØπ‰∫éDockerÊù•ËØ¥Â∞±ÂæàÂÆπÊòì‰∫ÜÔºåÂè™ÈúÄË¶ÅÈáçÂêØESÂÆπÂô®Âç≥ÂèØÔºÅ</p>
<br>

<h4 id="‰∏â„ÄÅÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆöÂêå‰πâËØç-filter"><a href="#‰∏â„ÄÅÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆöÂêå‰πâËØç-filter" class="headerlink" title="‰∏â„ÄÅÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆöÂêå‰πâËØç filter"></a><strong>‰∏â„ÄÅÂàõÂª∫Á¥¢ÂºïÊó∂ÊåáÂÆöÂêå‰πâËØç filter</strong></h4><p>ÂàõÂª∫Á¥¢ÂºïÂíåÊò†Â∞ÑÔºåmy_analyzer ‰∏∫Ëá™ÂÆö‰πâÂàÜËØçÂô®Ôºåmy_synonym ‰∏∫Ëá™ÂÆö‰πâËøáÊª§Âô®Ôºö</p>
<pre><code class="json">PUT /synonym_test
{
  &quot;settings&quot;: {
    &quot;index&quot;: {
      &quot;analysis&quot;: {
        &quot;analyzer&quot;: {
          &quot;my_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;true&quot;,
            &quot;tokenizer&quot;: &quot;ik_smart&quot;,
            &quot;filter&quot;: [
              &quot;my_synonym&quot;
            ]
          }
        },
        &quot;filter&quot;: {
          &quot;my_synonym&quot;: {
            &quot;type&quot;: &quot;synonym&quot;,
            &quot;synonyms_path&quot;: &quot;analysis/synonym.txt&quot;
          }
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;title&quot;: {
        &quot;analyzer&quot;: &quot;my_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      }
    }
  }
}</code></pre>
<p>ÂÖ∂‰∏≠ <code>synonyms_path</code> ÊåáÂÆöÁ¨¨‰∏ÄÊ≠•ÈÖçÁΩÆÁöÑÁ¥¢ÂºïÊñá‰ª∂Ë∑ØÂæÑÔºõ</p>
<blockquote>
<p>  <strong>ÊúÄÈáçË¶ÅÁöÑÊ≠•È™§Ôºömappings ÈúÄË¶ÅÊåáÂÆöÂ≠óÊÆµÊù•‰ΩøÁî®Âêå‰πâËØçÁöÑfilterÔºåËã•Êú™ÊåáÂÆöÂ∞Ü‰ΩøÁî®ÈªòËÆ§ÁöÑfilterÔºåÊêúÁ¥¢Êó∂Â∞ÜÂØπÂêå‰πâËØç‰∏çÁîüÊïàÔºÅ</strong></p>
</blockquote>
<br>

<h4 id="ÊµãËØï"><a href="#ÊµãËØï" class="headerlink" title="ÊµãËØï"></a><strong>ÊµãËØï</strong></h4><p>ÂàõÂª∫‰∏Ä‰∏™ÊµãËØïÊñáÊ°£Ôºö</p>
<pre><code class="json">POST /synonym_test/_doc/1
{
  &quot;title&quot;: &quot;ÊàëÂñúÊ¨¢ÂêÉ‰∏≠ÂõΩÁöÑÂú£Â•≥Êûú&quot;
}</code></pre>
<p>ÊµãËØï <code>AA,BB=&gt;CC</code>Ôºö</p>
<pre><code class="json">GET /synonym_test/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;title&quot;: &quot;Áï™ËåÑ&quot;
      } 
    }
}

GET /synonym_test/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;title&quot;: &quot;Ë•øÁ∫¢Êüø&quot;
      } 
    }
}</code></pre>
<p>‰ª•‰∏ä‰∏§‰∏™ÊêúÁ¥¢ËØ≠Âè•ÈÉΩËÉΩÈÄöËøá <strong>Áï™ËåÑ</strong> Âíå <strong>Ë•øÁ∫¢Êüø</strong> Â∞Ü <strong>Âú£Â•≥Êûú</strong> ÊêúÁ¥¢Âá∫Êù•Ôºõ</p>
<p>ÂÜçÊù•ÊµãËØï‰∏Ä‰∏ã <code>AA,BB</code>Ôºö</p>
<pre><code class="json">GET /synonym_test/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;title&quot;: &quot;‰∏≠ÂõΩ&quot;
      } 
    }
}

GET /synonym_test/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;title&quot;: &quot;China&quot;
      } 
    }
}</code></pre>
<p>‰ª•‰∏ä‰∏§‰∏™ÊêúÁ¥¢ËØ≠Âè•‰πüÈÉΩËÉΩÊü•ËØ¢Âà∞ÔºÅ</p>
<br>

<h3 id="Â¢ûÂä†Stopwords"><a href="#Â¢ûÂä†Stopwords" class="headerlink" title="Â¢ûÂä†Stopwords"></a><strong>Â¢ûÂä†Stopwords</strong></h3><p>Âú®ÊêúÁ¥¢ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ËøòÊúâÂè¶‰∏ÄÁßçÂú∫ÊôØÔºöÊúâ‰∫õÊñáÂ≠óÊàñËÄÖËØçËØ≠Ê≤°Êúâ‰ªÄ‰πàÂÆûÈôÖÁöÑÊÑè‰πâÔºåÊØîÂ¶ÇÔºö<code>ÁöÑ</code>„ÄÅ<code>ÂóØ</code>Á≠âÁ≠âÔºõ</p>
<p>Ëøô‰∫õËØçÂ¶ÇÊûúÊ≤°ÊúâÊéíÈô§ÊéâÔºåÁî®Êà∑Âú®ÊêúÁ¥¢Êó∂‰πü‰ºöÂΩ±ÂìçÊàë‰ª¨ÁöÑÂåπÈÖçÂæóÂàÜÔºõ</p>
<p>Ê≠§Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÖçÁΩÆ <code>Stopwords</code> Êù•Ë∑≥ËøáÂØπËøô‰∫õËØçÁöÑÂåπÈÖçÔºõ</p>
<p>‰∏ãÈù¢ÁöÑËøô‰∏™ Github ÂºÄÊ∫êÂ∫ìÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑ StopwordsÔºö</p>
<ul>
<li><a href="https://dgithub.com/goto456/stopwords" target="_blank" rel="noopener">https://dgithub.com/goto456/stopwords</a></li>
</ul>
<p>Êàë‰ª¨Êù•Âä®ÊâãÈÖç‰∏Ä‰∏ã Stopwords ÁúãÁúãÊïàÊûúÔºõ</p>
<br>

<h4 id="‰∏∫Á¥¢ÂºïÈÖçÁΩÆStopwords"><a href="#‰∏∫Á¥¢ÂºïÈÖçÁΩÆStopwords" class="headerlink" title="‰∏∫Á¥¢ÂºïÈÖçÁΩÆStopwords"></a><strong>‰∏∫Á¥¢ÂºïÈÖçÁΩÆStopwords</strong></h4><p>Stopwords ÁöÑÈÖçÁΩÆÊñπÂºèÂíåÂêå‰πâËØçÁ±ª‰ººÔºõ</p>
<p>ËøôÈáå‰πüÂèØ‰ª•ÈááÁî®Âè¶‰∏ÄÁßçÊñπÂºèÔºåÂç≥ÔºöÂú®ÂàõÂª∫Á¥¢ÂºïÁöÑÊó∂ÂÄôÊèê‰æõ Stopwords Êï∞ÁªÑÔºõ</p>
<p>ËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÈáçÂêØESÔºõ</p>
<p>Á¥¢ÂºïÈÖçÁΩÆÂ¶Ç‰∏ãÔºö</p>
<pre><code class="json">PUT /stopword_test
{
  &quot;settings&quot;: {
    &quot;index&quot;: {
      &quot;analysis&quot;: {
        &quot;analyzer&quot;: {
          &quot;my_analyzer&quot;: {
            &quot;type&quot;: &quot;custom&quot;,
            &quot;use_smart&quot;: &quot;true&quot;,
            &quot;tokenizer&quot;: &quot;ik_smart&quot;,
            &quot;filter&quot;: [
              &quot;my_stopwords&quot;
            ]
          }
        },
        &quot;filter&quot;: {
          &quot;my_stopwords&quot;: {
            &quot;type&quot;: &quot;stop&quot;,
            &quot;stopwords&quot;: [
              &quot;ÁöÑ&quot;,
              &quot;Ê∑±Âú≥&quot;
            ]
          }
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;title&quot;: {
        &quot;analyzer&quot;: &quot;my_analyzer&quot;,
        &quot;type&quot;: &quot;text&quot;
      }
    }
  }
}</code></pre>
<p>‰∏ãÈù¢ËøõË°åÊµãËØïÔºõ</p>
<br>

<h4 id="ÊµãËØï-1"><a href="#ÊµãËØï-1" class="headerlink" title="ÊµãËØï"></a><strong>ÊµãËØï</strong></h4><p>ÂêëÁ¥¢ÂºïÊ∑ªÂä†ÊñáÊ°£Ôºö</p>
<pre><code class="json">POST /stopword_test/_doc/1
{
  &quot;title&quot;: &quot;Ê∑±Âú≥ÁöÑÂ§èÂ§©ÂæàÁÉ≠&quot;
}</code></pre>
<p>Â∞ùËØïÊêúÁ¥¢ÂÖ≥ÈîÆÂ≠óÔºö</p>
<pre><code class="json">GET /stopword_test/_doc/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;title&quot;: &quot;Ê∑±Âú≥&quot;
      } 
    }
}

GET /stopword_test/_doc/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;title&quot;: &quot;ÁöÑ&quot;
      } 
    }
}</code></pre>
<p>ÈÉΩÊü•‰∏çÂà∞ÊñáÊ°£ÔºåËØ¥Êòé Stopwords Â∑≤ÁîüÊïàÔºÅ</p>
<p>ËÄåÊü•ËØ¢ <code>Â§èÂ§©</code>Ôºö</p>
<pre><code class="json">GET /stopword_test/_doc/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;title&quot;: &quot;Â§èÂ§©&quot;
      } 
    }
}</code></pre>
<p>ÂèØ‰ª•Êü•Âà∞Ôºõ</p>
<br>

<h3 id="ÈÖçÁΩÆÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑü"><a href="#ÈÖçÁΩÆÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑü" class="headerlink" title="ÈÖçÁΩÆÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑü"></a><strong>ÈÖçÁΩÆÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑü</strong></h3><p>ÊúâÊó∂ÂÄôÔºåÊàë‰ª¨‰πüÈúÄË¶ÅÂú®Êü•ËØ¢Êó∂ÂøΩÁï•Â§ßÂ∞èÂÜôÔºõÊ≠§Êó∂ÔºåÊàë‰ª¨Âè™ÈúÄË¶Å‰ΩøÁî® <code>lowercase</code> ËøáÊª§Âô®Âç≥ÂèØÔºö</p>
<p>Âú®Ëá™ÂÆö‰πâÁöÑ <code>analysis</code> ÈáåÈù¢Ôºö</p>
<ul>
<li>Â¶ÇÊûúÊòØÈíàÂØπ <code>keyword</code> Á±ªÂûãÁöÑÂ≠óÊÆµÔºå analysis Ë¶ÅÂÆö‰πâÊàê <code>normalizer</code>Ôºõ</li>
<li>ÂØπ‰∫é <code>text</code> Á±ªÂûãÔºåÂàôÈúÄË¶Å‰∏∫analyzerÔºõ</li>
</ul>
<p>Â¶Ç‰∏ãÊºîÁ§∫ÁöÑÊòØ <code>normalizer</code> Á±ªÂûãÁöÑÂÆö‰πâÔºö</p>
<pre><code class="json">PUT /case_insensitive_test
{
  &quot;settings&quot;: {
    &quot;analysis&quot;: {
      &quot;normalizer&quot;: {
        &quot;self_normalizer&quot;: {
          &quot;type&quot;: &quot;custom&quot;,
          &quot;filter&quot;: [
            &quot;lowercase&quot;,
            &quot;asciifolding&quot;
          ]
        }
      }
    }
  },
  &quot;mappings&quot;: {
    &quot;properties&quot;: {
      &quot;content&quot;: {
        &quot;type&quot;: &quot;keyword&quot;,
        &quot;normalizer&quot;: &quot;self_normalizer&quot;
      }
    }
  }
}</code></pre>
<p>ÂêëES‰∏≠Êñ∞Â¢ûÊï∞ÊçÆÔºö</p>
<pre><code class="json">POST /case_insensitive_test/_doc/1
{
  &quot;content&quot;: &quot;abc&quot;
}
POST /case_insensitive_test/_doc/2
{
  &quot;content&quot;: &quot;aBC&quot;
}
POST /case_insensitive_test/_doc/3
{
  &quot;content&quot;: &quot;Abc&quot;
}</code></pre>
<p>Ê≠§Êó∂ÁöÑÂØπ‰∫é<code>content</code>ÔºåÂú®ES‰∏≠ÁöÑÂÄºÂ§ßÂ∞èÂÜôÈÉΩÊúâÁöÑÔºåÊ≠§Êó∂ËøõË°åÊü•ËØ¢Ôºö</p>
<pre><code class="json">GET /case_insensitive_test/_search
{
    &quot;query&quot;:{
      &quot;match&quot;: {
        &quot;content&quot;: &quot;abc&quot;
      } 
    }
}</code></pre>
<p>‰∏â‰∏™ÈÉΩÊòØÂèØ‰ª•Êü•Âà∞ÁöÑÔºåÂπ∂‰∏îÂàÜÊï∞ÂÆåÂÖ®Áõ∏ÂêåÔºö</p>
<pre><code class="json">{
  &quot;took&quot; : 0,
  &quot;timed_out&quot; : false,
  &quot;_shards&quot; : {
    &quot;total&quot; : 1,
    &quot;successful&quot; : 1,
    &quot;skipped&quot; : 0,
    &quot;failed&quot; : 0
  },
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 3,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 0.13353139,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;case_insensitive_test&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;1&quot;,
        &quot;_score&quot; : 0.13353139,
        &quot;_source&quot; : {
          &quot;content&quot; : &quot;abc&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;case_insensitive_test&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;2&quot;,
        &quot;_score&quot; : 0.13353139,
        &quot;_source&quot; : {
          &quot;content&quot; : &quot;aBC&quot;
        }
      },
      {
        &quot;_index&quot; : &quot;case_insensitive_test&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;3&quot;,
        &quot;_score&quot; : 0.13353139,
        &quot;_source&quot; : {
          &quot;content&quot; : &quot;Abc&quot;
        }
      }
    ]
  }
}</code></pre>
<br>

<h1 id="ÈôÑÂΩï"><a href="#ÈôÑÂΩï" class="headerlink" title="ÈôÑÂΩï"></a><strong>ÈôÑÂΩï</strong></h1><p>Áõ∏ÂÖ≥ÊñáÁ´†Ôºö</p>
<ul>
<li><a href="/tags/ElasticSearch/">tags/ElasticSearch</a></li>
</ul>
<p>Ê∫ê‰ª£Á†ÅÔºö</p>
<ul>
<li><a href="https://github.com/JasonkayZK/docker-repo/tree/elk-v7.14-single" target="_blank" rel="noopener">https://github.com/JasonkayZK/docker-repo/tree/elk-v7.14-single</a></li>
<li><a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noopener">https://github.com/medcl/elasticsearch-analysis-ik</a></li>
</ul>
<p>ÂèÇËÄÉÊñáÁ´†Ôºö</p>
<ul>
<li><a href="https://blog.51cto.com/u_14286115/3328651" target="_blank" rel="noopener">https://blog.51cto.com/u_14286115/3328651</a></li>
<li><a href="https://www.jianshu.com/p/438018379339" target="_blank" rel="noopener">https://www.jianshu.com/p/438018379339</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1597951" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1597951</a></li>
<li><a href="https://hlog.cc/archives/29/" target="_blank" rel="noopener">https://hlog.cc/archives/29/</a></li>
<li><a href="https://segmentfault.com/a/1190000037700644" target="_blank" rel="noopener">ES Ëá™ÂÆö‰πâÊâìÂàÜ Function score query</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/52543633" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/52543633</a></li>
<li><a href="https://www.jianshu.com/p/893d35d53356" target="_blank" rel="noopener">https://www.jianshu.com/p/893d35d53356</a></li>
<li><a href="https://www.jianshu.com/p/60f986726ef3" target="_blank" rel="noopener">https://www.jianshu.com/p/60f986726ef3</a></li>
<li><a href="https://elasticsearch.cn/question/29" target="_blank" rel="noopener">https://elasticsearch.cn/question/29</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1764235" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1764235</a></li>
<li><a href="https://www.jianshu.com/p/f668d847f18d" target="_blank" rel="noopener">https://www.jianshu.com/p/f668d847f18d</a></li>
<li><a href="https://www.cnblogs.com/mikeluwen/p/8031813.html" target="_blank" rel="noopener">es number_of_shardsÂíånumber_of_replicas</a></li>
<li><a href="https://somersames.xyz/2020/03/20/ES7%E4%B8%AD%E5%A4%A7%E5%B0%8F%E5%86%99%E4%B8%8D%E6%95%8F%E6%84%9F%E7%9A%84%E6%A8%A1%E7%B3%8A%E5%8C%B9%E9%85%8D/" target="_blank" rel="noopener">https://somersames.xyz/2020/03/20/ES7%E4%B8%AD%E5%A4%A7%E5%B0%8F%E5%86%99%E4%B8%8D%E6%95%8F%E6%84%9F%E7%9A%84%E6%A8%A1%E7%B3%8A%E5%8C%B9%E9%85%8D/</a></li>
</ul>
<br>

  </article>

  <div id="like-container" style="text-align: center">
    <div class="like-feed">
      <p>ËßâÂæóÊú¨Êñá‰∏çÈîôÂ∞±ÁÇπ‰∏™<span>‚ô•</span>ÂÜçËµ∞Âêß~</p>
      <div class="like-img">
        <div class="like-heart" id="like" rel="like"></div>
        <div class="like-count" id="like-count"></div>
      </div>
    </div>
  </div>

  <!-- ÊñáÁ´†ÂàÜ‰∫´ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
  <div class="social-share" data-mode="prepend" data-disabled="tencent,diandian"></div>
  <br>

  
  
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>Êú¨Êñá‰ΩúËÄÖÔºö</strong>Jasonkay<br>
<strong>Êú¨ÊñáÈìæÊé•Ôºö</strong><a href="https://jasonkayzk.github.io/2022/06/14/ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì/" title="https://jasonkayzk.github.io/2022/06/14/ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì/" target="_blank" rel="noopener">https://jasonkayzk.github.io/2022/06/14/ElasticSearchÂü∫Êú¨‰ΩøÁî®ÊÄªÁªì/</a><br>

  <strong>ÁâàÊùÉÂ£∞ÊòéÔºö</strong>Êú¨ÊñáÈááÁî® <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> ÂçèËÆÆËøõË°åËÆ∏ÂèØ

</div>


  

  <!-- Â¢ûÂä†Èù¢ËØïÁÇπÂáªÊ†áÈ¢òÊâçÊòæÁ§∫Á≠îÊ°àÁ≠âÊïàÊûú! -->
  <!-- <script type="text/javascript">
    $(".question").click(function () {
      var a = $(".answer").eq($(".question").index(this));
      a.is(".answer_shown") ? a.animate({ 'opacity': '1' }, 800).removeClass("answer_shown") : a.animate({ 'opacity': '0' }, 800).addClass("answer_shown");
    });
  </script> -->
  <!-- <style>
    .answer_shown {
      opacity: 0;
    }
  </style> -->

  <!-- Âä†ËΩΩÂçöÂÆ¢ÁÇπËµûÂäüËÉΩ -->
  <script>
    function ajax(options) {
      return new Promise(function (resolve, reject) {
        $.ajax(options).done(resolve).fail(reject);
      });
    }

    var docName = $('meta[property="og:title"]').attr('content');
    
    // Ë∑≥Ëøálocalhost
    if (location.hostname !== 'localhost') {
      // ÂàùÂßãÂåñ
      ajax({
        url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
        type: 'post',
        contentType: 'application/json; charset=utf-8',
        data: JSON.stringify({
          "actionId": "get",
          "docName": docName
        })
      }).then(
        function fulfillHandler(data) {
          $('#like-count').text(data.likeNum);
        },
        function rejectHandler(jqXHR, textStatus, errorThrown) {
          $('#like-count').text(0);
          console.log(jqXHR, textStatus, errorThrown);
        }
      ).catch(function errorHandler(error) {
        $('#like-count').text(0);
        console.log(error);
      });

      $(document).ready(function () {
        $(".like-heart").on("click", function () {
          var heart = $(this);
          var likeCount = $("#like-count" + heart.attr("id").split("like")[1]);
          var intCount = parseInt(likeCount.html());
          var rel = heart.attr("rel");

          if (rel === "like") {
            likeCount.html(intCount + 1);
            heart.addClass("like-heartAnimation").attr("rel", "unlike");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "add",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          } else {
            likeCount.html(intCount - 1);
            heart.removeClass("like-heartAnimation").attr("rel", "like");
            heart.css("background-position", "left");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "subtract",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          }
        }).on("mouseleave", function () {
          $(this).css("background-position", "");
        });
      });
    }
  </script>
  <style>
    #like-container {
      margin: 0 auto;
      width: 100%;
    }

    .like-img {
      width: 200px;
      height: 100px;
      display: inline-block;
    }

    .like-heart {
      float: left;
      background: url(/images/web_heart_animation.png);
      background-position: left;
      background-repeat: no-repeat;
      height: 50px;
      width: 120px;
      left: -14px;
      background-size: 2900%;
    }

    .like-count {
      float: left;
      font-family: 'Georgia', Times, Times New Roman, serif;
      font-size: 35px;
      color: #999999;
      text-align: left;
      height: 50px;
      width: 50px;
      line-height: 44px;
    }

    .like-heart:hover,
    .like-heart:focus {
      background-position: right;
    }

    @-webkit-keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    @keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    .like-heartAnimation {
      display: inline-block;
      -webkit-animation-name: heartBlast;
      animation-name: heartBlast;
      -webkit-animation-duration: .8s;
      animation-duration: .8s;
      -webkit-animation-iteration-count: 1;
      animation-iteration-count: 1;
      -webkit-animation-timing-function: steps(28);
      animation-timing-function: steps(28);
      background-position: right;
    }

    .like-feed {
      height: 90px;
      margin-bottom: 20px;
      text-align: center
    }

    .like-feed p {
      font-family: 'microsoft yahei', 'Georgia';
      font-size: 25px;
    }

    .like-feed span {
      font-size: 30px;
      color: #D33115;
    }
  </style>

  <section class="nexmoe-comment">
    <div class="utterances"></div>
<style>
    .v .vwrap {
      border: 1px dashed #c4bfbf
    }
  
    .v .vwrap .vheader .vinput {
      border-bottom: 1px dashed #c4bfbf
    }
</style>
<script src="https://utteranc.es/client.js" repo="JasonkayZK/JasonkayZK.github.io" issue-term="title" label="comment‚ú®üí¨‚ú®" theme="github-light" crossorigin="anonymous" async>
</script>

</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?v=1753871722080"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>




  
    <!-- Google Analytics -->
<script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'G-1NWK4EEKDF', 'auto');
    ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>






    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5f5ec71a32c11ff54dff64d0341017b0";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

<!-- È°µÈù¢ÁÇπÂáªÂ∞èÁ∫¢ÂøÉ -->
<!-- 
<script type="text/javascript">
  !function (e, t, a) { function n() { c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), o(), r() } function r() { for (var e = 0; e < d.length; e++)d[e].alpha <= 0 ? (t.body.removeChild(d[e].el), d.splice(e, 1)) : (d[e].y--, d[e].scale += .004, d[e].alpha -= .013, d[e].el.style.cssText = "left:" + d[e].x + "px;top:" + d[e].y + "px;opacity:" + d[e].alpha + ";transform:scale(" + d[e].scale + "," + d[e].scale + ") rotate(45deg);background:" + d[e].color + ";z-index:99999"); requestAnimationFrame(r) } function o() { var t = "function" == typeof e.onclick && e.onclick; e.onclick = function (e) { t && t(), i(e) } } function i(e) { var a = t.createElement("div"); a.className = "heart", d.push({ el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: s() }), t.body.appendChild(a) } function c(e) { var a = t.createElement("style"); a.type = "text/css"; try { a.appendChild(t.createTextNode(e)) } catch (t) { a.styleSheet.cssText = e } t.getElementsByTagName("head")[0].appendChild(a) } function s() { return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")" } var d = []; e.requestAnimationFrame = function () { return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) { setTimeout(e, 1e3 / 60) } }(), n() }(window, document);
</script>
 -->
 
<script>
  // ËøõÂ∫¶Êù°Âä†ËΩΩ: nprogress
  NProgress.start()
  NProgress.done()
</script>

<script type="text/javascript" defer>
  $(document).ready(function () {
    $.goup({
      trigger: 100,
      bottomOffset: 50,
      locationOffset: 50,
      title: '0%',
      titleAsText: true
    });
    $(".goup-container").css("background", "#64dcf0 none repeat scroll 0% 0%").css("opacity", 0.9);
    $(".goup-text").css("font-weight", 600).css("opacity", 0.9);
  });

  $(document).scroll(function () {
    var d_h = $(document).height();
    var c_h = $(window).height();
    var c_t_h = $(window).scrollTop();
    var schedule = c_t_h / (d_h - c_h - 0.5);
    var str = Number(schedule * 100).toFixed();
    str += "%";
    $(".goup-text").text(str);
  });
</script>

<!-- Á´ôÂÜÖÈÄöÁü• -->
<script src="/js/notification.js"></script>
<script>
  'use strict';

  (function () {
    $(function () {
      $('.position').click(function (event) {
        var el = $(event.target);
        $('.position').removeClass('selected');
        el.addClass('selected');
        position = el.attr('data-position');
      });
    });
  });

  var position = 2;
  // ÂÖ≥Èó≠ÁôæÊØ´ÁßíÊï∞
  var closeTime = 50;
  var notifyFunc = function () {
    // Notification.create(
    //   //¬†Title
    //   "TencentÂÜÖÊé®‰∏≠üìß",
    //   //¬†Text
    //   "ÁÆÄÂéÜÊäïÈÄíÂ§ÑÔºö<BR/><a href='/hiring/'>ÁÆÄÂéÜÊäïÈÄí</a>",
    //   //¬†Illustration
    //   "/images/avatar4.jpg",
    //   //¬†Effect
    //   'fadeInRight',
    //   //¬†Position¬†1, 2,¬†3,¬†4
    //   position,
    //   closeTime
    // );
    // setTimeout(() => {
    //   Notification.create(
    //     "ËµÑÊ∫ê‰∏ãËΩΩ‚ö°",
    //     "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/sharing/'>Êñá‰ª∂ÂàÜ‰∫´</a>",
    //     "/images/avatar4.jpg",
    //     'fadeInRight',
    //     position,
    //     closeTime
    //   )
    // }, 350);
    setTimeout(() => {
      Notification.create(
        "RSSËÆ¢ÈòÖüì¢",
        "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/atom.xml'>RSSËÆ¢ÈòÖ</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 0);
    setTimeout(() => {
        Notification.create(
        "Âú®Á∫øÁæ§ËÅäüí≠",
        "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/chat/'>ÁïÖÊâÄÊ¨≤Ë®Ä</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 350);
    setTimeout(() => {
        Notification.create(
        // "Ë∑ëÊ≠•ÂÅ•Ë∫´üèÉ",
        // "‰º†ÈÄÅÈó®Ôºö<BR/><a href='/running/'>Ë∑ëÊ≠•ÂÅ•Ë∫´</a>",
        "ÊëÑÂΩ±ÂàÜ‰∫´üì∑",
        "‰º†ÈÄÅÈó®Ôºö<BR/><a href='http://159.75.131.252:32352/'>ÊëÑÂΩ±ÂàÜ‰∫´</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 700);
  };

  (function once() {
    if (sessionStorage.getItem('load') == null) {
      notifyFunc();
      sessionStorage.setItem('load', false);
    } else {
      return;
    }
  })();
</script>
<script>
  $(document).on("click", ".dismiss", function (e) {
    Notification.hide(e.currentTarget.classList[1].split('-')[1]);
  })
</script>

</html>