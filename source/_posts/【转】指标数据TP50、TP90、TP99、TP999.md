---
title: 【转】指标数据TP50、TP90、TP99、TP999
toc: true
cover: 'https://img.paulzzh.com/touhou/random?23'
date: 2021-06-23 13:22:02
categories: 技术杂谈
tags: [技术杂谈, 性能指标]
description: TP指标是软件性能的重要指标，本文讲解了指标数据TP50、TP90、TP99、TP999；
---

TP指标是软件性能的重要指标，本文讲解了指标数据TP50、TP90、TP99、TP999；

<br/>

<!--more-->

## **【转】指标数据TP50、TP90、TP99、TP999**

### **什么是TP指标**

TP指标是指：

<font color="#f00">**在一个时间段内，统计该方法每次调用所消耗的时间，并将这些时间`按从小到大的顺序进行排序`，并取出结果为：`第(指标数%)所对应的时间值`；**</font>

例如，TP50是指：

在一个时间段内（如5分钟），统计该方法每次调用所消耗的时间，并将这些时间按从小到大的顺序进行排序，取第50%的那个值作为TP50 值；

>   **TP50与告警：**
>
>   **当配置此监控指标对应的报警阀值后，需要保证在这个时间段内该方法所有调用的消耗时间至少有50%的值要小于此阀值，否则系统将会报警；**

TP90，TP99，TP999与TP50值计算方式一致，它们分别代表着对方法的不同性能要求：

-   TP50相对较低；
-   TP90则比较高；
-   TP99，TP999则对方法性能要求很高；

<br/>

### **一个性能指标例子**

举个例子：有四次请求耗时分别为：

10ms，1000ms，100ms，2ms

那么我们可以这样计算TP99：

4次请求中，99%的请求数为4*0.99，进位取整也就是取第4次，满足这全部4次请求的的最低耗时为1000ms，也就是TP99的答案是1000ms；

<br/>

## **附录**

文章参考：

-   [指标数据TP50、TP90、TP99、TP999](https://www.jianshu.com/p/a592eaf983db)

<br/>

