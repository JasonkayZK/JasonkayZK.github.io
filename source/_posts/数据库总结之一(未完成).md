---
title: 数据库总结之一
toc: false
date: 2019-12-03 22:56:54
cover: http://api.mtyqx.cn/api/random.php?21
categories: 面试总结
tags: 数据库
description: 本文是Java面试总结中数据库的第一篇
---

本文是Java面试总结中数据库的第一篇

<br/>

<!--more-->

## 1. 触发器与存储过程

**存储过程**

存储过程（Stored Procedure）是一组为了完成特定功能的SQL 语句集，经编译后存储在数据库。用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它相对于直接使用SQL 语句，在应用程序中直接调用存储过程有以下好处:

-   (1)减少网络通信量
-   (2)执行速度更快
-   (3)更强的适应性
-   (4) 分布式工作

**缺点:**

-   **扩展性差:** 如果更改范围大到需要对输入存储过程的参数进行更改，或者要更改由其返回的数据，则需要更新程序集中的代码以添加参数、更新, 调用，等等
-   **可移植性差:** 由于存储过程将应用程序绑定到 MySQL，因此使用存储过程封装业务逻辑将限制应用程序的可移植性

<br/>

例: 创建对表t_student的存储过程，实现查询指定id值的ccname功能

```mysql
use mybatis;

delimiter $$
create procedure date_pre(in cid INT, out ccname char (20))
begin
select cnname from t_student where id = cid into ccname;
end$$
delimiter ;

call date_pre(1, @name1);
select @name1;

```

<br/>

**触发器**

触发器是一种用来**保障参照完整性的特殊的存储过程**，它**维护不同表中数据间关系的有关规则**。当**对指定的表进行某种特定操作（如：Insert,Delete或Update）时，触发器产生作用**。触发器**可以调用存储过程**

触发器是**一种特殊的存储过程**

创建对表bookcard的触发器，实现在表bookcard中插入数据时，会自动将操作保存在日志表中









<br/>