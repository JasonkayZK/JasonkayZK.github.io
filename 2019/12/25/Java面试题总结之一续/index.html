<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="/js/jquery.goup.min.js" defer></script>
  
  <title>Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­ - å¼ å°å‡¯çš„åšå®¢</title>
  <meta charset="UTF-8">
  <meta name="description" content="è¬™è™šã¯äººã‚’é€²æ­©ã•ã›ã€ã”ã†ã¾ã‚“ã¯äººã‚’è½å¾Œã•ã›ã‚‹ã€‚ç¤¾ä¼šã®åˆå¿ƒè€…ã‹ã‚‰ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png">
  <meta name="description" content="è¿™äº›é¢˜æ˜¯å‰æ®µæ—¶é—´ä¸€ä½åŒå­¦åœ¨é˜¿é‡Œäº‘é¢è¯•çš„æ—¶å€™ï¼Œé¢è¯•å®˜é—®åˆ°çš„">
<meta name="keywords" content="Javaé¢è¯•">
<meta property="og:type" content="article">
<meta property="og:title" content="Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­">
<meta property="og:url" content="https://jasonkayzk.github.io/2019/12/25/Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­/index.html">
<meta property="og:site_name" content="å¼ å°å‡¯çš„åšå®¢">
<meta property="og:description" content="è¿™äº›é¢˜æ˜¯å‰æ®µæ—¶é—´ä¸€ä½åŒå­¦åœ¨é˜¿é‡Œäº‘é¢è¯•çš„æ—¶å€™ï¼Œé¢è¯•å®˜é—®åˆ°çš„">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/Java%E5%A0%86%E5%86%85%E5%AD%98%E5%88%86%E4%BB%A3.jpeg">
<meta property="og:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%E7%AE%97%E6%B3%95.jpg">
<meta property="og:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E5%A4%8D%E5%88%B6%E7%AE%97%E6%B3%95.jpg">
<meta property="og:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E6%A0%87%E8%AE%B0%E6%95%B4%E7%90%86%E7%AE%97%E6%B3%95.jpg">
<meta property="og:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E4%B8%BB%E4%BB%8E%E6%9E%B6%E6%9E%84.jpg">
<meta property="og:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E7%82%B9%E5%AF%B9%E7%82%B9.png">
<meta property="og:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85.png">
<meta property="og:updated_time" content="2026-02-10T12:07:45.742Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­">
<meta name="twitter:description" content="è¿™äº›é¢˜æ˜¯å‰æ®µæ—¶é—´ä¸€ä½åŒå­¦åœ¨é˜¿é‡Œäº‘é¢è¯•çš„æ—¶å€™ï¼Œé¢è¯•å®˜é—®åˆ°çš„">
<meta name="twitter:image" content="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/Java%E5%A0%86%E5%86%85%E5%AD%98%E5%88%86%E4%BB%A3.jpeg">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.16.2/styles/atom-one-dark.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1770725355465">

  <!-- è¿›åº¦æ¡åŠ è½½: nprogress -->
  <link href="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6617852905105366" crossorigin="anonymous"></script>
  <!-- Cloudflare Web Analytics -->
   <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{"token": "73d46a730654451bac205cdc12bea918"}"></script>
  <!-- umami Web Analytics -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="23fadd4b-d559-4ae0-a4f6-f90680c3d4c0"></script>

  <!-- æœ¬åœ°æœç´¢js -->
  <script type="text/javascript" src="/js/search.js"></script>

  <!-- ç™¾åº¦ç«™ç‚¹ç®¡ç† -->
  <meta name="baidu-site-verification" content="code-SKIvb4A1Qx">

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-1NWK4EEKDF');
  </script>

  <!-- ç«™å†…é€šçŸ¥ -->
  <link href="https://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="/css/default.css">
  <link rel="stylesheet" href="/css/animate.min.css">
  <link rel="stylesheet" href="/css/notification.css">
  <link rel="stylesheet" href="/css/index.css">
<link rel="alternate" href="/atom.xml" title="å¼ å°å‡¯çš„åšå®¢" type="application/atom+xml">
</head>

<!-- æ–‡ç« é˜…è¯»è¿›åº¦æ¡æ ·å¼ -->
<style>
  #content_progress {
      /* Positioning */
      position: fixed;
      left: 0;
      top: 0;
      z-index: 99999;
      width: 100%;
      height: 3px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      border: none;
      background-color: transparent;
      color: #ffaa73;
}

#content_progress::-webkit-progress-bar {
      background-color: transparent;
}

#content_progress::-webkit-progress-value {
      background-color: #ffaa73;
}

#content_progress::-moz-progress-bar {
      background-color:#ffaa73;
}
</style>
<!-- æ–‡ç« é˜…è¯»è¿›åº¦æ¡JS -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      var winHeight = window.innerHeight,
            docHeight = document.documentElement.scrollHeight,
            progressBar = document.querySelector('#content_progress');
      progressBar.max = docHeight - winHeight;
      progressBar.value = window.scrollY;

      document.addEventListener('scroll', function () {
            progressBar.max = document.documentElement.scrollHeight - window.innerHeight;
            progressBar.value = window.scrollY;
      });
});
</script>

<body class="mdui-drawer-body-left">
  <!-- æ–‡ç« é˜…è¯»è¿›åº¦æ¡ -->
  <progress id="content_progress" value="0"></progress>

  <!-- éŸ³é¢‘æ’­æ”¾ -->
  <!-- <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script> -->

  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(/images/bg.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <a href="/" title="Jasonkay" class="mdui-btn mdui-btn-icon"><img src="/images/avatar4.jpg"></a>
      </div>
    </div>
  </div>
  <div id="nexmoe-header">
    <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Jasonkay">
            <img src="/images/avatar4.jpg" alt="Jasonkay">
        </a>
    </div>

    <!-- é»‘ç™½åˆ‡æ¢css -->
    <!-- <style>
        .light-dark-checkbox {
            margin: 0 auto;
        }

        /* The switch - the box around the slider */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* Hide default HTML checkbox */
        .switch .theme-switcher {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            transition: 0.4s;
        }

        .slider:before {
            position: absolute;
            content: "ğŸŒ";
            height: 0px;
            width: 0px;
            left: -10px;
            top: 16px;
            line-height: 0px;
            transition: 0.4s;
        }

        .theme-switcher:checked+.slider:before {
            left: 35px;
            content: "ğŸŒ‘";
        }

        .theme-switcher:checked+.slider:before {
            transform: translateX(45px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 40px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /* æš—é»‘æ ·å¼ */
        body.night {
            background-color: #263238;
            color: #aaa;
        }
        body.night img {
            filter: brightness(30%);
        }
        article.night {
            background-color: black;
            color: white;
        }
    </style> -->

    <!-- é»‘ç™½å¼€å…³ -->
    <!-- <div class="nexmoe-list-item mdui-list-item">
        <div class="light-dark-checkbox">
            <div>
                é»‘ç™½æ¨¡å¼åˆ‡æ¢(Beta)
            </div>
            <label class="switch">
                <input id="light-dark-input" type="checkbox" onclick="switchTheme();" class="theme-switcher">
                <span class="slider round"></span>
            </label>
        </div>
    </div> -->

    <!-- é»‘ç™½åˆ‡æ¢js -->
    <!-- <script>
        // get hours of the day in 24Hr format (0-23)
        var hr = (new Date()).getHours();

        $(document).ready(function () {
            var theme = sessionStorage.getItem("theme");
            if (theme == "dark") {
                document.body.classList.add('night');
                console.log('å¤œé—´æ¨¡å¼å¼€å¯');
            } else if (theme == "light") {
                document.body.classList.remove('night');
                console.log('å¤œé—´æ¨¡å¼å…³é—­');
            } else {
                setDefaultTheme(hr);
            }
        });

        function switchTheme() {
            if (sessionStorage.getItem("theme") == "dark") {
                sessionStorage.setItem("theme", "light");
                document.body.classList.remove('night');
                console.log('å¤œé—´æ¨¡å¼å…³é—­');
            } else if (sessionStorage.getItem("theme") == "light") {
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('å¤œé—´æ¨¡å¼å¼€å¯');
            } else {
                setDefaultTheme(hr);
            }
        };

        function setDefaultTheme(curHr) {
            // 6:00-18:00 light
            if (curHr >= 6 && curHr <= 18) {
                document.body.classList.remove('night');
                console.log('å¤œé—´æ¨¡å¼å…³é—­');
                sessionStorage.setItem("theme", "light");
                $("#light-dark-input").attr("checked", false);
            } else {
                // 0:00-6:00 & 18:00-00:00 night
                sessionStorage.setItem("theme", "dark");
                document.body.classList.add('night');
                console.log('å¤œé—´æ¨¡å¼å¼€å¯');
                $("#light-dark-input").attr("checked", true);
            }
        }
    </script> -->

    <div class="nexmoe-count">
        <div><span>æ–‡ç« </span>522</div>
        <div><span>æ ‡ç­¾</span>277</div>
        <div><span>åˆ†ç±»</span>67</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="å›åˆ°é¦–é¡µ">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                å›åˆ°é¦–é¡µ
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/jp/" title="æ—¥è¯­åˆ†ç«™">
            <i class="mdui-list-item-icon nexmoefont icon-calendar-fill"></i>
            <div class="mdui-list-item-content">
                æ—¥è¯­åˆ†ç«™
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about/" title="å…³äºåšå®¢">
            <i class="mdui-list-item-icon nexmoefont icon-eye-fill"></i>
            <div class="mdui-list-item-content">
                å…³äºåšå®¢
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archive" title="æ–‡ç« å½’æ¡£">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                æ–‡ç« å½’æ¡£
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/anki/" title="Ankiç¬”è®°">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                Ankiç¬”è®°
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/study/" title="å­¦ä¹ è¿›åº¦">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                å­¦ä¹ è¿›åº¦
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/running/" title="è·‘æ­¥å¥èº«">
            <i class="mdui-list-item-icon nexmoefont icon-dribbble"></i>
            <div class="mdui-list-item-content">
                è·‘æ­¥å¥èº«
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/interview/" title="é¢è¯•ç›¸å…³">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                é¢è¯•ç›¸å…³
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/algorithm/" title="ç®—æ³•æ€»ç»“">
            <i class="mdui-list-item-icon nexmoefont icon-areachart"></i>
            <div class="mdui-list-item-content">
                ç®—æ³•æ€»ç»“
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/installing/" title="è½¯ä»¶å®‰è£…">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                è½¯ä»¶å®‰è£…
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/board/" title="åˆ›æ„ç™½æ¿">
            <i class="mdui-list-item-icon nexmoefont icon-tag-fill"></i>
            <div class="mdui-list-item-content">
                åˆ›æ„ç™½æ¿
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="http://159.75.131.252:32352/" title="æ‘„å½±åˆ†äº«">
            <i class="mdui-list-item-icon nexmoefont icon-telegram"></i>
            <div class="mdui-list-item-content">
                æ‘„å½±åˆ†äº«
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/chat/" title="ç•…æ‰€æ¬²è¨€">
            <i class="mdui-list-item-icon nexmoefont icon-ellipsis"></i>
            <div class="mdui-list-item-content">
                ç•…æ‰€æ¬²è¨€
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/realtime/" title="å®æ—¶æ•°æ®ç»Ÿè®¡">
            <i class="mdui-list-item-icon nexmoefont icon-time-circle-fill"></i>
            <div class="mdui-list-item-content">
                å®æ—¶æ•°æ®ç»Ÿè®¡
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/py/" title="å‹æƒ…é“¾æ¥">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                å‹æƒ…é“¾æ¥
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ç¤¾äº¤æŒ‰é’®</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/23364338" target="_blank" mdui-tooltip="{content: 'å“”å“©å“”å“©'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="https://steamcommunity.com/id/jasonkayzk/" target="_blank" mdui-tooltip="{content: 'Steam'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-steam"></i>
        </a><a class="mdui-ripple" href="https://twitter.com/Jasonkay_ZK/" target="_blank" mdui-tooltip="{content: 'Twitter'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-twitter"></i>
        </a><a class="mdui-ripple" href="mailto:jasonkayzk@gmail.com" target="_blank" mdui-tooltip="{content: 'Mail'}" style="color: rgb(29, 161, 242);background-color: rgba(29, 161, 242, .1);">
            <i class="nexmoefont icon-mail-fill"></i>
        </a>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">ç«™å†…æœç´¢</h3>
    <div class="nexmoe-widget nexmoe-search">
        <form class="site-search-form">
            <input type="text" id="local-search-input" class="st-search-input">
        </form>
        <div id="local-search-result" class="local-search-result-cls">
        </div>
    </div>
</div>

<!-- æ‰§è¡Œæœ¬åœ°æœç´¢è„šæœ¬ -->
<script type="text/javascript">
    var path = "https://cdn.jsdelivr.net/gh/jasonkayzk/JasonkayZK.github.io@master/search.xml";
    searchFunc(path, 'local-search-input', 'local-search-result');
</script>

<style type="text/css">
/* æœç´¢æ¡ */
.site-search-form {
    text-align: center;
}
#local-search-input {
    width: 100%;
}

/* æœç´¢ç»“æœå…³é—­ */
#local-search-close {
    font-size: 22.5px;
    cursor: pointer;
    color: #ff4e6a;
}

.search-result-list > li {
    line-height: 0.75;
    margin-top: -5px;
}

</style>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ ‡ç­¾äº‘</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/2048/" style="font-size: 10px;">2048</a> <a href="/tags/ACM/" style="font-size: 10px;">ACM</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/AUFS/" style="font-size: 10px;">AUFS</a> <a href="/tags/Android/" style="font-size: 10.91px;">Android</a> <a href="/tags/AppStore/" style="font-size: 10px;">AppStore</a> <a href="/tags/AppleScript/" style="font-size: 10px;">AppleScript</a> <a href="/tags/Aria2/" style="font-size: 10.91px;">Aria2</a> <a href="/tags/Async/" style="font-size: 10px;">Async</a> <a href="/tags/BFS/" style="font-size: 10.45px;">BFS</a> <a href="/tags/Bash/" style="font-size: 10.45px;">Bash</a> <a href="/tags/BitTorrent/" style="font-size: 10px;">BitTorrent</a> <a href="/tags/BloomFilter/" style="font-size: 10px;">BloomFilter</a> <a href="/tags/Bytebase/" style="font-size: 10px;">Bytebase</a> <a href="/tags/C/" style="font-size: 15.91px;">C++</a> <a href="/tags/CAP/" style="font-size: 10px;">CAP</a> <a href="/tags/CDN/" style="font-size: 10.45px;">CDN</a> <a href="/tags/CGLibåŠ¨æ€ä»£ç†/" style="font-size: 10px;">CGLibåŠ¨æ€ä»£ç†</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Caffeine/" style="font-size: 10px;">Caffeine</a> <a href="/tags/Cargo/" style="font-size: 11.82px;">Cargo</a> <a href="/tags/CentOS/" style="font-size: 12.27px;">CentOS</a> <a href="/tags/Cgroups/" style="font-size: 10px;">Cgroups</a> <a href="/tags/Chromeæ‰©å±•/" style="font-size: 10px;">Chromeæ‰©å±•</a> <a href="/tags/Cli/" style="font-size: 10.45px;">Cli</a> <a href="/tags/ClickHouse/" style="font-size: 10px;">ClickHouse</a> <a href="/tags/Cling/" style="font-size: 10px;">Cling</a> <a href="/tags/Clion/" style="font-size: 10px;">Clion</a> <a href="/tags/Colima/" style="font-size: 10px;">Colima</a> <a href="/tags/Container/" style="font-size: 10px;">Container</a> <a href="/tags/DFS/" style="font-size: 10.45px;">DFS</a> <a href="/tags/DLL/" style="font-size: 10.45px;">DLL</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/Docker/" style="font-size: 18.64px;">Docker</a> <a href="/tags/Docker-Compose/" style="font-size: 10.45px;">Docker-Compose</a> <a href="/tags/DockerHub/" style="font-size: 10px;">DockerHub</a> <a href="/tags/Dolt/" style="font-size: 10px;">Dolt</a> <a href="/tags/Dubbo/" style="font-size: 10.91px;">Dubbo</a> <a href="/tags/Easegress/" style="font-size: 10px;">Easegress</a> <a href="/tags/ElasticSearch/" style="font-size: 14.09px;">ElasticSearch</a> <a href="/tags/Electron/" style="font-size: 10.45px;">Electron</a> <a href="/tags/English/" style="font-size: 10px;">English</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/Express/" style="font-size: 10px;">Express</a> <a href="/tags/FFmpeg/" style="font-size: 10px;">FFmpeg</a> <a href="/tags/FTP/" style="font-size: 10.45px;">FTP</a> <a href="/tags/FaaS/" style="font-size: 10px;">FaaS</a> <a href="/tags/Future/" style="font-size: 10px;">Future</a> <a href="/tags/GC/" style="font-size: 10px;">GC</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/GRPC/" style="font-size: 10px;">GRPC</a> <a href="/tags/Gin/" style="font-size: 10px;">Gin</a> <a href="/tags/Git/" style="font-size: 13.64px;">Git</a> <a href="/tags/Gitee/" style="font-size: 10px;">Gitee</a> <a href="/tags/Github/" style="font-size: 14.55px;">Github</a> <a href="/tags/Github-Actions/" style="font-size: 10px;">Github-Actions</a> <a href="/tags/Golang/" style="font-size: 18.18px;">Golang</a> <a href="/tags/Gomod/" style="font-size: 10px;">Gomod</a> <a href="/tags/Goroutine/" style="font-size: 10.91px;">Goroutine</a> <a href="/tags/GraalVM/" style="font-size: 10px;">GraalVM</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/tags/HAProxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/IDEAé…ç½®/" style="font-size: 10px;">IDEAé…ç½®</a> <a href="/tags/IDç”Ÿæˆå™¨/" style="font-size: 10.45px;">IDç”Ÿæˆå™¨</a> <a href="/tags/IOæ¨¡å‹/" style="font-size: 10px;">IOæ¨¡å‹</a> <a href="/tags/Ingress/" style="font-size: 10.45px;">Ingress</a> <a href="/tags/JDKåŠ¨æ€ä»£ç†/" style="font-size: 10.45px;">JDKåŠ¨æ€ä»£ç†</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 12.27px;">Java</a> <a href="/tags/JavaWeb/" style="font-size: 10px;">JavaWeb</a> <a href="/tags/JavaåŸºç¡€/" style="font-size: 16.82px;">JavaåŸºç¡€</a> <a href="/tags/Javaæ³¨è§£/" style="font-size: 10px;">Javaæ³¨è§£</a> <a href="/tags/Javaæºç /" style="font-size: 12.27px;">Javaæºç </a> <a href="/tags/Javaé¢è¯•/" style="font-size: 11.36px;">Javaé¢è¯•</a> <a href="/tags/JuiceFS/" style="font-size: 10px;">JuiceFS</a> <a href="/tags/JupyterLab/" style="font-size: 10px;">JupyterLab</a> <a href="/tags/Kafka/" style="font-size: 10.45px;">Kafka</a> <a href="/tags/Kubernetes/" style="font-size: 15.45px;">Kubernetes</a> <a href="/tags/LVS/" style="font-size: 10.91px;">LVS</a> <a href="/tags/Lambdaè¡¨è¾¾å¼/" style="font-size: 10.91px;">Lambdaè¡¨è¾¾å¼</a> <a href="/tags/LevelDB/" style="font-size: 10px;">LevelDB</a> <a href="/tags/Library/" style="font-size: 10.45px;">Library</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 16.36px;">Linux</a> <a href="/tags/LruCache/" style="font-size: 10px;">LruCache</a> <a href="/tags/MacOS/" style="font-size: 10.45px;">MacOS</a> <a href="/tags/Maven/" style="font-size: 12.27px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 13.64px;">MySQL</a> <a href="/tags/Mybatis/" style="font-size: 10.91px;">Mybatis</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/NIO/" style="font-size: 10.91px;">NIO</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Namespace/" style="font-size: 10px;">Namespace</a> <a href="/tags/Netty/" style="font-size: 10px;">Netty</a> <a href="/tags/Newman/" style="font-size: 10px;">Newman</a> <a href="/tags/Nginx/" style="font-size: 12.27px;">Nginx</a> <a href="/tags/Node-js/" style="font-size: 11.36px;">Node.js</a> <a href="/tags/Okular/" style="font-size: 10px;">Okular</a> <a href="/tags/P2P/" style="font-size: 10px;">P2P</a> <a href="/tags/POML/" style="font-size: 10px;">POML</a> <a href="/tags/Panic/" style="font-size: 10px;">Panic</a> <a href="/tags/PipelineDB/" style="font-size: 10px;">PipelineDB</a> <a href="/tags/PostgreSQL/" style="font-size: 10.45px;">PostgreSQL</a> <a href="/tags/Postman/" style="font-size: 10.45px;">Postman</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/Protobuf/" style="font-size: 10.91px;">Protobuf</a> <a href="/tags/Python/" style="font-size: 11.36px;">Python</a> <a href="/tags/RAII/" style="font-size: 10px;">RAII</a> <a href="/tags/RPC/" style="font-size: 10px;">RPC</a> <a href="/tags/RSS/" style="font-size: 10.91px;">RSS</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/Redash/" style="font-size: 10px;">Redash</a> <a href="/tags/Redis/" style="font-size: 14.55px;">Redis</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Rust/" style="font-size: 18.64px;">Rust</a> <a href="/tags/SPA/" style="font-size: 10px;">SPA</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/SSH/" style="font-size: 10.45px;">SSH</a> <a href="/tags/Serverless/" style="font-size: 10px;">Serverless</a> <a href="/tags/Shadowsocks/" style="font-size: 10.91px;">Shadowsocks</a> <a href="/tags/Skiplist/" style="font-size: 10px;">Skiplist</a> <a href="/tags/Slice/" style="font-size: 10px;">Slice</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/Spring/" style="font-size: 11.82px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/Springæºç /" style="font-size: 10px;">Springæºç </a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/Swagger/" style="font-size: 10px;">Swagger</a> <a href="/tags/TOML/" style="font-size: 10px;">TOML</a> <a href="/tags/Telegraf/" style="font-size: 10px;">Telegraf</a> <a href="/tags/Telegram/" style="font-size: 10px;">Telegram</a> <a href="/tags/Tomcat/" style="font-size: 10.45px;">Tomcat</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UUID/" style="font-size: 10px;">UUID</a> <a href="/tags/UnionFS/" style="font-size: 10px;">UnionFS</a> <a href="/tags/VMWare/" style="font-size: 13.18px;">VMWare</a> <a href="/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/tags/WebAssembly/" style="font-size: 10.45px;">WebAssembly</a> <a href="/tags/Websocket/" style="font-size: 10px;">Websocket</a> <a href="/tags/XML/" style="font-size: 10.91px;">XML</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/Zookeeper/" style="font-size: 10.91px;">Zookeeper</a> <a href="/tags/apt/" style="font-size: 10px;">apt</a> <a href="/tags/autok3s/" style="font-size: 10px;">autok3s</a> <a href="/tags/cURL/" style="font-size: 10px;">cURL</a> <a href="/tags/chroot/" style="font-size: 10px;">chroot</a> <a href="/tags/cmder/" style="font-size: 10px;">cmder</a> <a href="/tags/grpc/" style="font-size: 10px;">grpc</a> <a href="/tags/hashå†²çª/" style="font-size: 10px;">hashå†²çª</a> <a href="/tags/inoreader/" style="font-size: 10px;">inoreader</a> <a href="/tags/k3s/" style="font-size: 10.45px;">k3s</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/libp2p/" style="font-size: 10px;">libp2p</a> <a href="/tags/minikube/" style="font-size: 10.45px;">minikube</a> <a href="/tags/ntfy/" style="font-size: 10px;">ntfy</a> <a href="/tags/picocli/" style="font-size: 10px;">picocli</a> <a href="/tags/telnet/" style="font-size: 10px;">telnet</a> <a href="/tags/uv/" style="font-size: 10px;">uv</a> <a href="/tags/vcpkg/" style="font-size: 10px;">vcpkg</a> <a href="/tags/xorm/" style="font-size: 10px;">xorm</a> <a href="/tags/äºŒåˆ†æ³•/" style="font-size: 10px;">äºŒåˆ†æ³•</a> <a href="/tags/äºŒå‰æ ‘/" style="font-size: 15.45px;">äºŒå‰æ ‘</a> <a href="/tags/äºŒç»´ç /" style="font-size: 10px;">äºŒç»´ç </a> <a href="/tags/äº¤å‰ç¼–è¯‘/" style="font-size: 10px;">äº¤å‰ç¼–è¯‘</a> <a href="/tags/äººå·¥æ™ºèƒ½/" style="font-size: 10.91px;">äººå·¥æ™ºèƒ½</a> <a href="/tags/äººç”Ÿæ—¥è®°/" style="font-size: 17.73px;">äººç”Ÿæ—¥è®°</a> <a href="/tags/ä»£ç†æ¨¡å¼/" style="font-size: 10px;">ä»£ç†æ¨¡å¼</a> <a href="/tags/ä½è¿ç®—/" style="font-size: 10.45px;">ä½è¿ç®—</a> <a href="/tags/ä¿¡å·/" style="font-size: 10px;">ä¿¡å·</a> <a href="/tags/ä¿¡æ¯èšåˆ/" style="font-size: 10px;">ä¿¡æ¯èšåˆ</a> <a href="/tags/å†…å­˜ç®¡ç†/" style="font-size: 10.45px;">å†…å­˜ç®¡ç†</a> <a href="/tags/å†…ç½‘ç©¿é€/" style="font-size: 10px;">å†…ç½‘ç©¿é€</a> <a href="/tags/å‡½æ•°å¼æ¥å£/" style="font-size: 10px;">å‡½æ•°å¼æ¥å£</a> <a href="/tags/åˆ†å¸ƒå¼/" style="font-size: 15.91px;">åˆ†å¸ƒå¼</a> <a href="/tags/åŠå…¬/" style="font-size: 10px;">åŠå…¬</a> <a href="/tags/åŠ¨æ€è§„åˆ’/" style="font-size: 11.36px;">åŠ¨æ€è§„åˆ’</a> <a href="/tags/åç¨‹æ± /" style="font-size: 10px;">åç¨‹æ± </a> <a href="/tags/åšå®¢ç®¡ç†/" style="font-size: 13.18px;">åšå®¢ç®¡ç†</a> <a href="/tags/åšå®¢ç¾åŒ–/" style="font-size: 11.82px;">åšå®¢ç¾åŒ–</a> <a href="/tags/åŒæŒ‡é’ˆ/" style="font-size: 10.45px;">åŒæŒ‡é’ˆ</a> <a href="/tags/åå°„/" style="font-size: 12.27px;">åå°„</a> <a href="/tags/å£æ‰/" style="font-size: 10px;">å£æ‰</a> <a href="/tags/å“ˆå¸Œè¡¨/" style="font-size: 10.45px;">å“ˆå¸Œè¡¨</a> <a href="/tags/å›æº¯/" style="font-size: 10.45px;">å›æº¯</a> <a href="/tags/å›æº¯æ³•/" style="font-size: 10px;">å›æº¯æ³•</a> <a href="/tags/å †/" style="font-size: 10.45px;">å †</a> <a href="/tags/å¤šçº¿ç¨‹ä¸‹è½½/" style="font-size: 10.45px;">å¤šçº¿ç¨‹ä¸‹è½½</a> <a href="/tags/å¤§æ•°æ®/" style="font-size: 10px;">å¤§æ•°æ®</a> <a href="/tags/å­—ç¬¦ä¸²/" style="font-size: 13.18px;">å­—ç¬¦ä¸²</a> <a href="/tags/å­—ç¬¦ä¸²å¤„ç†/" style="font-size: 10px;">å­—ç¬¦ä¸²å¤„ç†</a> <a href="/tags/å­¦ä¹ æ¡ˆä¾‹/" style="font-size: 10.45px;">å­¦ä¹ æ¡ˆä¾‹</a> <a href="/tags/å®¹å™¨/" style="font-size: 10px;">å®¹å™¨</a> <a href="/tags/å·¥å…·åˆ†äº«/" style="font-size: 19.09px;">å·¥å…·åˆ†äº«</a> <a href="/tags/å¹¶å‘ç¼–ç¨‹/" style="font-size: 15.45px;">å¹¶å‘ç¼–ç¨‹</a> <a href="/tags/å¹¶è¡Œè®¡ç®—/" style="font-size: 10px;">å¹¶è¡Œè®¡ç®—</a> <a href="/tags/åºåˆ—åŒ–/" style="font-size: 10px;">åºåˆ—åŒ–</a> <a href="/tags/å»ºç­‘/" style="font-size: 10px;">å»ºç­‘</a> <a href="/tags/å¼€å‘è§„èŒƒ/" style="font-size: 10.45px;">å¼€å‘è§„èŒƒ</a> <a href="/tags/å¼€æºåè®®/" style="font-size: 10px;">å¼€æºåè®®</a> <a href="/tags/æ€§èƒ½æŒ‡æ ‡/" style="font-size: 10px;">æ€§èƒ½æŒ‡æ ‡</a> <a href="/tags/æŠ€æœ¯æ‚è°ˆ/" style="font-size: 20px;">æŠ€æœ¯æ‚è°ˆ</a> <a href="/tags/æ’åº/" style="font-size: 11.82px;">æ’åº</a> <a href="/tags/æ¨é€/" style="font-size: 10px;">æ¨é€</a> <a href="/tags/æœç´¢/" style="font-size: 10px;">æœç´¢</a> <a href="/tags/æ“ä½œç³»ç»Ÿ/" style="font-size: 10.91px;">æ“ä½œç³»ç»Ÿ</a> <a href="/tags/æ•™å¸ˆ/" style="font-size: 10.45px;">æ•™å¸ˆ</a> <a href="/tags/æ•™æ¡ˆ/" style="font-size: 10.45px;">æ•™æ¡ˆ</a> <a href="/tags/æ•°å­¦/" style="font-size: 12.73px;">æ•°å­¦</a> <a href="/tags/æ•°æ®åº“/" style="font-size: 15px;">æ•°æ®åº“</a> <a href="/tags/æ•°ç»„/" style="font-size: 13.64px;">æ•°ç»„</a> <a href="/tags/æ–‡å­—éšè—/" style="font-size: 10px;">æ–‡å­—éšè—</a> <a href="/tags/æ–­ç‚¹ç»­ä¼ /" style="font-size: 10px;">æ–­ç‚¹ç»­ä¼ </a> <a href="/tags/æ–°æµªå¾®åš/" style="font-size: 10px;">æ–°æµªå¾®åš</a> <a href="/tags/æ—¥å¿—/" style="font-size: 10px;">æ—¥å¿—</a> <a href="/tags/æ—¥æœ¬èª/" style="font-size: 14.55px;">æ—¥æœ¬èª</a> <a href="/tags/æ—¥è¨˜/" style="font-size: 10.45px;">æ—¥è¨˜</a> <a href="/tags/æœåŠ¡è‡ªå»º/" style="font-size: 10.91px;">æœåŠ¡è‡ªå»º</a> <a href="/tags/æŸ¥æ‰¾/" style="font-size: 10.91px;">æŸ¥æ‰¾</a> <a href="/tags/æ ˆ/" style="font-size: 10.91px;">æ ˆ</a> <a href="/tags/æ­Œè©/" style="font-size: 10px;">æ­Œè©</a> <a href="/tags/æ­£åˆ™è¡¨è¾¾å¼/" style="font-size: 10.91px;">æ­£åˆ™è¡¨è¾¾å¼</a> <a href="/tags/æ±‡ç¼–è¯­è¨€/" style="font-size: 10px;">æ±‡ç¼–è¯­è¨€</a> <a href="/tags/æµ‹è¯•/" style="font-size: 10px;">æµ‹è¯•</a> <a href="/tags/æ»‘çª—/" style="font-size: 10px;">æ»‘çª—</a> <a href="/tags/ç‰ˆæœ¬æ§åˆ¶/" style="font-size: 10px;">ç‰ˆæœ¬æ§åˆ¶</a> <a href="/tags/ç”Ÿæ´»æ€»ç»“/" style="font-size: 10px;">ç”Ÿæ´»æ€»ç»“</a> <a href="/tags/ç¦åˆ©åˆ†äº«/" style="font-size: 10px;">ç¦åˆ©åˆ†äº«</a> <a href="/tags/ç®—æ³•/" style="font-size: 12.73px;">ç®—æ³•</a> <a href="/tags/ç®—æ³•é¢˜ç›®/" style="font-size: 19.55px;">ç®—æ³•é¢˜ç›®</a> <a href="/tags/ç±»åŠ è½½å™¨/" style="font-size: 10.45px;">ç±»åŠ è½½å™¨</a> <a href="/tags/ç´ æ•°/" style="font-size: 10px;">ç´ æ•°</a> <a href="/tags/çº¿æ€§æ¢æµ‹æ³•/" style="font-size: 10px;">çº¿æ€§æ¢æµ‹æ³•</a> <a href="/tags/çº¿ç¨‹æ± /" style="font-size: 10.91px;">çº¿ç¨‹æ± </a> <a href="/tags/ç¼–è¯‘ä¼˜åŒ–/" style="font-size: 10px;">ç¼–è¯‘ä¼˜åŒ–</a> <a href="/tags/ç¼–è¯‘å™¨/" style="font-size: 10px;">ç¼–è¯‘å™¨</a> <a href="/tags/ç½‘ç›˜/" style="font-size: 10px;">ç½‘ç›˜</a> <a href="/tags/ç½‘ç»œçº¿è·¯/" style="font-size: 10px;">ç½‘ç»œçº¿è·¯</a> <a href="/tags/ç¿»è¨³/" style="font-size: 10.45px;">ç¿»è¨³</a> <a href="/tags/è‡ªå¯åŠ¨/" style="font-size: 10px;">è‡ªå¯åŠ¨</a> <a href="/tags/è’™ç‰¹å¡ç½—æ–¹æ³•/" style="font-size: 10px;">è’™ç‰¹å¡ç½—æ–¹æ³•</a> <a href="/tags/è™šæ‹Ÿæœº/" style="font-size: 10.45px;">è™šæ‹Ÿæœº</a> <a href="/tags/è¡—æ™¯/" style="font-size: 10px;">è¡—æ™¯</a> <a href="/tags/è£…é¥°å™¨æ¨¡å¼/" style="font-size: 10px;">è£…é¥°å™¨æ¨¡å¼</a> <a href="/tags/è®¡ç®—æœºç½‘ç»œ/" style="font-size: 10px;">è®¡ç®—æœºç½‘ç»œ</a> <a href="/tags/è®¾è®¡æ¨¡å¼/" style="font-size: 10px;">è®¾è®¡æ¨¡å¼</a> <a href="/tags/è¯¾ç¨‹/" style="font-size: 10px;">è¯¾ç¨‹</a> <a href="/tags/è´Ÿè½½å‡è¡¡/" style="font-size: 12.27px;">è´Ÿè½½å‡è¡¡</a> <a href="/tags/è´ªå¿ƒ/" style="font-size: 10px;">è´ªå¿ƒ</a> <a href="/tags/è·³è·³è›™æ—¥è¯­è¯»åº“/" style="font-size: 10.45px;">è·³è·³è›™æ—¥è¯­è¯»åº“</a> <a href="/tags/è½¯ä»¶å®‰è£…ä¸é…ç½®/" style="font-size: 17.27px;">è½¯ä»¶å®‰è£…ä¸é…ç½®</a> <a href="/tags/è½¯ä»¶æ¨è/" style="font-size: 15px;">è½¯ä»¶æ¨è</a> <a href="/tags/è½¯ä»¶æµ‹è¯•/" style="font-size: 10.45px;">è½¯ä»¶æµ‹è¯•</a> <a href="/tags/è½¯è€ƒ/" style="font-size: 10px;">è½¯è€ƒ</a> <a href="/tags/è¿›åº¦æ¡/" style="font-size: 10.45px;">è¿›åº¦æ¡</a> <a href="/tags/è¿›ç¨‹é€šä¿¡/" style="font-size: 10px;">è¿›ç¨‹é€šä¿¡</a> <a href="/tags/é€†å‘å·¥ç¨‹/" style="font-size: 10px;">é€†å‘å·¥ç¨‹</a> <a href="/tags/é€’å½’/" style="font-size: 10.45px;">é€’å½’</a> <a href="/tags/é‡å®šå‘/" style="font-size: 10px;">é‡å®šå‘</a> <a href="/tags/é‡è£…ç³»ç»Ÿ/" style="font-size: 10px;">é‡è£…ç³»ç»Ÿ</a> <a href="/tags/é“¾è¡¨/" style="font-size: 13.64px;">é“¾è¡¨</a> <a href="/tags/é˜Ÿåˆ—/" style="font-size: 10px;">é˜Ÿåˆ—</a> <a href="/tags/éšæœºå›¾ç‰‡/" style="font-size: 10px;">éšæœºå›¾ç‰‡</a> <a href="/tags/é›†åˆ/" style="font-size: 14.09px;">é›†åˆ</a> <a href="/tags/é›¶å®½å­—ç¬¦/" style="font-size: 10px;">é›¶å®½å­—ç¬¦</a> <a href="/tags/é™æ€ä»£ç†/" style="font-size: 10px;">é™æ€ä»£ç†</a> <a href="/tags/é¢è¯•æ€»ç»“/" style="font-size: 15px;">é¢è¯•æ€»ç»“</a> <a href="/tags/é¡¹ç›®æ€»ç»“/" style="font-size: 10.91px;">é¡¹ç›®æ€»ç»“</a> <a href="/tags/é¡¹ç›®æ„å»º/" style="font-size: 10.91px;">é¡¹ç›®æ„å»º</a> <a href="/tags/é¡¹ç›®éƒ¨ç½²/" style="font-size: 11.36px;">é¡¹ç›®éƒ¨ç½²</a> <a href="/tags/é»‘è‹¹æœ/" style="font-size: 10px;">é»‘è‹¹æœ</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ–‡ç« åˆ†ç±»</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ACM/">ACM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Android/">Android</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C/">C++</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/CUDA/">CUDA</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Chromeæ‰©å±•/">Chromeæ‰©å±•</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ClickHouse/">ClickHouse</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/">Docker</a>
          <span class="category-list-count">25</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dolt/">Dolt</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Dubbo/">Dubbo</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Electron/">Electron</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Git/">Git</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Github/">Github</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Golang/">Golang</a>
          <span class="category-list-count">31</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/GraalVM/">GraalVM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/IOåŸºç¡€/">IOåŸºç¡€</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Java/">Java</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Javaæºç /">Javaæºç </a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JuiceFS/">JuiceFS</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Kubernetes/">Kubernetes</a>
          <span class="category-list-count">12</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Life/">Life</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Linux/">Linux</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Maven/">Maven</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MongoDB/">MongoDB</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/MySQL/">MySQL</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/">Mybatis</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/NPM/">NPM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Netty/">Netty</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Nginx/">Nginx</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Node-js/">Node.js</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/PostgreSQL/">PostgreSQL</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Protobuf/">Protobuf</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Python/">Python</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redash/">Redash</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Docker/Redis/">Redis</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Ruby/">Ruby</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Rust/">Rust</a>
          <span class="category-list-count">35</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Spring/">Spring</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TOML/">TOML</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/TypeScript/">TypeScript</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Websocket/">Websocket</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/äººç”Ÿæ—¥è®°/">äººç”Ÿæ—¥è®°</a>
          <span class="category-list-count">27</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/åˆ†å¸ƒå¼/">åˆ†å¸ƒå¼</a>
          <span class="category-list-count">10</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/åŠå…¬/">åŠå…¬</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/åšå®¢ç®¡ç†/">åšå®¢ç®¡ç†</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/æŠ€æœ¯æ‚è°ˆ/å­¦ä¹ æ¡ˆä¾‹/">å­¦ä¹ æ¡ˆä¾‹</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å·¥å…·åˆ†äº«/">å·¥å…·åˆ†äº«</a>
          <span class="category-list-count">41</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å¹¶å‘ç¼–ç¨‹/">å¹¶å‘ç¼–ç¨‹</a>
          <span class="category-list-count">13</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Mybatis/æŠ€æœ¯æ‚è°ˆ/">æŠ€æœ¯æ‚è°ˆ</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ•™å¸ˆ/">æ•™å¸ˆ</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ•°æ®åº“/">æ•°æ®åº“</a>
          <span class="category-list-count">8</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ—¥æœ¬èª/">æ—¥æœ¬èª</a>
          <span class="category-list-count">11</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æœåŠ¡è‡ªå»º/">æœåŠ¡è‡ªå»º</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æ±‡ç¼–è¯­è¨€/">æ±‡ç¼–è¯­è¨€</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ç®—æ³•/">ç®—æ³•</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ç®—æ³•é¢˜ç›®/">ç®—æ³•é¢˜ç›®</a>
          <span class="category-list-count">60</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/è¯¾ç¨‹/">è¯¾ç¨‹</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Redis/è½¯ä»¶å®‰è£…ä¸é…ç½®/">è½¯ä»¶å®‰è£…ä¸é…ç½®</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/è½¯ä»¶æµ‹è¯•/">è½¯ä»¶æµ‹è¯•</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/è½¯è€ƒ/">è½¯è€ƒ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/é¢è¯•æ€»ç»“/">é¢è¯•æ€»ç»“</a>
          <span class="category-list-count">15</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/é¡¹ç›®æ€»ç»“/">é¡¹ç›®æ€»ç»“</a>
          <span class="category-list-count">3</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2026/02/10/å†è§2025ï¼Œä½ å¥½2026ï¼/">å†è§2025ï¼Œä½ å¥½2026ï¼</a>
          </li>
        
          <li>
            <a href="/2025/08/20/ä¸‹ä¸€ä»£æç¤ºè¯å·¥ç¨‹è¯­è¨€POMLç®€æ˜æ•™ç¨‹/">ä¸‹ä¸€ä»£æç¤ºè¯å·¥ç¨‹è¯­è¨€POMLç®€æ˜æ•™ç¨‹</a>
          </li>
        
          <li>
            <a href="/2025/07/30/å¼€äº†ä¸€ä¸ªæ–°çš„ä¸“é—¨å­¦ä¹ æ—¥è¯­çš„åšå®¢/">å¼€äº†ä¸€ä¸ªæ–°çš„ä¸“é—¨å­¦ä¹ æ—¥è¯­çš„åšå®¢</a>
          </li>
        
          <li>
            <a href="/2025/07/29/ä¸€ã€å¹¶è¡Œç¼–ç¨‹å¯¼è®ºä¸CUDAå…¥é—¨/">ä¸€ã€å¹¶è¡Œç¼–ç¨‹å¯¼è®ºä¸CUDAå…¥é—¨</a>
          </li>
        
          <li>
            <a href="/2025/07/24/ä¸€äº›å…è´¹çš„GPUèµ„æº/">ä¸€äº›å…è´¹çš„GPUèµ„æº</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
    <div class="nexmoe-copyright">
        <span style="color:#707070;font-size: 14px;">
            æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ <br>
            æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡ <br>
        </span>
        <span id="showsectime" style="color:#707070;font-size: 14px;">
            æœ¬ç«™å·²è¿è¡Œ0å¤©0å°æ—¶0åˆ†0ç§’
        </span>
        <i class="fa fa-heart throb" style="color:#d43f57">â¤</i><br>

        &copy; 2026 Jasonkay
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>

    <div id="footer-info">

    </div>

    <script type="text/javascript">
        function NewDate(str) {
            str = str.split('-');
            var date = new Date();
            date.setUTCFullYear(str[0], str[1] - 1, str[2]);
            date.setUTCHours(0, 0, 0, 0);
            return date;
        }
        function showsectime() {
            var birthDay = NewDate("2019-09-01");
            var today = new Date();
            var timeold = today.getTime() - birthDay.getTime();
            var sectimeold = timeold / 1000
            var secondsold = Math.floor(sectimeold);
            var msPerDay = 24 * 60 * 60 * 1000; var e_daysold = timeold / msPerDay;
            var daysold = Math.floor(e_daysold);
            var e_hrsold = (daysold - e_daysold) * -24;
            var hrsold = Math.floor(e_hrsold);
            var e_minsold = (hrsold - e_hrsold) * -60;
            var minsold = Math.floor((hrsold - e_hrsold) * -60); var seconds = Math.floor((minsold - e_minsold) * -60).toString();
            document.getElementById("showsectime").innerHTML = "æœ¬ç«™å·²è¿è¡Œ" + daysold + "å¤©" + hrsold + "å°æ—¶" + minsold + "åˆ†" + seconds + "ç§’";
            setTimeout(showsectime, 1000);
        }
        showsectime();
    </script>

</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
      <div class="nexmoe-post">
  <div class="nexmoe-post-cover">
    
    <img src="https://img.paulzzh.com/touhou/random?7">
    
    <h1>Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­</h1>
  </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2019å¹´12æœˆ25æ—¥</a>
    <a><i class="nexmoefont icon-areachart"></i>11.4k å­—</a>
    <a><i class="nexmoefont icon-areachart"></i><span class="archive-article-date">é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>
      </span></a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 48 åˆ†é’Ÿ</a>

    
    <a class="nexmoefont icon-appstore-fill -link" href="/categories/é¢è¯•æ€»ç»“/">é¢è¯•æ€»ç»“</a>
    
    
    <a class="nexmoefont icon-tag-fill -link" href="/tags/Javaé¢è¯•/">Javaé¢è¯•</a>
    
  </div>
  <article>
    
    <div id="toc" class="toc-article">
      <ul class="markdownIt-TOC">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-JVMå †å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿå“ªäº›æƒ…å†µä¼šè§¦å‘GCï¼Ÿä¼šè§¦å‘å“ªäº›GCï¼Ÿ"><span class="toc-text">10. JVMå †å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿå“ªäº›æƒ…å†µä¼šè§¦å‘GCï¼Ÿä¼šè§¦å‘å“ªäº›GCï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-æ•°æ®åº“ä½ ä»¬æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼Ÿ"><span class="toc-text">11. æ•°æ®åº“ä½ ä»¬æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-synchronized-å’ŒLock-ReentrantLock-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><span class="toc-text">12. synchronized å’ŒLock(ReentrantLock)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-ç”¨è¿‡åå‘ä»£ç†æœåŠ¡å™¨å—ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿnginxè´Ÿè½½å‡è¡¡æœ‰å“ªäº›å‚æ•°ï¼Ÿ"><span class="toc-text">13. ç”¨è¿‡åå‘ä»£ç†æœåŠ¡å™¨å—ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿnginxè´Ÿè½½å‡è¡¡æœ‰å“ªäº›å‚æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-ä½ ç†Ÿæ‚‰çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå’Œå…¶ä»–æ¶ˆæ¯ä¸­é—´å¯¹æ¯”ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ"><span class="toc-text">14. ä½ ç†Ÿæ‚‰çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå’Œå…¶ä»–æ¶ˆæ¯ä¸­é—´å¯¹æ¯”ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-selectã€pollã€epollçš„åŸç†ä¸åŒºåˆ«"><span class="toc-text">15. selectã€pollã€epollçš„åŸç†ä¸åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-BIOã€NIOä¸AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><span class="toc-text">16. BIOã€NIOä¸AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-ä½ çš„èŒä¸šè§„åˆ’ï¼Ÿå¹´è–ªæœŸæœ›è–ªèµ„ï¼Ÿ"><span class="toc-text">17. ä½ çš„èŒä¸šè§„åˆ’ï¼Ÿå¹´è–ªæœŸæœ›è–ªèµ„ï¼Ÿ</span></a></li></ol>
      </ul>
    </div>
    
    <p>è¿™äº›é¢˜æ˜¯å‰æ®µæ—¶é—´ä¸€ä½åŒå­¦åœ¨é˜¿é‡Œäº‘é¢è¯•çš„æ—¶å€™ï¼Œé¢è¯•å®˜é—®åˆ°çš„</p>
<a id="more"></a>

<h3 id="10-JVMå †å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿå“ªäº›æƒ…å†µä¼šè§¦å‘GCï¼Ÿä¼šè§¦å‘å“ªäº›GCï¼Ÿ"><a href="#10-JVMå †å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿå“ªäº›æƒ…å†µä¼šè§¦å‘GCï¼Ÿä¼šè§¦å‘å“ªäº›GCï¼Ÿ" class="headerlink" title="10. JVMå †å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿå“ªäº›æƒ…å†µä¼šè§¦å‘GCï¼Ÿä¼šè§¦å‘å“ªäº›GCï¼Ÿ"></a>10. JVMå †å†…å­˜ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿå“ªäº›æƒ…å†µä¼šè§¦å‘GCï¼Ÿä¼šè§¦å‘å“ªäº›GCï¼Ÿ</h3><p>ä¼—æ‰€å‘¨çŸ¥, JVMä¸­çš„å †å†…å­˜æ˜¯æŒ‰ç…§å¹´ä»£åˆ†ç±»çš„, è¿™ä¸»è¦æ˜¯ä¸ºäº†è¿›è¡Œåƒåœ¾å›æ”¶è€Œè®¾è®¡çš„</p>
<blockquote>
<br>

<p><strong>è¡¥å……: ä½¿ç”¨åˆ†ä»£åƒåœ¾å›æ”¶çš„åŸå› </strong></p>
</blockquote>
<p>åœ¨Javaä¸­å †è¢«åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£å’Œæ—§ç”Ÿä»£ï¼Œæ–°ç”Ÿä»£åˆè¢«è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºEdenå’ŒSurvivoråŒºï¼Œæœ€åSurvivorç”±FromSpaceå’ŒToSpaceç»„æˆï¼Œç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤º:</p>
<p><img src="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/Java%E5%A0%86%E5%86%85%E5%AD%98%E5%88%86%E4%BB%A3.jpeg" alt="Javaå †å†…å­˜åˆ†ä»£.jpeg"></p>
<p><strong>æ–°ç”Ÿä»£</strong></p>
<p>æ–°å»ºçš„å¯¹è±¡éƒ½æ˜¯ç”¨æ–°ç”Ÿä»£åˆ†é…å†…å­˜ï¼ŒEdenç©ºé—´ä¸è¶³çš„æ—¶å€™ï¼Œä¼šæŠŠå­˜æ´»çš„å¯¹è±¡è½¬ç§»åˆ°Survivorä¸­ï¼Œæ–°ç”Ÿä»£å¤§å°å¯ä»¥ç”±-Xmnæ¥æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥ç”¨-XX:SurvivorRatioæ¥æ§åˆ¶Edenå’ŒSurvivorçš„æ¯”ä¾‹æ—§ç”Ÿä»£ã€‚ç”¨äºå­˜æ”¾æ–°ç”Ÿä»£ä¸­ç»è¿‡å¤šæ¬¡åƒåœ¾å›æ”¶ä»ç„¶å­˜æ´»çš„å¯¹è±¡</p>
<p>ç›®å‰å¤§éƒ¨åˆ†åƒåœ¾æ”¶é›†å™¨å¯¹äº<strong>æ–°ç”Ÿä»£éƒ½é‡‡å–Copyingç®—æ³•</strong>ï¼Œå› ä¸ºæ–°ç”Ÿä»£ä¸­æ¯æ¬¡åƒåœ¾å›æ”¶éƒ½è¦å›æ”¶å¤§éƒ¨åˆ†å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦å¤åˆ¶çš„æ“ä½œæ¬¡æ•°è¾ƒå°‘ï¼Œä½†æ˜¯å®é™…ä¸­å¹¶ä¸æ˜¯æŒ‰ç…§1:1çš„æ¯”ä¾‹æ¥åˆ’åˆ†æ–°ç”Ÿä»£çš„ç©ºé—´çš„ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯å°†æ–°ç”Ÿä»£åˆ’åˆ†ä¸ºä¸€å—è¾ƒå¤§çš„Edenç©ºé—´å’Œä¸¤å—è¾ƒå°çš„Survivorç©ºé—´ï¼Œæ¯æ¬¡ä½¿ç”¨Edenç©ºé—´å’Œå…¶ä¸­çš„ä¸€å—Survivorç©ºé—´ï¼Œå½“è¿›è¡Œå›æ”¶æ—¶ï¼Œå°†Edenå’ŒSurvivorä¸­è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—Survivorç©ºé—´ä¸­ï¼Œç„¶åæ¸…ç†æ‰Edenå’Œåˆšæ‰ä½¿ç”¨è¿‡çš„Survivorç©ºé—´</p>
<p><strong>è€å¹´ä»£</strong></p>
<p>ç”±äºè€å¹´ä»£çš„ç‰¹ç‚¹æ˜¯æ¯æ¬¡å›æ”¶éƒ½åªå›æ”¶å°‘é‡å¯¹è±¡ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯<strong>Mark-Compactç®—æ³•</strong></p>
<p><strong>å¯¹è±¡çš„å†…å­˜åˆ†é…</strong></p>
<p>å¯¹è±¡çš„å†…å­˜åˆ†é…, å¾€å¤§æ–¹å‘ä¸Šè®²å°±æ˜¯åœ¨å †ä¸Šåˆ†é…ï¼Œå¯¹è±¡ä¸»è¦åˆ†é…åœ¨æ–°ç”Ÿä»£çš„Eden Spaceå’ŒFrom  Spaceï¼Œå°‘æ•°æƒ…å†µä¸‹ä¼šç›´æ¥åˆ†é…åœ¨è€å¹´ä»£</p>
<p>å¦‚æœæ–°ç”Ÿä»£çš„Eden Spaceå’ŒFrom  Spaceçš„ç©ºé—´ä¸è¶³ï¼Œåˆ™ä¼šå‘èµ·ä¸€æ¬¡GCï¼Œå¦‚æœè¿›è¡Œäº†GCä¹‹åï¼ŒEden Spaceå’ŒFrom Spaceèƒ½å¤Ÿå®¹çº³è¯¥å¯¹è±¡å°±æ”¾åœ¨Eden  Spaceå’ŒFrom Space. åœ¨GCçš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†Eden Spaceå’ŒFrom Spaceä¸­çš„å­˜æ´»å¯¹è±¡ç§»åŠ¨åˆ°To  Spaceï¼Œç„¶åå°†Eden Spaceå’ŒFrom Spaceè¿›è¡Œæ¸…ç†</p>
<p>å¦‚æœåœ¨æ¸…ç†çš„è¿‡ç¨‹ä¸­ï¼ŒTo  Spaceæ— æ³•è¶³å¤Ÿæ¥å­˜å‚¨æŸä¸ªå¯¹è±¡ï¼Œå°±ä¼šå°†è¯¥å¯¹è±¡ç§»åŠ¨åˆ°è€å¹´ä»£ä¸­. åœ¨è¿›è¡Œäº†GCä¹‹åï¼Œä½¿ç”¨çš„ä¾¿æ˜¯Eden spaceå’ŒTo  Spaceäº†ï¼Œä¸‹æ¬¡GCæ—¶ä¼šå°†å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°From  Spaceï¼Œå¦‚æ­¤åå¤å¾ªç¯ã€‚å½“å¯¹è±¡åœ¨SurvivoråŒºèº²è¿‡ä¸€æ¬¡GCçš„è¯ï¼Œå…¶å¯¹è±¡å¹´é¾„ä¾¿ä¼šåŠ 1ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœå¯¹è±¡å¹´é¾„è¾¾åˆ°15å²ï¼Œå°±ä¼šç§»åŠ¨åˆ°è€å¹´ä»£ä¸­</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¤§å¯¹è±¡ä¼šè¢«ç›´æ¥åˆ†é…åˆ°è€å¹´ä»£ï¼Œæ‰€è°“çš„å¤§å¯¹è±¡æ˜¯æŒ‡éœ€è¦å¤§é‡è¿ç»­å­˜å‚¨ç©ºé—´çš„å¯¹è±¡ï¼Œæœ€å¸¸è§çš„ä¸€ç§å¤§å¯¹è±¡å°±æ˜¯å¤§æ•°ç»„ï¼Œæ¯”å¦‚: <code>byte[] data = new byte[4*1024*1024]</code>, è¿™ç§ä¸€èˆ¬ä¼šç›´æ¥åœ¨è€å¹´ä»£åˆ†é…å­˜å‚¨ç©ºé—´. å½“ç„¶åˆ†é…çš„è§„åˆ™å¹¶ä¸æ˜¯ç™¾åˆ†ä¹‹ç™¾å›ºå®šçš„ï¼Œè¿™è¦å–å†³äºå½“å‰ä½¿ç”¨çš„æ˜¯å“ªç§åƒåœ¾æ”¶é›†å™¨ç»„åˆå’ŒJVMçš„ç›¸å…³å‚æ•°</p>
<br>

<p><strong>åƒåœ¾å›æ”¶ç®—æ³•</strong></p>
<p>ä¸»è¦çš„åƒåœ¾å›æ”¶ç®—æ³•æœ‰:</p>
<p><strong>1. Mark-Sweepï¼ˆæ ‡è®°-æ¸…é™¤ï¼‰ç®—æ³•</strong></p>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„åƒåœ¾å›æ”¶ç®—æ³•ï¼Œä¹‹æ‰€ä»¥è¯´å®ƒæ˜¯æœ€åŸºç¡€çš„æ˜¯å› ä¸ºå®ƒæœ€å®¹æ˜“å®ç°ï¼Œæ€æƒ³ä¹Ÿæ˜¯æœ€ç®€å•çš„ã€‚æ ‡è®°-æ¸…é™¤ç®—æ³•åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šæ ‡è®°é˜¶æ®µå’Œæ¸…é™¤é˜¶æ®µ</p>
<p>æ ‡è®°é˜¶æ®µçš„ä»»åŠ¡æ˜¯æ ‡è®°å‡ºæ‰€æœ‰éœ€è¦è¢«å›æ”¶çš„å¯¹è±¡ï¼Œæ¸…é™¤é˜¶æ®µå°±æ˜¯å›æ”¶è¢«æ ‡è®°çš„å¯¹è±¡æ‰€å ç”¨çš„ç©ºé—´ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%E7%AE%97%E6%B3%95.jpg" alt="æ ‡è®°æ¸…é™¤ç®—æ³•.jpg"></p>
<p>ä»å›¾ä¸­å¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºæ ‡è®°-æ¸…é™¤ç®—æ³•å®ç°èµ·æ¥æ¯”è¾ƒå®¹æ˜“ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜å°±æ˜¯å®¹æ˜“äº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œç¢ç‰‡å¤ªå¤šå¯èƒ½ä¼šå¯¼è‡´åç»­è¿‡ç¨‹ä¸­éœ€è¦ä¸ºå¤§å¯¹è±¡åˆ†é…ç©ºé—´æ—¶æ— æ³•æ‰¾åˆ°è¶³å¤Ÿçš„ç©ºé—´è€Œæå‰è§¦å‘æ–°çš„ä¸€æ¬¡åƒåœ¾æ”¶é›†åŠ¨ä½œ</p>
<br>

<p><strong>2. Copyingï¼ˆå¤åˆ¶ï¼‰ç®—æ³•</strong></p>
<p>ä¸ºäº†è§£å†³Mark-Sweepç®—æ³•çš„ç¼ºé™·ï¼ŒCopyingç®—æ³•å°±è¢«æäº†å‡ºæ¥ã€‚å®ƒå°†å¯ç”¨å†…å­˜æŒ‰å®¹é‡åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„ä¸€å—ã€‚å½“è¿™ä¸€å—çš„å†…å­˜ç”¨å®Œäº†ï¼Œå°±å°†è¿˜å­˜æ´»ç€çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€å—ä¸Šé¢ï¼Œç„¶åå†æŠŠå·²ä½¿ç”¨çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…ç†æ‰ï¼Œè¿™æ ·ä¸€æ¥å°±ä¸å®¹æ˜“å‡ºç°å†…å­˜ç¢ç‰‡çš„é—®é¢˜ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img src="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E5%A4%8D%E5%88%B6%E7%AE%97%E6%B3%95.jpg" alt="å¤åˆ¶ç®—æ³•.jpg"></p>
<p>è¿™ç§ç®—æ³•è™½ç„¶å®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆä¸”ä¸å®¹æ˜“äº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œä½†æ˜¯å´å¯¹å†…å­˜ç©ºé—´çš„ä½¿ç”¨åšå‡ºäº†é«˜æ˜‚çš„ä»£ä»·ï¼Œå› ä¸ºèƒ½å¤Ÿä½¿ç”¨çš„å†…å­˜ç¼©å‡åˆ°åŸæ¥çš„ä¸€åŠã€‚å¾ˆæ˜¾ç„¶ï¼ŒCopyingç®—æ³•çš„æ•ˆç‡è·Ÿå­˜æ´»å¯¹è±¡çš„æ•°ç›®å¤šå°‘æœ‰å¾ˆå¤§çš„å…³ç³»ï¼Œå¦‚æœå­˜æ´»å¯¹è±¡å¾ˆå¤šï¼Œé‚£ä¹ˆCopyingç®—æ³•çš„æ•ˆç‡å°†ä¼šå¤§å¤§é™ä½</p>
<br>

<p><strong>3. Mark-Compactï¼ˆæ ‡è®°-æ•´ç†ï¼‰ç®—æ³•ï¼ˆå‹ç¼©æ³•ï¼‰</strong></p>
<p>ä¸ºäº†è§£å†³Copyingç®—æ³•çš„ç¼ºé™·ï¼Œå……åˆ†åˆ©ç”¨å†…å­˜ç©ºé—´ï¼Œæå‡ºäº†Mark-Compactç®—æ³•ã€‚è¯¥ç®—æ³•æ ‡è®°é˜¶æ®µå’ŒMark-Sweepä¸€æ ·ï¼Œä½†æ˜¯åœ¨å®Œæˆæ ‡è®°ä¹‹åï¼Œå®ƒä¸æ˜¯ç›´æ¥æ¸…ç†å¯å›æ”¶å¯¹è±¡ï¼Œè€Œæ˜¯å°†å­˜æ´»å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œç„¶åæ¸…ç†æ‰ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E6%A0%87%E8%AE%B0%E6%95%B4%E7%90%86%E7%AE%97%E6%B3%95.jpg" alt="æ ‡è®°æ•´ç†ç®—æ³•.jpg"></p>
<br>

<p><strong>4. Generational Collectionï¼ˆåˆ†ä»£æ”¶é›†ï¼‰ç®—æ³•</strong></p>
<p>è§ä¸Šè¿°.</p>
<br>

<p><strong>åƒåœ¾æ”¶é›†å™¨æ€»ç»“</strong></p>
<p>åƒåœ¾æ”¶é›†ç®—æ³•æ˜¯å†…å­˜å›æ”¶çš„ç†è®ºåŸºç¡€ï¼Œè€Œåƒåœ¾æ”¶é›†å™¨å°±æ˜¯å†…å­˜å›æ”¶çš„å…·ä½“å®ç°ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹HotSpotè™šæ‹Ÿæœºæä¾›çš„å‡ ç§åƒåœ¾æ”¶é›†å™¨ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ç»„åˆå‡ºå„ä¸ªå¹´ä»£ä½¿ç”¨çš„æ”¶é›†å™¨:</p>
<p><strong>Serial/Serial Oldæ”¶é›†å™¨</strong></p>
<p>æ˜¯æœ€åŸºæœ¬æœ€å¤è€çš„æ”¶é›†å™¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªå•çº¿ç¨‹æ”¶é›†å™¨ï¼Œå¹¶ä¸”åœ¨å®ƒè¿›è¡Œåƒåœ¾æ”¶é›†æ—¶ï¼Œå¿…é¡»æš‚åœæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ã€‚<font color="#ff0000"><strong>Serialæ”¶é›†å™¨æ˜¯é’ˆå¯¹æ–°ç”Ÿä»£çš„æ”¶é›†å™¨ï¼Œé‡‡ç”¨çš„æ˜¯Copyingç®—æ³•ï¼ŒSerial Oldæ”¶é›†å™¨æ˜¯é’ˆå¯¹è€å¹´ä»£çš„æ”¶é›†å™¨ï¼Œé‡‡ç”¨çš„æ˜¯Mark-Compactç®—æ³•</strong></font></p>
<p>å®ƒçš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•é«˜æ•ˆï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ä¼šç»™ç”¨æˆ·å¸¦æ¥åœé¡¿</p>
<p><strong>ParNewæ”¶é›†å™¨</strong></p>
<p>æ˜¯<strong>Serialæ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼Œä½¿ç”¨å¤šä¸ªçº¿ç¨‹è¿›è¡Œåƒåœ¾æ”¶é›†</strong></p>
<p><strong>Parallel Scavengeæ”¶é›†å™¨</strong></p>
<p>æ˜¯ä¸€ä¸ª<strong>æ–°ç”Ÿä»£çš„å¤šçº¿ç¨‹æ”¶é›†å™¨ï¼ˆå¹¶è¡Œæ”¶é›†å™¨ï¼‰</strong>ï¼Œå®ƒåœ¨<strong>å›æ”¶æœŸé—´ä¸éœ€è¦æš‚åœå…¶ä»–ç”¨æˆ·çº¿ç¨‹ï¼Œå…¶é‡‡ç”¨çš„æ˜¯Copyingç®—æ³•</strong>ï¼Œè¯¥æ”¶é›†å™¨ä¸å‰ä¸¤ä¸ªæ”¶é›†å™¨æœ‰æ‰€ä¸åŒï¼Œå®ƒä¸»è¦æ˜¯ä¸ºäº†è¾¾åˆ°ä¸€ä¸ªå¯æ§çš„ååé‡</p>
<p><strong>Parallel Oldæ”¶é›†å™¨</strong></p>
<p>æ˜¯<strong>Parallel Scavengeæ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬ï¼ˆå¹¶è¡Œæ”¶é›†å™¨ï¼‰</strong>ï¼Œä½¿ç”¨å¤šçº¿ç¨‹å’ŒMark-Compactç®—æ³•</p>
<p><strong>CMSï¼ˆCurrent Mark Sweepï¼‰æ”¶é›†å™¨</strong></p>
<p>æ˜¯ä¸€ç§ä»¥è·å–<strong>æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨</strong>ï¼Œå®ƒæ˜¯ä¸€ç§å¹¶å‘æ”¶é›†å™¨ï¼Œé‡‡ç”¨çš„æ˜¯Mark-Sweepç®—æ³•</p>
<p><strong>G1æ”¶é›†å™¨</strong></p>
<p>G1ï¼ˆGarbadge First Collectorï¼‰ä½œä¸ºä¸€æ¬¾JVMæ–°çš„åƒåœ¾æ”¶é›†å™¨ï¼Œå¯ä»¥è§£å†³CMSä¸­Concurrent Mode Failedé—®é¢˜ï¼Œå°½é‡ç¼©çŸ­å¤„ç†è¶…å¤§å †çš„åœé¡¿ï¼Œåœ¨G1è¿›è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™å®Œæˆå†…å­˜å‹ç¼©ï¼Œé™ä½å†…å­˜ç¢ç‰‡çš„ç”Ÿæˆ</p>
<p>G1åœ¨å †å†…å­˜æ¯”è¾ƒå¤§çš„æ—¶å€™è¡¨ç°å‡ºæ¯”è¾ƒé«˜ååé‡å’ŒçŸ­æš‚çš„åœé¡¿æ—¶é—´ï¼Œè€Œä¸”å·²æˆä¸ºJava 9çš„é»˜è®¤æ”¶é›†å™¨</p>
<p><strong>ZGC: å¯æ‰©å±•çš„ä½å»¶è¿Ÿçš„åƒåœ¾å›æ”¶å™¨</strong></p>
<p>ZGCå…¨ç§°æ˜¯Z Garbage Collectorï¼Œæ˜¯Java 11åŠ å…¥çš„ä¸€æ¬¾å¯ä¼¸ç¼©(scalable)çš„ä½å»¶è¿Ÿ(low latency garbage)ã€å¹¶å‘(concurrent)åƒåœ¾å›æ”¶å™¨ï¼Œæ—¨åœ¨å®ç°ä»¥ä¸‹å‡ ä¸ªç›®æ ‡ï¼š</p>
<ul>
<li>åœé¡¿æ—¶é—´ä¸è¶…è¿‡10ms</li>
<li>åœé¡¿æ—¶é—´ä¸éšheapå¤§å°æˆ–å­˜æ´»å¯¹è±¡å¤§å°å¢å¤§è€Œå¢å¤§</li>
<li>å¯ä»¥å¤„ç†ä»å‡ ç™¾å…†åˆ°å‡ Tçš„å†…å­˜å¤§å°</li>
</ul>
<p>ZGCç°åœ¨è¿˜åªèƒ½åœ¨MacOSå’ŒLinuxä½¿ç”¨, å°šåœ¨è¯•éªŒä¸­. ä¸ZGCç›¸å…³çš„ä»‹ç»: <a href="https://www.jianshu.com/p/3bde1606ea5d" target="_blank" rel="noopener">ä¸€æ–‡è¯»æ‡‚Java 11çš„ZGCä¸ºä½•å¦‚æ­¤é«˜æ•ˆ</a></p>
<br>

<h3 id="11-æ•°æ®åº“ä½ ä»¬æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼Ÿ"><a href="#11-æ•°æ®åº“ä½ ä»¬æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼Ÿ" class="headerlink" title="11. æ•°æ®åº“ä½ ä»¬æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼Ÿ"></a>11. æ•°æ®åº“ä½ ä»¬æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼Ÿ</h3><p><strong>ç¬¬ä¸€é˜¶æ®µ ä¼˜åŒ–sqlå’Œç´¢å¼•</strong></p>
<p>(1)ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—å®šä½æ‰§è¡Œæ•ˆç‡ä½çš„<code>SQL</code>è¯­å¥</p>
<p>(2)ç”¨<code>explain</code>åˆ†æ<code>SQL</code>çš„æ‰§è¡Œè®¡åˆ’</p>
<p>(3)ç¡®å®šé—®é¢˜ï¼Œé‡‡å–ç›¸åº”çš„ä¼˜åŒ–æªæ–½ï¼Œå»ºç«‹ç´¢å¼•ç­‰</p>
<p>å…³äºä¼˜åŒ–SQLæ›´å…¨é¢: <a href="https://jasonkayzk.github.io/2019/12/03/æ•°æ®åº“æ€»ç»“ä¹‹ä¸€/">æ•°æ®åº“æ€»ç»“ä¹‹ä¸€</a></p>
<p><strong>ç¬¬äºŒé˜¶æ®µ æ­å»ºç¼“å­˜</strong></p>
<p>åœ¨ä¼˜åŒ–sqlæ— æ³•è§£å†³é—®é¢˜çš„æƒ…å†µä¸‹ï¼Œæ‰è€ƒè™‘æ­å»ºç¼“å­˜ã€‚æ¯•ç«Ÿä½ ä½¿ç”¨ç¼“å­˜çš„ç›®çš„ï¼Œå°±æ˜¯å°†å¤æ‚çš„ã€è€—æ—¶çš„ã€ä¸å¸¸å˜çš„æ‰§è¡Œç»“æœç¼“å­˜èµ·æ¥ï¼Œé™ä½æ•°æ®åº“çš„èµ„æºæ¶ˆè€—</p>
<p>è¿™é‡Œéœ€è¦<strong>æ³¨æ„</strong>çš„æ˜¯:æ­å»ºç¼“å­˜åï¼Œç³»ç»Ÿçš„å¤æ‚æ€§å¢åŠ äº†ã€‚ä½ éœ€è¦è€ƒè™‘å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚:</p>
<ul>
<li>ç¼“å­˜å’Œæ•°æ®åº“ä¸€è‡´æ€§é—®é¢˜ï¼Ÿ(æ¯”å¦‚æ˜¯æ›´ç¼“å­˜ï¼Œè¿˜æ˜¯åˆ ç¼“å­˜);</li>
<li>ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿæ˜¯å¦æœ‰åšç¼“å­˜é¢„çƒ­çš„å¿…è¦ã€‚ä¸è¿‡æˆ‘çŒœï¼Œå¤§éƒ¨åˆ†ä¸­å°å…¬å¸åº”è¯¥éƒ½æ²¡è€ƒè™‘</li>
</ul>
<p><strong>ç¬¬ä¸‰é˜¶æ®µ è¯»å†™åˆ†ç¦»</strong></p>
<p>ç¼“å­˜ä¹Ÿæä¸å®šçš„æƒ…å†µä¸‹ï¼Œæä¸»ä»å¤åˆ¶ï¼Œä¸Šè¯»å†™åˆ†ç¦»ã€‚åœ¨åº”ç”¨å±‚ï¼ŒåŒºåˆ†è¯»å†™è¯·æ±‚ã€‚æˆ–è€…åˆ©ç”¨ç°æˆçš„ä¸­é—´ä»¶mycatæˆ–è€…altasç­‰åšè¯»å†™åˆ†ç¦»</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯, åªè¦ä½ æ•¢è¯´ä½ ç”¨äº†ä¸»ä»æ¶æ„ï¼Œæœ‰ä¸‰ä¸ªé—®é¢˜ï¼Œä½ è¦å‡†å¤‡:</p>
<p>(1)ä¸»ä»çš„å¥½å¤„ï¼Ÿ</p>
<p>å›ç­”:å®ç°æ•°æ®åº“å¤‡ä»½ï¼Œå®ç°æ•°æ®åº“è´Ÿè½½å‡è¡¡ï¼Œæäº¤æ•°æ®åº“å¯ç”¨æ€§</p>
<p>(2)ä¸»ä»çš„åŸç†?</p>
<p>å›ç­”:å¦‚å›¾æ‰€ç¤º</p>
<p><img src="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E4%B8%BB%E4%BB%8E%E6%9E%B6%E6%9E%84.jpg" alt="ä¸»ä»æ¶æ„.jpg"></p>
<p>ä¸»åº“æœ‰ä¸€ä¸ª<code>log dump</code>çº¿ç¨‹ï¼Œå°†<code>binlog</code>ä¼ ç»™ä»åº“</p>
<p>ä»åº“æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªI/Oçº¿ç¨‹ï¼Œä¸€ä¸ªSQLçº¿ç¨‹ï¼ŒI/Oçº¿ç¨‹è¯»å–ä¸»åº“ä¼ è¿‡æ¥çš„<code>binlog</code>å†…å®¹å¹¶å†™å…¥åˆ°<code>relay log</code>, SQLçº¿ç¨‹ä»<code>relay log</code>é‡Œé¢è¯»å–å†…å®¹ï¼Œå†™å…¥ä»åº“çš„æ•°æ®åº“</p>
<p>(3)å¦‚ä½•è§£å†³ä¸»ä»ä¸€è‡´æ€§?</p>
<p>å›ç­”:è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¸å»ºè®®åœ¨æ•°æ®åº“å±‚é¢è§£å†³è¯¥é—®é¢˜ã€‚æ ¹æ®CAPå®šç†ï¼Œä¸»ä»æ¶æ„æœ¬æ¥å°±æ˜¯ä¸€ç§é«˜å¯ç”¨æ¶æ„ï¼Œæ˜¯æ— æ³•æ»¡è¶³ä¸€è‡´æ€§çš„! å“ªæ€•ä½ é‡‡ç”¨åŒæ­¥å¤åˆ¶æ¨¡å¼æˆ–è€…åŠåŒæ­¥å¤åˆ¶æ¨¡å¼ï¼Œéƒ½æ˜¯å¼±ä¸€è‡´æ€§ï¼Œå¹¶ä¸æ˜¯å¼ºä¸€è‡´æ€§</p>
<p>æ‰€ä»¥ï¼Œæ¨èè¿˜æ˜¯åˆ©ç”¨ç¼“å­˜ï¼Œæ¥è§£å†³è¯¥é—®é¢˜, æ­¥éª¤å¦‚ä¸‹:</p>
<ul>
<li>è‡ªå·±é€šè¿‡æµ‹è¯•ï¼Œè®¡ç®—ä¸»ä»å»¶è¿Ÿæ—¶é—´ï¼Œå»ºè®®mysqlç‰ˆæœ¬ä¸º5.7ä»¥åï¼Œå› ä¸ºmysqlè‡ª5.7å¼€å§‹ï¼Œå¤šçº¿ç¨‹å¤åˆ¶åŠŸèƒ½æ¯”è¾ƒå®Œå–„ï¼Œä¸€èˆ¬èƒ½ä¿è¯å»¶è¿Ÿåœ¨1så†…ã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼Œmysqlç°åœ¨éƒ½å‡ºåˆ°8.xäº†ï¼Œè¿˜æœ‰äººç”¨5.xçš„ç‰ˆæœ¬ä¹ˆ</li>
<li>æ•°æ®åº“çš„å†™æ“ä½œï¼Œå…ˆå†™æ•°æ®åº“ï¼Œå†å†™cacheï¼Œä½†æ˜¯æœ‰æ•ˆæœŸå¾ˆçŸ­ï¼Œå°±æ¯”ä¸»ä»å»¶æ—¶çš„æ—¶é—´ç¨å¾®é•¿ä¸€ç‚¹</li>
<li>è¯»è¯·æ±‚çš„æ—¶å€™ï¼Œå…ˆè¯»ç¼“å­˜ï¼Œç¼“å­˜ä¸å­˜åœ¨(è¿™æ—¶ä¸»ä»åŒæ­¥å·²ç»å®Œæˆ)ï¼Œå†è¯»æ•°æ®åº“</li>
</ul>
<p><strong>ç¬¬å››é˜¶æ®µ åˆ©ç”¨åˆ†åŒºè¡¨</strong></p>
<p>è¯´å¥å®åœ¨è¯ï¼Œé¢è¯•çš„æ—¶å€™ï¼Œå…¶å®å¯ä»¥ç•¥è¿‡è¿™ä¸ªé˜¶æ®µã€‚å› ä¸ºå¾ˆå¤šäº’è”ç½‘å…¬å¸éƒ½ä¸å»ºè®®ç”¨åˆ†åŒºè¡¨ï¼Œæˆ‘è‡ªå·±ä¹Ÿä¸å¤ªå»ºè®®ç”¨åˆ†åŒºè¡¨ï¼Œé‡‡ç”¨è¿™ä¸ªåˆ†åŒºè¡¨ï¼Œå‘å¤ªå¤š</p>
<p>è¿™é‡Œå¼•ç”¨ä¸€ä¸‹å…¶ä»–æ–‡ç« çš„å›ç­”:</p>
<p>ä»€ä¹ˆæ˜¯mysqlçš„åˆ†åŒºè¡¨ï¼Ÿ</p>
<p>å›ç­”ï¼šæ‰€æœ‰æ•°æ®è¿˜åœ¨ä¸€ä¸ªè¡¨ä¸­ï¼Œä½†ç‰©ç†å­˜å‚¨æ ¹æ®ä¸€å®šçš„è§„åˆ™æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ã€‚è¿™ä¸ªæ˜¯mysqlæ”¯æŒçš„åŠŸèƒ½ï¼Œä¸šåŠ¡ä»£ç ä¸éœ€è¦æ”¹åŠ¨ï¼Œä½†æ˜¯sqlè¯­å¥éœ€è¦æ”¹åŠ¨ï¼Œsqlæ¡ä»¶éœ€è¦å¸¦ä¸Šåˆ†åŒºçš„åˆ—</p>
<p>ç¼ºç‚¹:</p>
<p>(1)åˆ†åŒºé”®è®¾è®¡ä¸å¤ªçµæ´»ï¼Œå¦‚æœä¸èµ°åˆ†åŒºé”®ï¼Œå¾ˆå®¹æ˜“å‡ºç°å…¨è¡¨é”</p>
<p>(2)åœ¨åˆ†åŒºè¡¨ä½¿ç”¨<code>ALTER TABLE</code> â€¦ <code>ORDER BY</code>ï¼Œåªèƒ½åœ¨æ¯ä¸ªåˆ†åŒºå†…è¿›è¡Œ<code>order by</code></p>
<p>(3)åˆ†åŒºè¡¨çš„åˆ†åŒºé”®åˆ›å»ºç´¢å¼•ï¼Œé‚£ä¹ˆè¿™ä¸ªç´¢å¼•ä¹Ÿå°†è¢«åˆ†åŒºã€‚åˆ†åŒºé”®æ²¡æœ‰å…¨å±€ç´¢å¼•ä¸€è¯´</p>
<p>(4)è‡ªå·±åˆ†åº“åˆ†è¡¨ï¼Œè‡ªå·±æŒæ§ä¸šåŠ¡åœºæ™¯ä¸è®¿é—®æ¨¡å¼ï¼Œå¯æ§ã€‚åˆ†åŒºè¡¨ï¼Œç ”å‘å†™äº†ä¸€ä¸ªsqlï¼Œéƒ½ä¸ç¡®å®šè¯¥å»å“ªä¸ªåˆ†åŒºæŸ¥ï¼Œä¸å¤ªå¯æ§</p>
<p><strong>ç¬¬äº”é˜¶æ®µ å‚ç›´æ‹†åˆ†</strong></p>
<p>ä¸Šé¢å››ä¸ªé˜¶æ®µéƒ½æ²¡æå®šï¼Œå°±æ¥å‚ç›´æ‹†åˆ†äº†ã€‚å‚ç›´æ‹†åˆ†çš„å¤æ‚åº¦è¿˜æ˜¯æ¯”æ°´å¹³æ‹†åˆ†å°çš„ã€‚å°†ä½ çš„è¡¨ï¼ŒæŒ‰æ¨¡å—æ‹†åˆ†ä¸ºä¸åŒçš„å°è¡¨ã€‚å¤§å®¶åº”è¯¥éƒ½çœ‹è¿‡ã€Šå¤§å‹ç½‘ç«™æ¶æ„æ¼”å˜ä¹‹è·¯ã€‹ï¼Œè¿™ç§ç±»å‹çš„æ–‡ç« æˆ–è€…ä¹¦ç±ï¼ŒåŸºæœ¬éƒ½æœ‰æåˆ°è¿™ä¸€é˜¶æ®µ</p>
<p>å¦‚æœä½ æœ‰å¹¸èƒ½å¤Ÿåœ¨ä»€ä¹ˆè¿è¥å•†ã€é“¶è¡Œç­‰å…¬å¸ä¸Šç­ï¼Œä½ ä¼šå‘ç°ä»–ä»¬ä¸€ä¸ªè¡¨ï¼Œå‡ ç™¾ä¸ªå­—æ®µéƒ½æ˜¯å¾ˆå¸¸è§çš„äº‹æƒ…ã€‚æ‰€ä»¥ï¼Œåº”è¯¥è¦è¿›è¡Œæ‹†åˆ†ï¼Œæ‹†åˆ†åŸåˆ™ä¸€èˆ¬æ˜¯å¦‚ä¸‹ä¸‰ç‚¹:</p>
<p>(1)æŠŠä¸å¸¸ç”¨çš„å­—æ®µå•ç‹¬æ”¾åœ¨ä¸€å¼ è¡¨</p>
<p>(2)æŠŠå¸¸ç”¨çš„å­—æ®µå•ç‹¬æ”¾ä¸€å¼ è¡¨</p>
<p>(3)ç»å¸¸ç»„åˆæŸ¥è¯¢çš„åˆ—æ”¾åœ¨ä¸€å¼ è¡¨ä¸­ï¼ˆè”åˆç´¢å¼•ï¼‰</p>
<p><strong>ç¬¬å…­é˜¶æ®µ æ°´å¹³æ‹†åˆ†</strong></p>
<p>OK, æ°´å¹³æ‹†åˆ†æ˜¯æœ€éº»çƒ¦çš„ä¸€ä¸ªé˜¶æ®µï¼Œæ‹†åˆ†åä¼šæœ‰å¾ˆå¤šçš„é—®é¢˜ï¼Œæˆ‘å†å¼ºè°ƒä¸€æ¬¡ï¼Œæ°´å¹³æ‹†åˆ†ä¸€å®šæ˜¯æœ€æœ€æœ€æœ€åçš„é€‰æ‹©</p>
<p>ä»æŸç§æ„ä¹‰ä¸Šï¼Œæˆ‘è§‰å¾—è¿˜ä¸å¦‚å‚ç›´æ‹†åˆ†ã€‚å› ä¸ºä½ ç”¨å‚ç›´æ‹†åˆ†ï¼Œåˆ†æˆä¸åŒæ¨¡å—åï¼Œå‘ç°å•æ¨¡å—çš„å‹åŠ›è¿‡å¤§ï¼Œä½ å®Œå…¨å¯ä»¥ç»™è¯¥æ¨¡å—å•ç‹¬åšä¼˜åŒ–ï¼Œä¾‹å¦‚æé«˜è¯¥æ¨¡å—çš„æœºå™¨é…ç½®ç­‰</p>
<p>å¦‚æœæ˜¯æ°´å¹³æ‹†åˆ†ï¼Œæ‹†æˆä¸¤å¼ è¡¨ï¼Œä»£ç éœ€è¦å˜åŠ¨ï¼Œç„¶åå‘ç°ä¸¤å¼ è¡¨è¿˜ä¸è¡Œï¼Œå†å˜ä»£ç ï¼Œå†æ‹†æˆä¸‰å¼ è¡¨çš„ï¼Ÿæ°´å¹³æ‹†åˆ†æ¨¡å—é—´è€¦åˆæ€§å¤ªå¼ºï¼Œæˆæœ¬å¤ªå¤§ï¼Œä¸æ˜¯ç‰¹åˆ«æ¨è</p>
<br>

<h3 id="12-synchronized-å’ŒLock-ReentrantLock-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#12-synchronized-å’ŒLock-ReentrantLock-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="12. synchronized å’ŒLock(ReentrantLock)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>12. synchronized å’ŒLock(ReentrantLock)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p><strong>ä¸€ã€åŸå§‹æ„æˆ</strong></p>
<p>synchronizedæ˜¯æ‰˜ç®¡ç»™JVMæ‰§è¡Œçš„ï¼Œå±äºJVMå±‚é¢ï¼Œmonitorenter(åº•å±‚æ˜¯é€šè¿‡monitorå¯¹è±¡æ¥å®Œæˆï¼Œå…¶å®wait/notifyç­‰æ–¹æ³•ä¹Ÿä¾èµ–monitorå¯¹è±¡åªæœ‰åœ¨åŒæ­¥ä»£ç å—å’ŒåŒæ­¥æ–¹æ³•ä¸­æ‰èƒ½è°ƒç”¨wait/notifyç­‰æ–¹æ³•);</p>
<p>è€Œlockæ˜¯Javaå†™çš„æ§åˆ¶é”çš„ä»£ç , æ˜¯å…·ä½“çš„ç±»ï¼Œæ˜¯apiå±‚é¢çš„é”ï¼›</p>
<p><strong>äºŒã€ä½¿ç”¨æ–¹æ³•</strong></p>
<p>synchronizedä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨é‡Šæ”¾é”ï¼Œsynchronizedä»£ç æ‰§è¡Œå®Œæˆä»¥åç³»ç»Ÿä¼šè‡ªåŠ¨è®©çº¿ç¨‹é‡Šæ”¾å¯¹é”çš„å æœ‰</p>
<p>ReentrantLockåˆ™éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å»é‡Šæ”¾é”ï¼Œè‹¥æ²¡æœ‰ä¸»åŠ¨é‡Šæ”¾é”ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´æ­»é”ç°è±¡ã€‚éœ€è¦ä½¿ç”¨lock()å’Œunlock()æ–¹æ³•é…åˆtry finallyè¯­å¥å—æ¥å®Œæˆ</p>
<p><strong>ä¸‰ã€ç­‰å¾…æ˜¯å¦å¯ä»¥ä¸­æ–­</strong></p>
<p>synchronizedä¸å¯ä¸­æ–­ï¼Œé™¤éæŠ›å‡ºå¼‚å¸¸æˆ–è€…æ­£å¸¸è¿è¡Œå®Œæˆ</p>
<p>ReetrantLockå¯ä¸­æ–­:</p>
<ul>
<li>è®¾ç½®è¶…æ—¶æ–¹æ³•tryLock(long timeout, TimeUnit unit);</li>
<li>lockInterruptibly()æ”¾å…¥ä»£ç å—ä¸­ï¼Œè°ƒç”¨interrupt()æ–¹æ³•å¯ä¸­æ–­ï¼›</li>
</ul>
<p><strong>å››ã€åŠ é”æ˜¯å¦å…¬å¹³</strong></p>
<p>synchronizedæ˜¯éå…¬å¹³é”</p>
<p>ReentrantLocké»˜è®¤æ˜¯éå…¬å¹³é”ï¼Œå¯è®¾ç½®ä¸ºå…¬å¹³é”</p>
<p><strong>äº”ã€é”ç»‘å®šå¤šä¸ªæ¡ä»¶condition</strong></p>
<p>synchronizedæ²¡æœ‰ï¼› </p>
<p>ReentrantLockç”¨æ¥å®ç°åˆ†ç»„å”¤é†’éœ€è¦å”¤é†’çš„çº¿ç¨‹ä»¬ï¼Œå¯ä»¥ç²¾ç¡®å”¤é†’ï¼Œè€Œä¸æ˜¯åƒsynchronizedè¦ä¹ˆéšæœºå”¤é†’ä¸€ä¸ªï¼Œè¦ä¹ˆå”¤é†’å…¨éƒ¨çº¿ç¨‹</p>
<p><strong>å…­ã€æ¡ˆä¾‹</strong></p>
<p>é¢˜ç›®ï¼šå¤šçº¿ç¨‹ä¹‹é—´æŒ‰ç…§é¡ºåºè°ƒç”¨ï¼Œå®ç°A-&gt;B-&gt;Cä¸‰ä¸ªçº¿ç¨‹å¯åŠ¨ï¼Œè¦æ±‚å¦‚ä¸‹ï¼šAAæ‰“å°5æ¬¡ï¼ŒBBæ‰“å°10æ¬¡ï¼ŒCCæ‰“å°15æ¬¡ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹10æ¬¡</p>
<p>ä½¿ç”¨Lockçš„è§£æ³•</p>
<pre><code class="java">import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.Lock;
import java.util.concurrent.locks.ReentrantLock;

public class SynchronizedLockDifference {

    public static void main(String[] args) {
        ShareResource shareResource = new ShareResource();
        new Thread(() -&gt; {
            for (int i = 0; i &lt; 10; i++) {
                shareResource.print5();
            }
        }, &quot;A&quot;).start();

        new Thread(() -&gt; {
            for (int i = 0; i &lt; 10; i++) {
                shareResource.print10();
            }
        }, &quot;B&quot;).start();

        new Thread(() -&gt; {
            for (int i = 0; i &lt; 10; i++) {
                shareResource.print15();
            }
        }, &quot;C&quot;).start();

    }

}

class ShareResource {

    // A:1, B:2, C:3
    private int number = 1;

    private Lock lock = new ReentrantLock();

    private Condition conditionA = lock.newCondition();
    private Condition conditionB = lock.newCondition();
    private Condition conditionC = lock.newCondition();

    public void print5() {
        try {
            lock.lock();
            while (number != 1) {
                conditionA.await();
            }
            for (int i = 0; i &lt; 5; i++) {
                System.out.print(&quot;A&quot;);
            }
            System.out.println();
            number++;
            conditionB.signal();
        } catch (InterruptedException e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

    public void print10(){
        try {
            lock.lock();
            while (number != 2){
                conditionB.await();
            }
            for (int i = 1; i &lt;= 10; i++){
                System.out.print(&quot;B&quot;);
            }
            System.out.println();
            number++;
            conditionC.signal();
        } catch (InterruptedException e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

    public void print15(){
        try {
            lock.lock();
            while (number != 3){
                conditionC.await();
            }
            for (int i = 1; i &lt;= 15; i++){
                System.out.print(&quot;C&quot;);
            }
            System.out.println();
            number = 1;
            conditionA.signal();
        } catch (InterruptedException e) {
            e.printStackTrace();
        } finally {
            lock.unlock();
        }
    }

}</code></pre>
<p>ä½¿ç”¨synchronizedçš„è§£æ³•:</p>
<pre><code class="java">import java.util.concurrent.atomic.AtomicInteger;

public class SynchronizedLockDifference {

    public static void main(String[] args) {
        ShareResource shareResource = new ShareResource();
        new Thread(() -&gt; {
            for (int i = 0; i &lt; 10; i++) {
                shareResource.print5();
            }
        }, &quot;A&quot;).start();

        new Thread(() -&gt; {
            for (int i = 0; i &lt; 10; i++) {
                shareResource.print10();
            }
        }, &quot;B&quot;).start();

        new Thread(() -&gt; {
            for (int i = 0; i &lt; 10; i++) {
                shareResource.print15();
            }
        }, &quot;C&quot;).start();
    }

}

class ShareResource {

    // A:1, B:2, C:3
    private static AtomicInteger number = new AtomicInteger(1);

    private static final Object lock = new Object();

    public void print5() {
        synchronized (lock) {
            while (number.get() != 1) {
                try {
                    lock.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
            for (int i = 0; i &lt; 5; i++) {
                System.out.print(&quot;A&quot;);
            }
            System.out.println();
            number.set(2);
            lock.notifyAll();
        }
    }

    public void print10() {
        synchronized (lock) {
            while (number.get() != 2) {
                try {
                    lock.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
            for (int i = 0; i &lt; 10; i++) {
                System.out.print(&quot;B&quot;);
            }
            System.out.println();
            number.set(3);
            lock.notifyAll();
        }
    }

    public void print15() {
        synchronized (lock) {
            while (number.get() != 3) {
                try {
                    lock.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
            for (int i = 0; i &lt; 15; i++) {
                System.out.print(&quot;C&quot;);
            }
            System.out.println();
            number.set(1);
            lock.notifyAll();
        }
    }
}</code></pre>
<blockquote>
<br>

<p><strong>è¡¥å……:</strong></p>
<p>åœ¨Java1.5ä¸­ï¼Œsynchronizeæ˜¯æ€§èƒ½ä½æ•ˆçš„ã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ªé‡é‡çº§æ“ä½œï¼Œéœ€è¦è°ƒç”¨æ“ä½œæ¥å£ï¼Œå¯¼è‡´æœ‰å¯èƒ½åŠ é”æ¶ˆè€—çš„ç³»ç»Ÿæ—¶é—´æ¯”åŠ é”ä»¥å¤–çš„æ“ä½œè¿˜å¤šã€‚ç›¸æ¯”ä¹‹ä¸‹ä½¿ç”¨Javaæä¾›çš„Lockå¯¹è±¡ï¼Œæ€§èƒ½æ›´é«˜ä¸€äº›</p>
<p>ä½†æ˜¯åˆ°äº†Java1.6ï¼Œå‘ç”Ÿäº†å˜åŒ–ã€‚synchronizeåœ¨è¯­ä¹‰ä¸Šå¾ˆæ¸…æ™°ï¼Œå¯ä»¥è¿›è¡Œå¾ˆå¤šä¼˜åŒ–ï¼Œæœ‰é€‚åº”è‡ªæ—‹ï¼Œé”æ¶ˆé™¤ï¼Œé”ç²—åŒ–ï¼Œè½»é‡çº§é”ï¼Œåå‘é”ç­‰ç­‰ã€‚å¯¼è‡´åœ¨Java1.6ä¸Šsynchronizeçš„æ€§èƒ½å¹¶ä¸æ¯”Lockå·®ã€‚å®˜æ–¹ä¹Ÿè¡¨ç¤ºï¼Œä»–ä»¬ä¹Ÿæ›´æ”¯æŒsynchronizeï¼Œåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­è¿˜æœ‰ä¼˜åŒ–ä½™åœ°</p>
<p>è¯´åˆ°è¿™é‡Œï¼Œè¿˜æ˜¯æƒ³æä¸€ä¸‹è¿™ä¸¤ç§æœºåˆ¶çš„å…·ä½“åŒºåˆ«ã€‚synchronizedåŸå§‹é‡‡ç”¨çš„æ˜¯CPUæ‚²è§‚é”æœºåˆ¶ï¼Œå³çº¿ç¨‹è·å¾—çš„æ˜¯ç‹¬å é”ã€‚ç‹¬å é”æ„å‘³ç€å…¶ä»–çº¿ç¨‹åªèƒ½ä¾é é˜»å¡æ¥ç­‰å¾…çº¿ç¨‹é‡Šæ”¾é”ã€‚è€Œåœ¨CPUè½¬æ¢çº¿ç¨‹é˜»å¡æ—¶ä¼šå¼•èµ·çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå½“æœ‰å¾ˆå¤šçº¿ç¨‹ç«äº‰é”çš„æ—¶å€™ï¼Œä¼šå¼•èµ·CPUé¢‘ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¯¼è‡´æ•ˆç‡å¾ˆä½</p>
<p>è€ŒLockç”¨çš„æ˜¯ä¹è§‚é”æ–¹å¼ã€‚æ‰€è°“ä¹è§‚é”å°±æ˜¯ï¼Œæ¯æ¬¡ä¸åŠ é”è€Œæ˜¯å‡è®¾æ²¡æœ‰å†²çªè€Œå»å®ŒæˆæŸé¡¹æ“ä½œï¼Œå¦‚æœå› ä¸ºå†²çªå¤±è´¥å°±é‡è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ã€‚ä¹è§‚é”å®ç°çš„æœºåˆ¶å°±æ˜¯CASæ“ä½œï¼ˆCompare and Swapï¼‰ã€‚æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ç ”ç©¶ReentrantLockçš„æºä»£ç ï¼Œä¼šå‘ç°å…¶ä¸­æ¯”è¾ƒé‡è¦çš„è·å¾—é”çš„ä¸€ä¸ªæ–¹æ³•æ˜¯: compareAndSetState, è¿™é‡Œå…¶å®å°±æ˜¯è°ƒç”¨çš„CPUæä¾›çš„ç‰¹æ®ŠæŒ‡ä»¤</p>
<p>ç°ä»£çš„CPUæä¾›äº†æŒ‡ä»¤ï¼Œå¯ä»¥è‡ªåŠ¨æ›´æ–°å…±äº«æ•°æ®ï¼Œè€Œä¸”èƒ½å¤Ÿæ£€æµ‹åˆ°å…¶ä»–çº¿ç¨‹çš„å¹²æ‰°ï¼Œè€Œ compareAndSet() å°±ç”¨è¿™äº›ä»£æ›¿äº†é”å®šã€‚è¿™ä¸ªç®—æ³•ç§°ä½œéé˜»å¡ç®—æ³•ï¼Œæ„æ€æ˜¯ä¸€ä¸ªçº¿ç¨‹çš„å¤±è´¥æˆ–è€…æŒ‚èµ·ä¸åº”è¯¥å½±å“å…¶ä»–çº¿ç¨‹çš„å¤±è´¥æˆ–æŒ‚èµ·çš„ç®—æ³•</p>
</blockquote>
<br>

<h3 id="13-ç”¨è¿‡åå‘ä»£ç†æœåŠ¡å™¨å—ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿnginxè´Ÿè½½å‡è¡¡æœ‰å“ªäº›å‚æ•°ï¼Ÿ"><a href="#13-ç”¨è¿‡åå‘ä»£ç†æœåŠ¡å™¨å—ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿnginxè´Ÿè½½å‡è¡¡æœ‰å“ªäº›å‚æ•°ï¼Ÿ" class="headerlink" title="13. ç”¨è¿‡åå‘ä»£ç†æœåŠ¡å™¨å—ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿnginxè´Ÿè½½å‡è¡¡æœ‰å“ªäº›å‚æ•°ï¼Ÿ"></a>13. ç”¨è¿‡åå‘ä»£ç†æœåŠ¡å™¨å—ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿnginxè´Ÿè½½å‡è¡¡æœ‰å“ªäº›å‚æ•°ï¼Ÿ</h3><p>ä¸»è¦è€ƒå¯Ÿçš„æ˜¯Nginxçš„ä¸€äº›é…ç½®å‚æ•°, ä¸»è¦æœ‰:</p>
<p><strong>upstreamé…ç½®ï¼š</strong></p>
<p>åœ¨httpé…ç½®ä¸‹å¢åŠ upstreamé…ç½®å³å¯ï¼š</p>
<pre><code>upstream nodes {
    server 192.168.10.1:8668;
    server 192.168.10.2:8668;
}
</code></pre><p>upstreamå¯¹é…ç½®çš„ä¸Šæ¸¸æœåŠ¡å™¨æŒ‰ç…§é»˜è®¤çš„è½®è¯¢æ–¹å¼è¿›è¡Œè¯·æ±‚ã€‚å¦‚æœä¸Šæ¸¸æœåŠ¡å™¨æŒ‚æ‰ï¼Œèƒ½è‡ªå·±ä¸»åŠ¨å‰”é™¤ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„, è¿™ç§æ–¹å¼ç®€å•å¿«æ·</p>
<p>ä½†æ˜¯å¦‚æœä¸Šæ¸¸æœåŠ¡å™¨åœ¨é…ç½®ä¸å‡è¡¡çš„æƒ…å†µä¸‹ï¼Œæ˜¯è§£å†³ä¸äº†çš„, æ‰€ä»¥nginxæœ‰å…¶ä»–å¾ˆå¤šçš„é…ç½®é¡¹</p>
<p><strong>æƒé‡é…ç½®ï¼š</strong></p>
<p>weightå’Œè¯·æ±‚æ•°é‡æˆæ­£æ¯”ï¼Œä¸»è¦ç”¨äºä¸Šæ¸¸æœåŠ¡å™¨é…ç½®ä¸å‡è¡¡çš„æƒ…å†µã€‚ä¸‹é¢çš„é…ç½®ä¸­ï¼Œ192.168.10.2æœºå™¨çš„è¯·æ±‚é‡æ˜¯192.168.10.1æœºå™¨è¯·æ±‚é‡çš„2å€</p>
<pre><code>upstream nodes {
    server 192.168.10.1:8668 weight=5;
    server 192.168.10.2:8668 weight=10;
}
</code></pre><p><strong>ip_hashé…ç½®ï¼š</strong></p>
<p>æ¯ä¸€ä¸ªè¯·æ±‚æŒ‰ç…§è¯·æ±‚çš„ipçš„hashç»“æœåˆ†é…ã€‚è¿™æ ·æ¯ä¸€ä¸ªè¯·æ±‚å›ºå®šè½åœ¨ä¸€ä¸ªä¸Šæ¸¸æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿè§£å†³ipä¼šè¯åœ¨åŒä¸€å°æœåŠ¡å™¨çš„é—®é¢˜</p>
<pre><code>upstream nodes {
    ip_hash;
    server 192.168.10.1:8668;
    server 192.168.10.2:8668;
}</code></pre><p><strong>fairé…ç½®ï¼š</strong></p>
<p>æŒ‰ä¸Šæ¸¸æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ã€‚å“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…</p>
<pre><code>upstream nodes {
    server 192.168.10.1:8668;
    server 192.168.10.2:8668;
    fair;
}</code></pre><p><strong>url_hashé…ç½®ï¼š</strong></p>
<p>æŒ‰ç…§è®¿é—®çš„urlçš„hashç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸€ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªä¸Šæ¸¸æœåŠ¡å™¨</p>
<p>æ³¨æ„ï¼šåœ¨upstreamä¸­åŠ å…¥hashè¯­å¥ã€‚serverè¯­å¥ä¸­ä¸èƒ½å†™å…¥weightç­‰å…¶ä»–çš„åƒæ•°ï¼Œhash_methodæ˜¯ä½¿ç”¨çš„hashç®—æ³•</p>
<pre><code>upstream nodes {
    server 192.168.10.1:8668;
    server 192.168.10.2:8668;
    hash $request_uri;
    hash_method crc32;
}</code></pre><p><strong>downï¼š</strong>è¡¨ç¤ºå½“å‰çš„serverä¸åƒä¸è´Ÿè½½å‡è¡¡</p>
<p><strong>max_fails ï¼š</strong>è¯·æ±‚å¤±è´¥çš„æ¬¡æ•°é»˜è®¤ä¸º1</p>
<p><strong>fail_timeout :</strong> max_failsæ¬¡å¤±è´¥åï¼Œæš‚åœè¯·æ±‚æ­¤å°æœåŠ¡å™¨çš„æ—¶é—´</p>
<p><strong>backupï¼š</strong> å…¶ä»–å…¨éƒ¨çš„ébackupæœºå™¨downæˆ–è€…å¿™çš„æ—¶å€™ï¼Œè¯·æ±‚backupæœºå™¨ã€‚æ‰€ä»¥è¿™å°æœºå™¨å‹åŠ›ä¼šæœ€è½»</p>
<br>

<h3 id="14-ä½ ç†Ÿæ‚‰çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå’Œå…¶ä»–æ¶ˆæ¯ä¸­é—´å¯¹æ¯”ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ"><a href="#14-ä½ ç†Ÿæ‚‰çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå’Œå…¶ä»–æ¶ˆæ¯ä¸­é—´å¯¹æ¯”ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ" class="headerlink" title="14. ä½ ç†Ÿæ‚‰çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå’Œå…¶ä»–æ¶ˆæ¯ä¸­é—´å¯¹æ¯”ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ"></a>14. ä½ ç†Ÿæ‚‰çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå’Œå…¶ä»–æ¶ˆæ¯ä¸­é—´å¯¹æ¯”ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ</h3><p>æˆ‘ä½¿ç”¨è¿‡çš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰RabbitMQ, é˜¿é‡Œçš„RocketMQå’ŒKafka.</p>
<p><strong>æ¶ˆæ¯ä¸­é—´ä»¶çš„ç»„æˆ</strong></p>
<p><strong>Broker</strong>: æ¶ˆæ¯æœåŠ¡å™¨ï¼Œä½œä¸ºserveræä¾›æ¶ˆæ¯æ ¸å¿ƒæœåŠ¡;</p>
<p><strong>Producer</strong>: æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œä¸šåŠ¡çš„å‘èµ·æ–¹ï¼Œè´Ÿè´£ç”Ÿäº§æ¶ˆæ¯ä¼ è¾“ç»™broker;</p>
<p><strong>Consumer</strong>: æ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œä¸šåŠ¡çš„å¤„ç†æ–¹ï¼Œè´Ÿè´£ä»brokerè·å–æ¶ˆæ¯å¹¶è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†;</p>
<p><strong>Topic</strong>: ä¸»é¢˜ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼ä¸‹çš„æ¶ˆæ¯ç»Ÿä¸€æ±‡é›†åœ°ï¼Œä¸åŒç”Ÿäº§è€…å‘topicå‘é€æ¶ˆæ¯ï¼Œç”±MQæœåŠ¡å™¨åˆ†å‘åˆ°ä¸åŒçš„è®¢é˜…è€…ï¼Œå®ç°æ¶ˆæ¯çš„å¹¿æ’­;</p>
<p><strong>Queue</strong>: é˜Ÿåˆ—ï¼ŒPTPæ¨¡å¼ä¸‹ï¼Œç‰¹å®šç”Ÿäº§è€…å‘ç‰¹å®šqueueå‘é€æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…è®¢é˜…ç‰¹å®šçš„queueå®ŒæˆæŒ‡å®šæ¶ˆæ¯çš„æ¥æ”¶;</p>
<p><strong>Message</strong>: æ¶ˆæ¯ä½“ï¼Œæ ¹æ®ä¸åŒé€šä¿¡åè®®å®šä¹‰çš„å›ºå®šæ ¼å¼è¿›è¡Œç¼–ç çš„æ•°æ®åŒ…ï¼Œæ¥å°è£…ä¸šåŠ¡æ•°æ®ï¼Œå®ç°æ¶ˆæ¯çš„ä¼ è¾“;</p>
<br>

<p><strong>æ¶ˆæ¯ä¸­é—´ä»¶æ¨¡å¼åˆ†ç±»</strong></p>
<p><strong>ç‚¹å¯¹ç‚¹</strong></p>
<p>PTPç‚¹å¯¹ç‚¹: ä½¿ç”¨queueä½œä¸ºé€šä¿¡è½½ä½“</p>
<p><img src="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E7%82%B9%E5%AF%B9%E7%82%B9.png" alt="ç‚¹å¯¹ç‚¹.png"></p>
<p>è¯´æ˜:</p>
<p>æ¶ˆæ¯ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯å‘é€åˆ°queueä¸­ï¼Œç„¶åæ¶ˆæ¯æ¶ˆè´¹è€…ä»queueä¸­å–å‡ºå¹¶ä¸”æ¶ˆè´¹æ¶ˆæ¯. æ¶ˆæ¯è¢«æ¶ˆè´¹ä»¥åï¼Œqueueä¸­ä¸å†å­˜å‚¨ï¼Œæ‰€ä»¥æ¶ˆæ¯æ¶ˆè´¹è€…ä¸å¯èƒ½æ¶ˆè´¹åˆ°å·²ç»è¢«æ¶ˆè´¹çš„æ¶ˆæ¯ã€‚ Queueæ”¯æŒå­˜åœ¨å¤šä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯å¯¹ä¸€ä¸ªæ¶ˆæ¯è€Œè¨€ï¼Œåªä¼šæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹</p>
<p><strong>å‘å¸ƒ/è®¢é˜…(Pub/Sub)</strong></p>
<p>Pub/Subå‘å¸ƒè®¢é˜…(å¹¿æ’­): ä½¿ç”¨topicä½œä¸ºé€šä¿¡è½½ä½“</p>
<p><img src="https://raw.gitmirror.com/JasonkayZK/blog_static/master/images/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85.png" alt="å‘å¸ƒè®¢é˜….png"></p>
<p>è¯´æ˜:</p>
<p>æ¶ˆæ¯ç”Ÿäº§è€…ï¼ˆå‘å¸ƒï¼‰å°†æ¶ˆæ¯å‘å¸ƒåˆ°topicä¸­ï¼ŒåŒæ—¶æœ‰å¤šä¸ªæ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆè®¢é˜…ï¼‰æ¶ˆè´¹è¯¥æ¶ˆæ¯ã€‚å’Œç‚¹å¯¹ç‚¹æ–¹å¼ä¸åŒï¼Œå‘å¸ƒåˆ°topicçš„æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰è®¢é˜…è€…æ¶ˆè´¹</p>
<p>queueå®ç°äº†è´Ÿè½½å‡è¡¡ï¼Œå°†producerç”Ÿäº§çš„æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”±å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚ä½†ä¸€ä¸ªæ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¥å—ï¼Œå½“æ²¡æœ‰æ¶ˆè´¹è€…å¯ç”¨æ—¶ï¼Œè¿™ä¸ªæ¶ˆæ¯ä¼šè¢«ä¿å­˜ç›´åˆ°æœ‰ä¸€ä¸ªå¯ç”¨çš„æ¶ˆè´¹è€…</p>
<p>topicå®ç°äº†å‘å¸ƒå’Œè®¢é˜…ï¼Œå½“ä½ å‘å¸ƒä¸€ä¸ªæ¶ˆæ¯ï¼Œæ‰€æœ‰è®¢é˜…è¿™ä¸ªtopicçš„æœåŠ¡éƒ½èƒ½å¾—åˆ°è¿™ä¸ªæ¶ˆæ¯ï¼Œæ‰€ä»¥ä»1åˆ°Nä¸ªè®¢é˜…è€…éƒ½èƒ½å¾—åˆ°ä¸€ä¸ªæ¶ˆæ¯çš„æ‹·è´</p>
<br>

<p><strong>æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¼˜åŠ¿</strong></p>
<p><strong>ç³»ç»Ÿè§£è€¦</strong>: äº¤äº’ç³»ç»Ÿä¹‹é—´æ²¡æœ‰ç›´æ¥çš„è°ƒç”¨å…³ç³»ï¼Œåªæ˜¯é€šè¿‡æ¶ˆæ¯ä¼ è¾“ï¼Œæ•…ç³»ç»Ÿä¾µå…¥æ€§ä¸å¼ºï¼Œè€¦åˆåº¦ä½</p>
<p><strong>æé«˜ç³»ç»Ÿå“åº”æ—¶é—´</strong>: ä¾‹å¦‚åŸæ¥çš„ä¸€å¥—é€»è¾‘ï¼Œå®Œæˆæ”¯ä»˜å¯èƒ½æ¶‰åŠå…ˆä¿®æ”¹è®¢å•çŠ¶æ€ã€è®¡ç®—ä¼šå‘˜ç§¯åˆ†ã€é€šçŸ¥ç‰©æµé…é€å‡ ä¸ªé€»è¾‘æ‰èƒ½å®Œæˆï¼›é€šè¿‡MQæ¶æ„è®¾è®¡ï¼Œå°±å¯å°†ç´§æ€¥é‡è¦ï¼ˆéœ€è¦ç«‹åˆ»å“åº”ï¼‰çš„ä¸šåŠ¡æ”¾åˆ°è¯¥è°ƒç”¨æ–¹æ³•ä¸­ï¼Œå“åº”è¦æ±‚ä¸é«˜çš„ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ”¾åˆ°MQé˜Ÿåˆ—ä¸­ï¼Œä¾›æ¶ˆè´¹è€…å¤„ç†</p>
<p><strong>ä¸ºå¤§æ•°æ®å¤„ç†æ¶æ„æä¾›æœåŠ¡</strong>: é€šè¿‡æ¶ˆæ¯ä½œä¸ºæ•´åˆï¼Œå¤§æ•°æ®çš„èƒŒæ™¯ä¸‹ï¼Œæ¶ˆæ¯é˜Ÿåˆ—è¿˜ä¸å®æ—¶å¤„ç†æ¶æ„æ•´åˆï¼Œä¸ºæ•°æ®å¤„ç†æä¾›æ€§èƒ½æ”¯æŒ</p>
<br>

<p><strong>æ¶ˆæ¯ä¸­é—´ä»¶åº”ç”¨åœºæ™¯</strong></p>
<p><strong>å¼‚æ­¥é€šä¿¡</strong>: æœ‰äº›ä¸šåŠ¡ä¸æƒ³ä¹Ÿä¸éœ€è¦ç«‹å³å¤„ç†æ¶ˆæ¯ã€‚æ¶ˆæ¯é˜Ÿåˆ—æä¾›äº†å¼‚æ­¥å¤„ç†æœºåˆ¶ï¼Œå…è®¸ç”¨æˆ·æŠŠä¸€ä¸ªæ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—ï¼Œä½†å¹¶ä¸ç«‹å³å¤„ç†å®ƒã€‚æƒ³å‘é˜Ÿåˆ—ä¸­æ”¾å…¥å¤šå°‘æ¶ˆæ¯å°±æ”¾å¤šå°‘ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™å†å»å¤„ç†å®ƒä»¬</p>
<p><strong>è§£è€¦</strong>: é™ä½å·¥ç¨‹é—´çš„å¼ºä¾èµ–ç¨‹åº¦ï¼Œé’ˆå¯¹å¼‚æ„ç³»ç»Ÿè¿›è¡Œé€‚é…ã€‚åœ¨é¡¹ç›®å¯åŠ¨ä¹‹åˆæ¥é¢„æµ‹å°†æ¥é¡¹ç›®ä¼šç¢°åˆ°ä»€ä¹ˆéœ€æ±‚ï¼Œæ˜¯æå…¶å›°éš¾çš„ã€‚é€šè¿‡æ¶ˆæ¯ç³»ç»Ÿåœ¨å¤„ç†è¿‡ç¨‹ä¸­é—´æ’å…¥äº†ä¸€ä¸ªéšå«çš„ã€åŸºäºæ•°æ®çš„æ¥å£å±‚ï¼Œä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹éƒ½è¦å®ç°è¿™ä¸€æ¥å£ï¼Œå½“åº”ç”¨å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥ç‹¬ç«‹çš„æ‰©å±•æˆ–ä¿®æ”¹ä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹ï¼Œåªè¦ç¡®ä¿å®ƒä»¬éµå®ˆåŒæ ·çš„æ¥å£çº¦æŸ</p>
<p><strong>å†—ä½™</strong>: æœ‰äº›æƒ…å†µä¸‹ï¼Œå¤„ç†æ•°æ®çš„è¿‡ç¨‹ä¼šå¤±è´¥ã€‚é™¤éæ•°æ®è¢«æŒä¹…åŒ–ï¼Œå¦åˆ™å°†é€ æˆä¸¢å¤±ã€‚æ¶ˆæ¯é˜Ÿåˆ—æŠŠæ•°æ®è¿›è¡ŒæŒä¹…åŒ–ç›´åˆ°å®ƒä»¬å·²ç»è¢«å®Œå…¨å¤„ç†ï¼Œé€šè¿‡è¿™ä¸€æ–¹å¼è§„é¿äº†æ•°æ®ä¸¢å¤±é£é™©ã€‚è®¸å¤šæ¶ˆæ¯é˜Ÿåˆ—æ‰€é‡‡ç”¨çš„â€æ’å…¥-è·å–-åˆ é™¤â€èŒƒå¼ä¸­ï¼Œåœ¨æŠŠä¸€ä¸ªæ¶ˆæ¯ä»é˜Ÿåˆ—ä¸­åˆ é™¤ä¹‹å‰ï¼Œéœ€è¦ä½ çš„å¤„ç†ç³»ç»Ÿæ˜ç¡®çš„æŒ‡å‡ºè¯¥æ¶ˆæ¯å·²ç»è¢«å¤„ç†å®Œæ¯•ï¼Œä»è€Œç¡®ä¿ä½ çš„æ•°æ®è¢«å®‰å…¨çš„ä¿å­˜ç›´åˆ°ä½ ä½¿ç”¨å®Œæ¯•</p>
<p><strong>æ‰©å±•æ€§</strong>: å› ä¸ºæ¶ˆæ¯é˜Ÿåˆ—è§£è€¦äº†ä½ çš„å¤„ç†è¿‡ç¨‹ï¼Œæ‰€ä»¥å¢å¤§æ¶ˆæ¯å…¥é˜Ÿå’Œå¤„ç†çš„é¢‘ç‡æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œåªè¦å¦å¤–å¢åŠ å¤„ç†è¿‡ç¨‹å³å¯ã€‚ä¸éœ€è¦æ”¹å˜ä»£ç ã€ä¸éœ€è¦è°ƒèŠ‚å‚æ•°ã€‚ä¾¿äºåˆ†å¸ƒå¼æ‰©å®¹</p>
<p><strong>è¿‡è½½ä¿æŠ¤</strong>: åœ¨è®¿é—®é‡å‰§å¢çš„æƒ…å†µä¸‹ï¼Œåº”ç”¨ä»ç„¶éœ€è¦ç»§ç»­å‘æŒ¥ä½œç”¨ï¼Œä½†æ˜¯è¿™æ ·çš„çªå‘æµé‡æ— æ³•æå–é¢„çŸ¥ï¼›å¦‚æœä»¥ä¸ºäº†èƒ½å¤„ç†è¿™ç±»ç¬é—´å³°å€¼è®¿é—®ä¸ºæ ‡å‡†æ¥æŠ•å…¥èµ„æºéšæ—¶å¾…å‘½æ— ç–‘æ˜¯å·¨å¤§çš„æµªè´¹ã€‚ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—èƒ½å¤Ÿä½¿å…³é”®ç»„ä»¶é¡¶ä½çªå‘çš„è®¿é—®å‹åŠ›ï¼Œè€Œä¸ä¼šå› ä¸ºçªå‘çš„è¶…è´Ÿè·çš„è¯·æ±‚è€Œå®Œå…¨å´©æºƒ</p>
<p><strong>å¯æ¢å¤æ€§</strong>: ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ç»„ä»¶å¤±æ•ˆæ—¶ï¼Œä¸ä¼šå½±å“åˆ°æ•´ä¸ªç³»ç»Ÿã€‚æ¶ˆæ¯é˜Ÿåˆ—é™ä½äº†è¿›ç¨‹é—´çš„è€¦åˆåº¦ï¼Œæ‰€ä»¥å³ä½¿ä¸€ä¸ªå¤„ç†æ¶ˆæ¯çš„è¿›ç¨‹æŒ‚æ‰ï¼ŒåŠ å…¥é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä»ç„¶å¯ä»¥åœ¨ç³»ç»Ÿæ¢å¤åè¢«å¤„ç†</p>
<p><strong>é¡ºåºä¿è¯</strong>: åœ¨å¤§å¤šä½¿ç”¨åœºæ™¯ä¸‹ï¼Œæ•°æ®å¤„ç†çš„é¡ºåºéƒ½å¾ˆé‡è¦ã€‚å¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—æœ¬æ¥å°±æ˜¯æ’åºçš„ï¼Œå¹¶ä¸”èƒ½ä¿è¯æ•°æ®ä¼šæŒ‰ç…§ç‰¹å®šçš„é¡ºåºæ¥å¤„ç†</p>
<p><strong>ç¼“å†²</strong>: åœ¨ä»»ä½•é‡è¦çš„ç³»ç»Ÿä¸­ï¼Œéƒ½ä¼šæœ‰éœ€è¦ä¸åŒçš„å¤„ç†æ—¶é—´çš„å…ƒç´ ã€‚æ¶ˆæ¯é˜Ÿåˆ—é€šè¿‡ä¸€ä¸ªç¼“å†²å±‚æ¥å¸®åŠ©ä»»åŠ¡æœ€é«˜æ•ˆç‡çš„æ‰§è¡Œï¼Œè¯¥ç¼“å†²æœ‰åŠ©äºæ§åˆ¶å’Œä¼˜åŒ–æ•°æ®æµç»è¿‡ç³»ç»Ÿçš„é€Ÿåº¦ã€‚ä»¥è°ƒèŠ‚ç³»ç»Ÿå“åº”æ—¶é—´</p>
<p><strong>æ•°æ®æµå¤„ç†</strong>: åˆ†å¸ƒå¼ç³»ç»Ÿäº§ç”Ÿçš„æµ·é‡æ•°æ®æµï¼Œå¦‚ï¼šä¸šåŠ¡æ—¥å¿—ã€ç›‘æ§æ•°æ®ã€ç”¨æˆ·è¡Œä¸ºç­‰ï¼Œé’ˆå¯¹è¿™äº›æ•°æ®æµè¿›è¡Œå®æ—¶æˆ–æ‰¹é‡é‡‡é›†æ±‡æ€»ï¼Œç„¶åè¿›è¡Œå¤§æ•°æ®åˆ†ææ˜¯å½“å‰äº’è”ç½‘çš„å¿…å¤‡æŠ€æœ¯ï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å®Œæˆæ­¤ç±»æ•°æ®æ”¶é›†æ˜¯æœ€å¥½çš„é€‰æ‹©</p>
<br>

<p><strong>æ¶ˆæ¯ä¸­é—´ä»¶å¸¸ç”¨åè®®</strong></p>
<p><strong>AMQPåè®®</strong>: AMQPå³Advanced Message Queuing  Protocol,ä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡çš„åº”ç”¨å±‚æ ‡å‡†é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®,æ˜¯åº”ç”¨å±‚åè®®çš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†,ä¸ºé¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶è®¾è®¡ã€‚åŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ¶ˆæ¯ï¼Œå¹¶ä¸å—å®¢æˆ·ç«¯/ä¸­é—´ä»¶ä¸åŒäº§å“ï¼Œä¸åŒå¼€å‘è¯­è¨€ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚</p>
<p>ä¼˜ç‚¹ï¼šå¯é ã€é€šç”¨</p>
<p><strong>MQTTåè®®</strong>: MQTTï¼ˆMessage Queuing Telemetry  Transportï¼Œæ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“ï¼‰æ˜¯IBMå¼€å‘çš„ä¸€ä¸ªå³æ—¶é€šè®¯åè®®ï¼Œæœ‰å¯èƒ½æˆä¸ºç‰©è”ç½‘çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è¯¥åè®®æ”¯æŒæ‰€æœ‰å¹³å°ï¼Œå‡ ä¹å¯ä»¥æŠŠæ‰€æœ‰è”ç½‘ç‰©å“å’Œå¤–éƒ¨è¿æ¥èµ·æ¥ï¼Œè¢«ç”¨æ¥å½“åšä¼ æ„Ÿå™¨å’Œè‡´åŠ¨å™¨ï¼ˆæ¯”å¦‚é€šè¿‡Twitterè®©æˆ¿å±‹è”ç½‘ï¼‰çš„é€šä¿¡åè®®</p>
<p>ä¼˜ç‚¹ï¼šæ ¼å¼ç®€æ´ã€å ç”¨å¸¦å®½å°ã€ç§»åŠ¨ç«¯é€šä¿¡ã€PUSHã€åµŒå…¥å¼ç³»ç»Ÿ</p>
<p><strong>STOMPåè®®</strong>: STOMPï¼ˆStreaming Text Orientated Message  Protocolï¼‰æ˜¯æµæ–‡æœ¬å®šå‘æ¶ˆæ¯åè®®ï¼Œæ˜¯ä¸€ç§ä¸ºMOM(Message Oriented  Middlewareï¼Œé¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶)è®¾è®¡çš„ç®€å•æ–‡æœ¬åè®®ã€‚STOMPæä¾›ä¸€ä¸ªå¯äº’æ“ä½œçš„è¿æ¥æ ¼å¼ï¼Œå…è®¸å®¢æˆ·ç«¯ä¸ä»»æ„STOMPæ¶ˆæ¯ä»£ç†ï¼ˆBrokerï¼‰è¿›è¡Œäº¤äº’</p>
<p>ä¼˜ç‚¹ï¼šå‘½ä»¤æ¨¡å¼ï¼ˆétopic\queueæ¨¡å¼ï¼‰</p>
<p><strong>XMPPåè®®</strong>: XMPPï¼ˆå¯æ‰©å±•æ¶ˆæ¯å¤„ç†ç°åœºåè®®ï¼ŒExtensible Messaging and  Presence  Protocolï¼‰æ˜¯åŸºäºå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆXMLï¼‰çš„åè®®ï¼Œå¤šç”¨äºå³æ—¶æ¶ˆæ¯ï¼ˆIMï¼‰ä»¥åŠåœ¨çº¿ç°åœºæ¢æµ‹ã€‚é€‚ç”¨äºæœåŠ¡å™¨ä¹‹é—´çš„å‡†å³æ—¶æ“ä½œã€‚æ ¸å¿ƒæ˜¯åŸºäºXMLæµä¼ è¾“ï¼Œè¿™ä¸ªåè®®å¯èƒ½æœ€ç»ˆå…è®¸å› ç‰¹ç½‘ç”¨æˆ·å‘å› ç‰¹ç½‘ä¸Šçš„å…¶ä»–ä»»ä½•äººå‘é€å³æ—¶æ¶ˆæ¯ï¼Œå³ä½¿å…¶æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨ä¸åŒ</p>
<p>ä¼˜ç‚¹ï¼šé€šç”¨å…¬å¼€ã€å…¼å®¹æ€§å¼ºã€å¯æ‰©å±•ã€å®‰å…¨æ€§é«˜ï¼Œä½†XMLç¼–ç æ ¼å¼å ç”¨å¸¦å®½å¤§</p>
<p><strong>å…¶ä»–åŸºäºTCP/IPè‡ªå®šä¹‰çš„åè®®</strong>: æœ‰äº›ç‰¹æ®Šæ¡†æ¶ï¼ˆå¦‚ï¼šredisã€kafkaã€zeroMqç­‰ï¼‰æ ¹æ®è‡ªèº«éœ€è¦æœªä¸¥æ ¼éµå¾ªMQè§„èŒƒï¼Œè€Œæ˜¯åŸºäºTCP\IPè‡ªè¡Œå°è£…äº†ä¸€å¥—åè®®ï¼Œé€šè¿‡ç½‘ç»œsocketæ¥å£è¿›è¡Œä¼ è¾“ï¼Œå®ç°äº†MQçš„åŠŸèƒ½</p>
<br>

<p><strong>å¸¸è§æ¶ˆæ¯ä¸­é—´ä»¶MQä»‹ç»</strong></p>
<p><strong>RocketMQ</strong>: é˜¿é‡Œç³»ä¸‹å¼€æºçš„ä¸€æ¬¾åˆ†å¸ƒå¼ã€é˜Ÿåˆ—æ¨¡å‹çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒåŸåMetaqï¼Œ3.0ç‰ˆæœ¬åç§°æ”¹ä¸ºRocketMQï¼Œæ˜¯é˜¿é‡Œå‚ç…§kafkaè®¾è®¡æ€æƒ³ä½¿ç”¨javaå®ç°çš„ä¸€å¥—mqã€‚åŒæ—¶å°†é˜¿é‡Œç³»å†…éƒ¨å¤šæ¬¾mqäº§å“ï¼ˆNotifyã€metaqï¼‰è¿›è¡Œæ•´åˆï¼Œåªç»´æŠ¤æ ¸å¿ƒåŠŸèƒ½ï¼Œå»é™¤äº†æ‰€æœ‰å…¶ä»–è¿è¡Œæ—¶ä¾èµ–ï¼Œä¿è¯æ ¸å¿ƒåŠŸèƒ½æœ€ç®€åŒ–ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šé…åˆé˜¿é‡Œä¸Šè¿°å…¶ä»–å¼€æºäº§å“å®ç°ä¸åŒåœºæ™¯ä¸‹mqçš„æ¶æ„ï¼Œç›®å‰ä¸»è¦å¤šç”¨äºè®¢å•äº¤æ˜“ç³»ç»Ÿ</p>
<p>å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>èƒ½å¤Ÿä¿è¯ä¸¥æ ¼çš„æ¶ˆæ¯é¡ºåº</li>
<li>æä¾›é’ˆå¯¹æ¶ˆæ¯çš„è¿‡æ»¤åŠŸèƒ½</li>
<li>æä¾›ä¸°å¯Œçš„æ¶ˆæ¯æ‹‰å–æ¨¡å¼</li>
<li>é«˜æ•ˆçš„è®¢é˜…è€…æ°´å¹³æ‰©å±•èƒ½åŠ›</li>
<li>å®æ—¶çš„æ¶ˆæ¯è®¢é˜…æœºåˆ¶</li>
<li>äº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›</li>
</ul>
<p>å®˜æ–¹æä¾›äº†ä¸€äº›ä¸åŒäºkafkaçš„å¯¹æ¯”å·®å¼‚: <a href="https://rocketmq.apache.org/docs/motivation/" target="_blank" rel="noopener">https://rocketmq.apache.org/docs/motivation/</a></p>
<p><strong>RabbitMQ</strong>: ä½¿ç”¨Erlangç¼–å†™çš„ä¸€ä¸ªå¼€æºçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ¬èº«æ”¯æŒå¾ˆå¤šçš„åè®®ï¼šAMQPï¼ŒXMPP,  SMTP,STOMPï¼Œä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œä½¿çš„å®ƒå˜çš„éå¸¸é‡é‡çº§ï¼Œæ›´é€‚åˆäºä¼ä¸šçº§çš„å¼€å‘ã€‚åŒæ—¶å®ç°äº†Brokeræ¶æ„ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ç”Ÿäº§è€…ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™é˜Ÿåˆ—ï¼Œæ¶ˆæ¯åœ¨å‘é€ç»™å®¢æˆ·ç«¯æ—¶å…ˆåœ¨ä¸­å¿ƒé˜Ÿåˆ—æ’é˜Ÿã€‚å¯¹è·¯ç”±(Routing)ï¼Œè´Ÿè½½å‡è¡¡(Load balance)ã€æ•°æ®æŒä¹…åŒ–éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚å¤šç”¨äºè¿›è¡Œä¼ä¸šçº§çš„ESBæ•´åˆ</p>
<p><strong>ActiveMQ</strong>: Apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ã€‚ä½¿ç”¨Javaå®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒçš„ JMS  Providerå®ç°ï¼Œå°‘é‡ä»£ç å°±å¯ä»¥é«˜æ•ˆåœ°å®ç°é«˜çº§åº”ç”¨åœºæ™¯ã€‚å¯æ’æ‹”çš„ä¼ è¾“åè®®æ”¯æŒï¼Œæ¯”å¦‚ï¼šin-VM, TCP, SSL, NIO, UDP,  multicast, JGroups and JXTA  transportsã€‚RabbitMQã€ZeroMQã€ActiveMQå‡æ”¯æŒå¸¸ç”¨çš„å¤šç§è¯­è¨€å®¢æˆ·ç«¯ C++ã€Javaã€.Net,ã€Pythonã€  Phpã€ Rubyç­‰</p>
<p><strong>Kafka</strong>: Apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œä½¿ç”¨scalaå®ç°çš„ä¸€ä¸ªé«˜æ€§èƒ½åˆ†å¸ƒå¼Publish/Subscribeæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>å¿«é€ŸæŒä¹…åŒ–ï¼šé€šè¿‡ç£ç›˜é¡ºåºè¯»å†™ä¸é›¶æ‹·è´æœºåˆ¶ï¼Œå¯ä»¥åœ¨O(1)çš„ç³»ç»Ÿå¼€é”€ä¸‹è¿›è¡Œæ¶ˆæ¯æŒä¹…åŒ–ï¼›</li>
<li>é«˜ååï¼šåœ¨ä¸€å°æ™®é€šçš„æœåŠ¡å™¨ä¸Šæ—¢å¯ä»¥è¾¾åˆ°10W/sçš„ååé€Ÿç‡ï¼›</li>
<li>é«˜å †ç§¯ï¼šæ”¯æŒtopicä¸‹æ¶ˆè´¹è€…è¾ƒé•¿æ—¶é—´ç¦»çº¿ï¼Œæ¶ˆæ¯å †ç§¯é‡å¤§ï¼›</li>
<li>å®Œå…¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼šBrokerã€Producerã€Consumeréƒ½åŸç”Ÿè‡ªåŠ¨æ”¯æŒåˆ†å¸ƒå¼ï¼Œä¾èµ–zookeeperè‡ªåŠ¨å®ç°å¤æ‚å‡è¡¡ï¼›</li>
<li>æ”¯æŒHadoopæ•°æ®å¹¶è¡ŒåŠ è½½ï¼šå¯¹äºåƒHadoopçš„ä¸€æ ·çš„æ—¥å¿—æ•°æ®å’Œç¦»çº¿åˆ†æç³»ç»Ÿï¼Œä½†åˆè¦æ±‚å®æ—¶å¤„ç†çš„é™åˆ¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆ;</li>
</ul>
<br>

<p><strong>ä¸»è¦æ¶ˆæ¯ä¸­é—´ä»¶çš„æ¯”è¾ƒ</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>åç§°</strong></th>
<th align="center"><strong>ActiveMQ</strong></th>
<th align="center"><strong>RabbitMQ</strong></th>
<th align="center"><strong>RocketMQ</strong></th>
<th align="center"><strong>Kafka</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼<br>Producer-Comsumer</strong></td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
</tr>
<tr>
<td align="center"><strong>å‘å¸ƒ-è®¢é˜…æ¨¡å¼<br>Pub-Sub</strong></td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
</tr>
<tr>
<td align="center"><strong>è¯·æ±‚-å“åº”æ¨¡å¼<br>Request-Reply</strong></td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>å¤šè¯­è¨€æ”¯æŒ</strong></td>
<td align="center">æ”¯æŒ, Javaä¼˜å…ˆ</td>
<td align="center">è¯­è¨€æ— å…³</td>
<td align="center">åªæ”¯æŒJava</td>
<td align="center">æ”¯æŒ, Javaä¼˜å…ˆ</td>
</tr>
<tr>
<td align="center"><strong>å•æœºååé‡</strong></td>
<td align="center">ä¸‡çº§</td>
<td align="center">ä¸‡çº§</td>
<td align="center">ä¸‡çº§</td>
<td align="center">åä¸‡çº§</td>
</tr>
<tr>
<td align="center"><strong>æ¶ˆæ¯å»¶è¿Ÿ</strong></td>
<td align="center"></td>
<td align="center">å¾®ç§’çº§</td>
<td align="center">æ¯«ç§’çº§</td>
<td align="center">æ¯«ç§’çº§</td>
</tr>
<tr>
<td align="center"><strong>å¯ç”¨æ€§</strong></td>
<td align="center">é«˜(ä¸»ä»)</td>
<td align="center">é«˜(ä¸»ä»)</td>
<td align="center">éå¸¸é«˜(åˆ†å¸ƒå¼)</td>
<td align="center">éå¸¸é«˜(åˆ†å¸ƒå¼)</td>
</tr>
<tr>
<td align="center"><strong>æ¶ˆæ¯ä¸¢å¤±</strong></td>
<td align="center">ä½</td>
<td align="center">ä½</td>
<td align="center">ç†è®ºä¸Šä¸ä¼šä¸¢å¤±</td>
<td align="center">ç†è®ºä¸Šä¸ä¼šä¸¢å¤±</td>
</tr>
<tr>
<td align="center"><strong>æ¶ˆæ¯é‡å¤</strong></td>
<td align="center"></td>
<td align="center">å¯æ§åˆ¶</td>
<td align="center"></td>
<td align="center">ç†è®ºä¸Šä¼šæœ‰é‡å¤</td>
</tr>
<tr>
<td align="center"><strong>å•†ä¸šæ”¯æŒ</strong></td>
<td align="center">æ— </td>
<td align="center">æ— </td>
<td align="center">é˜¿é‡Œäº‘</td>
<td align="center">æ— </td>
</tr>
<tr>
<td align="center"><strong>ç‰¹ç‚¹</strong></td>
<td align="center">åŠŸèƒ½é½å…¨,è¢«å¤§é‡å¼€æºé¡¹ç›®ä½¿ç”¨</td>
<td align="center">ç”±äºErlangè¯­è¨€çš„å¹¶å‘èƒ½åŠ›,æ€§èƒ½å¾ˆå¥½</td>
<td align="center">å„ä¸ªç¯èŠ‚åˆ†å¸ƒå¼æ‰©å±•è®¾è®¡,ä¸»ä»HA;æ”¯æŒä¸Šä¸‡é˜Ÿåˆ—;å¤šç§æ¶ˆè´¹æ¨¡å¼;æ€§èƒ½å¾ˆå¥½</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>æ”¯æŒåè®®</strong></td>
<td align="center">OpenWire,STOMP,REST,XMPP,AMQP</td>
<td align="center">AMQP</td>
<td align="center">è‡ªå·±å®šä¹‰çš„ä¸€å¥—(ç¤¾åŒºæä¾›JMS â€“ä¸æˆç†Ÿ)</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>æŒä¹…åŒ–</strong></td>
<td align="center">å†…å­˜, æ–‡ä»¶, æ•°æ®åº“</td>
<td align="center">å†…å­˜, æ–‡ä»¶</td>
<td align="center">ç£ç›˜æ–‡ä»¶</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>äº‹åŠ¡</strong></td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>è´Ÿè½½å‡è¡¡</strong></td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center">æ”¯æŒ</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>ç®¡ç†ç•Œé¢</strong></td>
<td align="center">ä¸€èˆ¬</td>
<td align="center">å¥½</td>
<td align="center">æœ‰web consoleå®ç°</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>éƒ¨ç½²æ–¹å¼</strong></td>
<td align="center">ç‹¬ç«‹, åµŒå…¥</td>
<td align="center">ç‹¬ç«‹</td>
<td align="center">ç‹¬ç«‹</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>ä¼˜ç‚¹</strong></td>
<td align="center">æˆç†Ÿçš„äº§å“,å·²ç»åœ¨å¾ˆå¤šå…¬å¸å¾—åˆ°åº”ç”¨(éå¤§è§„æ¨¡åœºæ™¯)<br>æœ‰è¾ƒå¤šçš„æ–‡æ¡£;<br>å„ç§åè®®æ”¯æŒè¾ƒå¥½;<br>æœ‰å¤šç§è¯­è¨€çš„æˆç†Ÿçš„å®¢æˆ·ç«¯;</td>
<td align="center">ç”±äº Erlangè¯­è¨€çš„ç‰¹æ€§,MQæ€§èƒ½è¾ƒå¥½;<br>ç®¡ç†ç•Œé¢è¾ƒä¸°å¯Œ;<br>åœ¨äº’è”ç½‘å…¬å¸ä¹Ÿæœ‰è¾ƒå¤§è§„æ¨¡çš„åº”ç”¨;<br>æ”¯æŒAMQPåè®®<br>æœ‰å¤šç§è¯­è¨€ä¸”æ”¯æŒ</td>
<td align="center">æ¨¡å‹ç®€å•,æ¥å£æ˜“ç”¨(JMSçš„æ¥å£å¾ˆå¤šåœºåˆå¹¶ä¸å¤ªå®ç”¨)<br>åœ¨é˜¿é‡Œå¤§è§„æ¨¡åº”ç”¨<br>æ€§èƒ½éå¸¸å¥½,å¯ä»¥å¤§é‡å †ç§¯æ¶ˆæ¯åœ¨brokerä¸­;<br>æ”¯æŒå¤šç§æ¶ˆè´¹,åŒ…æ‹¬é›†ç¾¤æ¶ˆè´¹ã€å¹¿æ’­æ¶ˆè´¹ç­‰;<br>å¼€å‘åº¦è¾ƒæ´»è·ƒ,ç‰ˆæœ¬æ›´æ–°å¾ˆå¿«</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>ç¼ºç‚¹</strong></td>
<td align="center">ä¼šå‡ºè«åå…¶å¦™çš„é—®é¢˜,è€Œä¸”ä¼šä¸¢å¤±æ¶ˆæ¯;<br>å…¶é‡å¿ƒæ”¾åˆ° ActiveMQ6.0äº§å“ (Apollo);<br>ç›®å‰ç¤¾åŒºä¸æ´»è·ƒ,ä¸”å¯¹5.xç»´æŠ¤è¾ƒå°‘; <br>ä¸é€‚åˆç”¨äºä¸Šåƒä¸ªé˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯</td>
<td align="center">Erlangè¯­è¨€éš¾åº¦è¾ƒå¤§; <br>é›†ç¾¤ä¸æ”¯æŒåŠ¨æ€æ‰©å±•</td>
<td align="center">äº§å“è¾ƒæ–°æ–‡æ¡£æ¯”è¾ƒç¼ºä¹<br>æ²¡æœ‰åœ¨MQæ ¸å¿ƒä¸­å»å®ç°JMSç­‰æ¥å£,å¯¹å·²æœ‰ç³»ç»Ÿè€Œè¨€ä¸èƒ½å…¼å®¹<br></td>
<td align="center"></td>
</tr>
</tbody></table>
<blockquote>
<br>

<p><strong>å°è´´å£«:</strong></p>
<p>ç›®å‰æ”¯ä»˜å®ä¸­çš„ä½™é¢å®ç­‰æ–°å…´äº§å“å‡ä½¿ç”¨ RocketMQé›†ç¾¤è§„æ¨¡å¤§æ¦‚åœ¨50å°å·¦å³,å•æ—¥å¤„ç†æ¶ˆæ¯ä¸Šç™¾äº¿; é˜¿é‡Œå†…éƒ¨è¿˜æœ‰ä¸€å¥—æœªå¼€æºçš„MQAPI,è¿™å±‚APIå¯ä»¥å°†ä¸Šå±‚åº”ç”¨å’Œä¸‹å±‚MQçš„å®ç°è§£è€¦(é˜¿é‡Œå†…éƒ¨æœ‰å¤šä¸ªmqçš„å®ç°,å¦‚ notifyã€metaq1.x, metaq2.x, RocketMQç­‰),ä½¿å¾—ä¸‹é¢mqå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œåˆ‡æ¢å’Œå‡çº§è€Œå¯¹åº”ç”¨æ— ä»»ä½•å½±å“,ç›®å‰è¿™ä¸€å¥—ä¸œè¥¿æœªå¼€æº</p>
</blockquote>
 <br>

<h3 id="15-selectã€pollã€epollçš„åŸç†ä¸åŒºåˆ«"><a href="#15-selectã€pollã€epollçš„åŸç†ä¸åŒºåˆ«" class="headerlink" title="15. selectã€pollã€epollçš„åŸç†ä¸åŒºåˆ«"></a>15. selectã€pollã€epollçš„åŸç†ä¸åŒºåˆ«</h3><p>(1) select ==&gt;æ—¶é—´å¤æ‚åº¦O(n)</p>
<p>å®ƒä»…ä»…çŸ¥é“äº†ï¼Œæœ‰I/Oäº‹ä»¶å‘ç”Ÿäº†ï¼Œå´å¹¶ä¸çŸ¥é“æ˜¯å“ªå‡ ä¸ªæµ(å¯èƒ½æœ‰ä¸€ä¸ªï¼Œå¤šä¸ªï¼Œç”šè‡³å…¨éƒ¨)ï¼Œæˆ‘ä»¬åªèƒ½æ— å·®åˆ«è½®è¯¢æ‰€æœ‰æµï¼Œæ‰¾å‡ºèƒ½è¯»å‡ºæ•°æ®ï¼Œæˆ–è€…å†™å…¥æ•°æ®çš„æµï¼Œå¯¹ä»–ä»¬è¿›è¡Œæ“ä½œã€‚æ‰€ä»¥<strong>selectå…·æœ‰O(n)çš„æ— å·®åˆ«è½®è¯¢å¤æ‚åº¦</strong>ï¼ŒåŒæ—¶å¤„ç†çš„æµè¶Šå¤šï¼Œæ— å·®åˆ«è½®è¯¢æ—¶é—´å°±è¶Šé•¿</p>
<p>(2) poll ==&gt;æ—¶é—´å¤æ‚åº¦O(n)</p>
<p>pollæœ¬è´¨ä¸Šå’Œselectæ²¡æœ‰åŒºåˆ«ï¼Œå®ƒå°†ç”¨æˆ·ä¼ å…¥çš„æ•°ç»„æ‹·è´åˆ°å†…æ ¸ç©ºé—´ï¼Œç„¶åæŸ¥è¯¢æ¯ä¸ªfdå¯¹åº”çš„è®¾å¤‡çŠ¶æ€ï¼Œ <strong>ä½†æ˜¯å®ƒæ²¡æœ‰æœ€å¤§è¿æ¥æ•°çš„é™åˆ¶ï¼ŒåŸå› æ˜¯å®ƒæ˜¯åŸºäºé“¾è¡¨æ¥å­˜å‚¨çš„</strong></p>
<p>(3) epoll ==&gt;æ—¶é—´å¤æ‚åº¦O(1)</p>
<p><strong>epollå¯ä»¥ç†è§£ä¸ºevent poll</strong>ï¼Œä¸åŒäºå¿™è½®è¯¢å’Œæ— å·®åˆ«è½®è¯¢ï¼Œepollä¼šæŠŠå“ªä¸ªæµå‘ç”Ÿäº†æ€æ ·çš„I/Oäº‹ä»¶é€šçŸ¥æˆ‘ä»¬ã€‚æ‰€ä»¥æˆ‘ä»¬è¯´epollå®é™…ä¸Šæ˜¯<strong>äº‹ä»¶é©±åŠ¨ï¼ˆæ¯ä¸ªäº‹ä»¶å…³è”ä¸Šfdï¼‰</strong>çš„ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯¹è¿™äº›æµçš„æ“ä½œéƒ½æ˜¯æœ‰æ„ä¹‰çš„<strong>(å¤æ‚åº¦é™ä½åˆ°äº†O(1))</strong></p>
<p>selectï¼Œpollï¼Œepolléƒ½æ˜¯IOå¤šè·¯å¤ç”¨çš„æœºåˆ¶ã€‚I/Oå¤šè·¯å¤ç”¨å°±æ˜¯é€šè¿‡ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥ç›‘è§†å¤šä¸ªæè¿°ç¬¦ï¼Œä¸€æ—¦æŸä¸ªæè¿°ç¬¦å°±ç»ªï¼ˆä¸€èˆ¬æ˜¯è¯»å°±ç»ªæˆ–è€…å†™å°±ç»ªï¼‰ï¼Œèƒ½å¤Ÿé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œã€‚<strong>ä½†selectï¼Œpollï¼Œepollæœ¬è´¨ä¸Šéƒ½æ˜¯åŒæ­¥I/Oï¼Œå› ä¸ºä»–ä»¬éƒ½éœ€è¦åœ¨è¯»å†™äº‹ä»¶å°±ç»ªåè‡ªå·±è´Ÿè´£è¿›è¡Œè¯»å†™ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¯»å†™è¿‡ç¨‹æ˜¯é˜»å¡çš„</strong>ï¼Œè€Œå¼‚æ­¥I/Oåˆ™æ— éœ€è‡ªå·±è´Ÿè´£è¿›è¡Œè¯»å†™ï¼Œå¼‚æ­¥I/Oçš„å®ç°ä¼šè´Ÿè´£æŠŠæ•°æ®ä»å†…æ ¸æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´</p>
<p>epollè·Ÿselectéƒ½èƒ½æä¾›å¤šè·¯I/Oå¤ç”¨çš„è§£å†³æ–¹æ¡ˆ: åœ¨ç°åœ¨çš„Linuxå†…æ ¸é‡Œæœ‰éƒ½èƒ½å¤Ÿæ”¯æŒï¼Œå…¶ä¸­epollæ˜¯Linuxæ‰€ç‰¹æœ‰ï¼Œè€Œselectåˆ™åº”è¯¥æ˜¯POSIXæ‰€è§„å®šï¼Œä¸€èˆ¬æ“ä½œç³»ç»Ÿå‡æœ‰å®ç°</p>
<br>

<p><strong>select</strong></p>
<p>selectæœ¬è´¨ä¸Šæ˜¯é€šè¿‡è®¾ç½®æˆ–è€…æ£€æŸ¥å­˜æ”¾fdæ ‡å¿—ä½çš„æ•°æ®ç»“æ„æ¥è¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ã€‚è¿™æ ·æ‰€å¸¦æ¥çš„ç¼ºç‚¹æ˜¯:</p>
<p>1.å•ä¸ªè¿›ç¨‹å¯ç›‘è§†çš„fdæ•°é‡è¢«é™åˆ¶ï¼Œå³èƒ½ç›‘å¬ç«¯å£çš„å¤§å°æœ‰é™</p>
<p>ä¸€èˆ¬æ¥è¯´è¿™ä¸ªæ•°ç›®å’Œç³»ç»Ÿå†…å­˜å…³ç³»å¾ˆå¤§ï¼Œå…·ä½“æ•°ç›®å¯ä»¥é€šè¿‡<code>cat /proc/sys/fs/file-max</code>å¯Ÿçœ‹, 32ä½æœºé»˜è®¤æ˜¯1024ä¸ª, 64ä½æœºé»˜è®¤æ˜¯2048</p>
<p>2.å¯¹socketè¿›è¡Œæ‰«ææ—¶æ˜¯çº¿æ€§æ‰«æï¼Œå³é‡‡ç”¨è½®è¯¢çš„æ–¹æ³•ï¼Œæ•ˆç‡è¾ƒä½</p>
<p>å½“å¥—æ¥å­—æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæ¯æ¬¡select()éƒ½è¦é€šè¿‡éå†FD_SETSIZEä¸ªSocketæ¥å®Œæˆè°ƒåº¦,ä¸ç®¡å“ªä¸ªSocketæ˜¯æ´»è·ƒçš„,éƒ½éå†ä¸€éã€‚è¿™ä¼šæµªè´¹å¾ˆå¤šCPUæ—¶é—´ã€‚å¦‚æœèƒ½ç»™å¥—æ¥å­—æ³¨å†ŒæŸä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ä»–ä»¬æ´»è·ƒæ—¶ï¼Œè‡ªåŠ¨å®Œæˆç›¸å…³æ“ä½œï¼Œé‚£å°±é¿å…äº†è½®è¯¢ï¼Œè¿™æ­£æ˜¯epollä¸kqueueåšçš„</p>
<p>3.éœ€è¦ç»´æŠ¤ä¸€ä¸ªç”¨æ¥å­˜æ”¾å¤§é‡fdçš„æ•°æ®ç»“æ„ï¼Œè¿™æ ·ä¼šä½¿å¾—ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´åœ¨ä¼ é€’è¯¥ç»“æ„æ—¶å¤åˆ¶å¼€é”€å¤§</p>
<p><strong>poll</strong></p>
<p>pollæœ¬è´¨ä¸Šå’Œselectæ²¡æœ‰åŒºåˆ«ï¼Œå®ƒå°†ç”¨æˆ·ä¼ å…¥çš„æ•°ç»„æ‹·è´åˆ°å†…æ ¸ç©ºé—´ï¼Œç„¶åæŸ¥è¯¢æ¯ä¸ªfdå¯¹åº”çš„è®¾å¤‡çŠ¶æ€ï¼Œå¦‚æœè®¾å¤‡å°±ç»ªåˆ™åœ¨è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€é¡¹å¹¶ç»§ç»­éå†ï¼Œå¦‚æœéå†å®Œæ‰€æœ‰fdåæ²¡æœ‰å‘ç°å°±ç»ªè®¾å¤‡ï¼Œåˆ™æŒ‚èµ·å½“å‰è¿›ç¨‹ï¼Œç›´åˆ°è®¾å¤‡å°±ç»ªæˆ–è€…ä¸»åŠ¨è¶…æ—¶ï¼Œè¢«å”¤é†’åå®ƒåˆè¦å†æ¬¡éå†fdã€‚è¿™ä¸ªè¿‡ç¨‹ç»å†äº†å¤šæ¬¡æ— è°“çš„éå†</p>
<p><strong>å®ƒæ²¡æœ‰æœ€å¤§è¿æ¥æ•°çš„é™åˆ¶:</strong> åŸå› æ˜¯å®ƒæ˜¯åŸºäºé“¾è¡¨æ¥å­˜å‚¨çš„ï¼Œä½†æ˜¯åŒæ ·æœ‰ç¼ºç‚¹:</p>
<p>1.å¤§é‡çš„fdçš„æ•°ç»„è¢«æ•´ä½“å¤åˆ¶äºç”¨æˆ·æ€å’Œå†…æ ¸åœ°å€ç©ºé—´ä¹‹é—´ï¼Œè€Œä¸ç®¡è¿™æ ·çš„å¤åˆ¶æ˜¯ä¸æ˜¯æœ‰æ„ä¹‰</p>
<p>2.pollè¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹æ˜¯â€œæ°´å¹³è§¦å‘â€ï¼Œå¦‚æœæŠ¥å‘Šäº†fdåï¼Œæ²¡æœ‰è¢«å¤„ç†ï¼Œé‚£ä¹ˆä¸‹æ¬¡pollæ—¶ä¼šå†æ¬¡æŠ¥å‘Šè¯¥fd</p>
<p><strong>epoll</strong></p>
<p>epollæœ‰EPOLL-LTå’ŒEPOLL-ETä¸¤ç§è§¦å‘æ¨¡å¼: LTæ˜¯é»˜è®¤çš„æ¨¡å¼ï¼ŒETæ˜¯â€œé«˜é€Ÿâ€æ¨¡å¼</p>
<ul>
<li>LTæ¨¡å¼ä¸‹ï¼Œåªè¦è¿™ä¸ªfdè¿˜æœ‰æ•°æ®å¯è¯»ï¼Œæ¯æ¬¡epoll_waitéƒ½ä¼šè¿”å›å®ƒçš„äº‹ä»¶ï¼Œæé†’ç”¨æˆ·ç¨‹åºå»æ“ä½œ</li>
<li>åœ¨ET(è¾¹ç¼˜è§¦å‘)æ¨¡å¼ä¸­ï¼Œå®ƒåªä¼šæç¤ºä¸€æ¬¡ï¼Œç›´åˆ°ä¸‹æ¬¡å†æœ‰æ•°æ®æµå…¥ä¹‹å‰éƒ½ä¸ä¼šå†æç¤ºäº†ï¼Œæ— è®ºfdä¸­æ˜¯å¦è¿˜æœ‰æ•°æ®å¯è¯»</li>
</ul>
<p>æ‰€ä»¥åœ¨ETæ¨¡å¼ä¸‹ï¼Œreadä¸€ä¸ªfdçš„æ—¶å€™ä¸€å®šè¦æŠŠå®ƒçš„bufferè¯»å…‰ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ç›´è¯»åˆ°readçš„è¿”å›å€¼å°äºè¯·æ±‚å€¼ï¼Œæˆ–è€…é‡åˆ°EAGAINé”™è¯¯</p>
<p>è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œepollä½¿ç”¨â€œäº‹ä»¶â€çš„å°±ç»ªé€šçŸ¥æ–¹å¼ï¼Œé€šè¿‡epoll_ctlæ³¨å†Œfdï¼Œä¸€æ—¦è¯¥fdå°±ç»ªï¼Œå†…æ ¸å°±ä¼šé‡‡ç”¨ç±»ä¼¼callbackçš„å›è°ƒæœºåˆ¶æ¥æ¿€æ´»è¯¥fdï¼Œepoll_waitä¾¿å¯ä»¥æ”¶åˆ°é€šçŸ¥</p>
<p><strong>epollçš„ä¼˜ç‚¹ï¼š</strong></p>
<p><strong>1. æ²¡æœ‰æœ€å¤§å¹¶å‘è¿æ¥çš„é™åˆ¶ï¼Œèƒ½æ‰“å¼€çš„FDçš„ä¸Šé™è¿œå¤§äº1024(1Gçš„å†…å­˜ä¸Šèƒ½ç›‘å¬çº¦10ä¸‡ä¸ªç«¯å£)</strong></p>
<p><strong>2. æ•ˆç‡æå‡ï¼Œä¸æ˜¯è½®è¯¢çš„æ–¹å¼ï¼Œä¸ä¼šéšç€FDæ•°ç›®çš„å¢åŠ æ•ˆç‡ä¸‹é™ã€‚åªæœ‰æ´»è·ƒå¯ç”¨çš„FDæ‰ä¼šè°ƒç”¨callbackå‡½æ•°, å³Epollæœ€å¤§çš„ä¼˜ç‚¹å°±åœ¨äºå®ƒåªç®¡ä½ â€œæ´»è·ƒâ€çš„è¿æ¥ï¼Œè€Œè·Ÿè¿æ¥æ€»æ•°æ— å…³ï¼Œå› æ­¤åœ¨å®é™…çš„ç½‘ç»œç¯å¢ƒä¸­ï¼ŒEpollçš„æ•ˆç‡å°±ä¼šè¿œè¿œé«˜äºselectå’Œpoll</strong></p>
<p><strong>3. å†…å­˜æ‹·è´ï¼Œåˆ©ç”¨mmap()æ–‡ä»¶æ˜ å°„å†…å­˜åŠ é€Ÿä¸å†…æ ¸ç©ºé—´çš„æ¶ˆæ¯ä¼ é€’ï¼›å³epollä½¿ç”¨mmapå‡å°‘å¤åˆ¶å¼€é”€</strong></p>
<br>

<p><strong>selectã€pollã€epoll åŒºåˆ«æ€»ç»“</strong></p>
<p><strong>â‘  æ”¯æŒä¸€ä¸ªè¿›ç¨‹æ‰€èƒ½æ‰“å¼€çš„æœ€å¤§è¿æ¥æ•°</strong></p>
<p>select: å•ä¸ªè¿›ç¨‹æ‰€èƒ½æ‰“å¼€çš„æœ€å¤§è¿æ¥æ•°ç”±FD_SETSIZEå®å®šä¹‰ï¼Œå…¶å¤§å°æ˜¯32ä¸ªæ•´æ•°çš„å¤§å°(åœ¨32ä½çš„æœºå™¨ä¸Šï¼Œå¤§å°å°±æ˜¯32x32ï¼ŒåŒç†64ä½æœºå™¨ä¸ŠFD_SETSIZEä¸º32x64)ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥å¯¹è¿›è¡Œä¿®æ”¹ï¼Œç„¶åé‡æ–°ç¼–è¯‘å†…æ ¸ï¼Œä½†æ˜¯æ€§èƒ½å¯èƒ½ä¼šå—åˆ°å½±å“ï¼Œè¿™éœ€è¦è¿›ä¸€æ­¥çš„æµ‹è¯•</p>
<p>poll: pollæœ¬è´¨ä¸Šå’Œselectæ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰æœ€å¤§è¿æ¥æ•°çš„é™åˆ¶ï¼ŒåŸå› æ˜¯å®ƒæ˜¯åŸºäºé“¾è¡¨æ¥å­˜å‚¨çš„</p>
<p>epoll: è™½ç„¶è¿æ¥æ•°æœ‰ä¸Šé™ï¼Œä½†æ˜¯å¾ˆå¤§ï¼Œ1Gå†…å­˜çš„æœºå™¨ä¸Šå¯ä»¥æ‰“å¼€10ä¸‡å·¦å³çš„è¿æ¥ï¼Œ2Gå†…å­˜çš„æœºå™¨å¯ä»¥æ‰“å¼€20ä¸‡å·¦å³çš„è¿æ¥</p>
<p><strong>â‘¡ FDå‰§å¢åå¸¦æ¥çš„IOæ•ˆç‡é—®é¢˜</strong></p>
<p>select: å› ä¸ºæ¯æ¬¡è°ƒç”¨æ—¶éƒ½ä¼šå¯¹è¿æ¥è¿›è¡Œçº¿æ€§éå†ï¼Œæ‰€ä»¥éšç€FDçš„å¢åŠ ä¼šé€ æˆéå†é€Ÿåº¦æ…¢çš„â€œçº¿æ€§ä¸‹é™æ€§èƒ½é—®é¢˜â€</p>
<p>poll: åŒä¸Š</p>
<p>epoll: å› ä¸ºepollå†…æ ¸ä¸­å®ç°æ˜¯æ ¹æ®æ¯ä¸ªfdä¸Šçš„callbackå‡½æ•°æ¥å®ç°çš„ï¼Œåªæœ‰æ´»è·ƒçš„socketæ‰ä¼šä¸»åŠ¨è°ƒç”¨callbackï¼Œæ‰€ä»¥åœ¨æ´»è·ƒsocketè¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨epollæ²¡æœ‰å‰é¢ä¸¤è€…çš„çº¿æ€§ä¸‹é™çš„æ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯æ‰€æœ‰socketéƒ½å¾ˆæ´»è·ƒçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šæœ‰æ€§èƒ½é—®é¢˜</p>
<p><strong>â‘¢ æ¶ˆæ¯ä¼ é€’æ–¹å¼</strong></p>
<p>select: å†…æ ¸éœ€è¦å°†æ¶ˆæ¯ä¼ é€’åˆ°ç”¨æˆ·ç©ºé—´ï¼Œéƒ½éœ€è¦å†…æ ¸æ‹·è´åŠ¨ä½œ</p>
<p>poll: åŒä¸Š</p>
<p>epoll: epollé€šè¿‡å†…æ ¸å’Œç”¨æˆ·ç©ºé—´å…±äº«ä¸€å—å†…å­˜æ¥å®ç°çš„</p>
<blockquote>
<br>

<p><strong>æ€»ç»“ï¼š</strong></p>
<p><strong>ç»¼ä¸Šï¼Œåœ¨é€‰æ‹©selectï¼Œpollï¼Œepollæ—¶è¦æ ¹æ®å…·ä½“çš„ä½¿ç”¨åœºåˆä»¥åŠè¿™ä¸‰ç§æ–¹å¼çš„è‡ªèº«ç‰¹ç‚¹:</strong></p>
<p><font color="#ff0000"><strong>1. è¡¨é¢ä¸Šçœ‹epollçš„æ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯åœ¨è¿æ¥æ•°å°‘å¹¶ä¸”è¿æ¥éƒ½ååˆ†æ´»è·ƒçš„æƒ…å†µä¸‹ï¼Œselectå’Œpollçš„æ€§èƒ½å¯èƒ½æ¯”epollå¥½ï¼Œæ¯•ç«Ÿepollçš„é€šçŸ¥æœºåˆ¶éœ€è¦å¾ˆå¤šå‡½æ•°å›è°ƒ</strong></font></p>
<p><font color="#ff0000"><strong>2. selectä½æ•ˆæ˜¯å› ä¸ºæ¯æ¬¡å®ƒéƒ½éœ€è¦è½®è¯¢ã€‚ä½†ä½æ•ˆä¹Ÿæ˜¯ç›¸å¯¹çš„ï¼Œè§†æƒ…å†µè€Œå®šï¼Œä¹Ÿå¯é€šè¿‡è‰¯å¥½çš„è®¾è®¡æ”¹å–„</strong> </font></p>
</blockquote>
<br>

<h3 id="16-BIOã€NIOä¸AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#16-BIOã€NIOä¸AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="16. BIOã€NIOä¸AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>16. BIOã€NIOä¸AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><ul>
<li>BIOï¼šçº¿ç¨‹å‘èµ·IOè¯·æ±‚ï¼Œä¸ç®¡å†…æ ¸æ˜¯å¦å‡†å¤‡å¥½IOæ“ä½œï¼Œä»å‘èµ·è¯·æ±‚èµ·ï¼Œçº¿ç¨‹ä¸€ç›´é˜»å¡ï¼Œç›´åˆ°æ“ä½œå®Œæˆ</li>
<li>NIOï¼šçº¿ç¨‹å‘èµ·IOè¯·æ±‚ï¼Œç«‹å³è¿”å›ï¼›å†…æ ¸åœ¨åšå¥½IOæ“ä½œçš„å‡†å¤‡ä¹‹åï¼Œé€šè¿‡è°ƒç”¨æ³¨å†Œçš„å›è°ƒå‡½æ•°é€šçŸ¥çº¿ç¨‹åšIOæ“ä½œï¼Œçº¿ç¨‹å¼€å§‹é˜»å¡ï¼Œç›´åˆ°æ“ä½œå®Œæˆ</li>
<li>AIOï¼šçº¿ç¨‹å‘èµ·IOè¯·æ±‚ï¼Œç«‹å³è¿”å›ï¼›å†…å­˜åšå¥½IOæ“ä½œçš„å‡†å¤‡ä¹‹åï¼ŒåšIOæ“ä½œï¼Œç›´åˆ°æ“ä½œå®Œæˆæˆ–è€…å¤±è´¥ï¼Œé€šè¿‡è°ƒç”¨æ³¨å†Œçš„å›è°ƒå‡½æ•°é€šçŸ¥çº¿ç¨‹åšIOæ“ä½œå®Œæˆæˆ–è€…å¤±è´¥</li>
</ul>
<ul>
<li>BIOæ˜¯ä¸€ä¸ªè¿æ¥ä¸€ä¸ªçº¿ç¨‹</li>
<li>NIOæ˜¯ä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹</li>
<li>AIOæ˜¯ä¸€ä¸ªæœ‰æ•ˆè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹</li>
</ul>
<ul>
<li>BIOï¼šåŒæ­¥å¹¶é˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¿æ¥ä¸€ä¸ªçº¿ç¨‹ï¼Œå³å®¢æˆ·ç«¯æœ‰è¿æ¥è¯·æ±‚æ—¶æœåŠ¡å™¨ç«¯å°±éœ€è¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œå¦‚æœè¿™ä¸ªè¿æ¥ä¸åšä»»ä½•äº‹æƒ…ä¼šé€ æˆä¸å¿…è¦çš„çº¿ç¨‹å¼€é”€ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡çº¿ç¨‹æ± æœºåˆ¶æ”¹å–„</li>
<li>NIOï¼šåŒæ­¥éé˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå³å®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚éƒ½ä¼šæ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨ä¸Šï¼Œå¤šè·¯å¤ç”¨å™¨è½®è¯¢åˆ°è¿æ¥æœ‰I/Oè¯·æ±‚æ—¶æ‰å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†</li>
<li>AIOï¼šå¼‚æ­¥éé˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªæœ‰æ•ˆè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå®¢æˆ·ç«¯çš„I/Oè¯·æ±‚éƒ½æ˜¯ç”±OSå…ˆå®Œæˆäº†å†é€šçŸ¥æœåŠ¡å™¨åº”ç”¨å»å¯åŠ¨çº¿ç¨‹è¿›è¡Œå¤„ç†</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯åˆ†æ</strong></p>
<ul>
<li>BIOæ–¹å¼é€‚ç”¨äºè¿æ¥æ•°ç›®æ¯”è¾ƒå°ä¸”å›ºå®šçš„æ¶æ„ï¼Œè¿™ç§æ–¹å¼å¯¹æœåŠ¡å™¨èµ„æºè¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼ŒJDK1.4ä»¥å‰çš„å”¯ä¸€é€‰æ‹©ï¼Œä½†ç¨‹åºç›´è§‚ç®€å•æ˜“ç†è§£</li>
<li>NIOæ–¹å¼é€‚ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒçŸ­ï¼ˆè½»æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚èŠå¤©æœåŠ¡å™¨ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK1.4å¼€å§‹æ”¯æŒ</li>
<li>AIOæ–¹å¼ä½¿ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒé•¿ï¼ˆé‡æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚ç›¸å†ŒæœåŠ¡å™¨ï¼Œå……åˆ†è°ƒç”¨OSå‚ä¸å¹¶å‘æ“ä½œï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK7å¼€å§‹æ”¯æŒ</li>
</ul>
<blockquote>
  <br>

<p>  å…³äºIOç›¸å…³çš„æ›´å¤šå†…å®¹å¯è§æˆ‘çš„åšæ–‡IOä¸“é¢˜: <a href="https://jasonkayzk.github.io/categories/IO%E5%9F%BA%E7%A1%80/">IOä¸“é¢˜</a></p>
</blockquote>
<br>

<h3 id="17-ä½ çš„èŒä¸šè§„åˆ’ï¼Ÿå¹´è–ªæœŸæœ›è–ªèµ„ï¼Ÿ"><a href="#17-ä½ çš„èŒä¸šè§„åˆ’ï¼Ÿå¹´è–ªæœŸæœ›è–ªèµ„ï¼Ÿ" class="headerlink" title="17. ä½ çš„èŒä¸šè§„åˆ’ï¼Ÿå¹´è–ªæœŸæœ›è–ªèµ„ï¼Ÿ"></a>17. ä½ çš„èŒä¸šè§„åˆ’ï¼Ÿå¹´è–ªæœŸæœ›è–ªèµ„ï¼Ÿ</h3><p>èŒä¸šè§„åˆ’: çœ‹ä¸ªäººå§â€¦</p>
<p>å¹´è–ªæœŸæœ›: æŠ¥ä¸€ä¸ªä½ è§‰å¾—ä¼šä¸ºä¹‹åŠªåŠ›å·¥ä½œçš„æ•°å­—</p>
<br>
  </article>

  <div id="like-container" style="text-align: center">
    <div class="like-feed">
      <p>è§‰å¾—æœ¬æ–‡ä¸é”™å°±ç‚¹ä¸ª<span>â™¥</span>å†èµ°å§~</p>
      <div class="like-img">
        <div class="like-heart" id="like" rel="like"></div>
        <div class="like-count" id="like-count"></div>
      </div>
    </div>
  </div>

  <!-- æ–‡ç« åˆ†äº« -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
  <div class="social-share" data-mode="prepend" data-disabled="tencent,diandian"></div>
  <br>

  
  
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>æœ¬æ–‡ä½œè€…ï¼š</strong>Jasonkay<br>
<strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://jasonkayzk.github.io/2019/12/25/Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­/" title="https://jasonkayzk.github.io/2019/12/25/Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­/" target="_blank" rel="noopener">https://jasonkayzk.github.io/2019/12/25/Javaé¢è¯•é¢˜æ€»ç»“ä¹‹ä¸€ç»­/</a><br>

  <strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬æ–‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> åè®®è¿›è¡Œè®¸å¯

</div>


  

  <!-- å¢åŠ é¢è¯•ç‚¹å‡»æ ‡é¢˜æ‰æ˜¾ç¤ºç­”æ¡ˆç­‰æ•ˆæœ! -->
  <!-- <script type="text/javascript">
    $(".question").click(function () {
      var a = $(".answer").eq($(".question").index(this));
      a.is(".answer_shown") ? a.animate({ 'opacity': '1' }, 800).removeClass("answer_shown") : a.animate({ 'opacity': '0' }, 800).addClass("answer_shown");
    });
  </script> -->
  <!-- <style>
    .answer_shown {
      opacity: 0;
    }
  </style> -->

  <!-- åŠ è½½åšå®¢ç‚¹èµåŠŸèƒ½ -->
  <script>
    function ajax(options) {
      return new Promise(function (resolve, reject) {
        $.ajax(options).done(resolve).fail(reject);
      });
    }

    var docName = $('meta[property="og:title"]').attr('content');
    
    // è·³è¿‡localhost
    if (location.hostname !== 'localhost') {
      // åˆå§‹åŒ–
      ajax({
        url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
        type: 'post',
        contentType: 'application/json; charset=utf-8',
        data: JSON.stringify({
          "actionId": "get",
          "docName": docName
        })
      }).then(
        function fulfillHandler(data) {
          $('#like-count').text(data.likeNum);
        },
        function rejectHandler(jqXHR, textStatus, errorThrown) {
          $('#like-count').text(0);
          console.log(jqXHR, textStatus, errorThrown);
        }
      ).catch(function errorHandler(error) {
        $('#like-count').text(0);
        console.log(error);
      });

      $(document).ready(function () {
        $(".like-heart").on("click", function () {
          var heart = $(this);
          var likeCount = $("#like-count" + heart.attr("id").split("like")[1]);
          var intCount = parseInt(likeCount.html());
          var rel = heart.attr("rel");

          if (rel === "like") {
            likeCount.html(intCount + 1);
            heart.addClass("like-heartAnimation").attr("rel", "unlike");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "add",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          } else {
            likeCount.html(intCount - 1);
            heart.removeClass("like-heartAnimation").attr("rel", "like");
            heart.css("background-position", "left");
            ajax({
              url: "https://service-rvqf6dam-1257829547.gz.apigw.tencentcs.com/blog_like/",
              type: 'post',
              contentType: 'application/json; charset=utf-8',
              data: JSON.stringify({
                "actionId": "subtract",
                "docName": docName
              })
            }).catch(function errorHandler(error) {
              console.log(error);
            });
          }
        }).on("mouseleave", function () {
          $(this).css("background-position", "");
        });
      });
    }
  </script>
  <style>
    #like-container {
      margin: 0 auto;
      width: 100%;
    }

    .like-img {
      width: 200px;
      height: 100px;
      display: inline-block;
    }

    .like-heart {
      float: left;
      background: url(/images/web_heart_animation.png);
      background-position: left;
      background-repeat: no-repeat;
      height: 50px;
      width: 120px;
      left: -14px;
      background-size: 2900%;
    }

    .like-count {
      float: left;
      font-family: 'Georgia', Times, Times New Roman, serif;
      font-size: 35px;
      color: #999999;
      text-align: left;
      height: 50px;
      width: 50px;
      line-height: 44px;
    }

    .like-heart:hover,
    .like-heart:focus {
      background-position: right;
    }

    @-webkit-keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    @keyframes heartBlast {
      0% {
        background-position: left;
      }

      100% {
        background-position: right;
      }
    }

    .like-heartAnimation {
      display: inline-block;
      -webkit-animation-name: heartBlast;
      animation-name: heartBlast;
      -webkit-animation-duration: .8s;
      animation-duration: .8s;
      -webkit-animation-iteration-count: 1;
      animation-iteration-count: 1;
      -webkit-animation-timing-function: steps(28);
      animation-timing-function: steps(28);
      background-position: right;
    }

    .like-feed {
      height: 90px;
      margin-bottom: 20px;
      text-align: center
    }

    .like-feed p {
      font-family: 'microsoft yahei', 'Georgia';
      font-size: 25px;
    }

    .like-feed span {
      font-size: 30px;
      color: #D33115;
    }
  </style>

  <section class="nexmoe-comment">
    <div class="utterances"></div>
<style>
    .v .vwrap {
      border: 1px dashed #c4bfbf
    }
  
    .v .vwrap .vheader .vinput {
      border-bottom: 1px dashed #c4bfbf
    }
</style>
<script src="https://utteranc.es/client.js" repo="JasonkayZK/JasonkayZK.github.io" issue-term="title" label="commentâœ¨ğŸ’¬âœ¨" theme="github-light" crossorigin="anonymous" async>
</script>

</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?v=1770725355615"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>




  
    <!-- Google Analytics -->
<script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'G-1NWK4EEKDF', 'auto');
    ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>






    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5f5ec71a32c11ff54dff64d0341017b0";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<!-- 
<script type="text/javascript">
  !function (e, t, a) { function n() { c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), o(), r() } function r() { for (var e = 0; e < d.length; e++)d[e].alpha <= 0 ? (t.body.removeChild(d[e].el), d.splice(e, 1)) : (d[e].y--, d[e].scale += .004, d[e].alpha -= .013, d[e].el.style.cssText = "left:" + d[e].x + "px;top:" + d[e].y + "px;opacity:" + d[e].alpha + ";transform:scale(" + d[e].scale + "," + d[e].scale + ") rotate(45deg);background:" + d[e].color + ";z-index:99999"); requestAnimationFrame(r) } function o() { var t = "function" == typeof e.onclick && e.onclick; e.onclick = function (e) { t && t(), i(e) } } function i(e) { var a = t.createElement("div"); a.className = "heart", d.push({ el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: s() }), t.body.appendChild(a) } function c(e) { var a = t.createElement("style"); a.type = "text/css"; try { a.appendChild(t.createTextNode(e)) } catch (t) { a.styleSheet.cssText = e } t.getElementsByTagName("head")[0].appendChild(a) } function s() { return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")" } var d = []; e.requestAnimationFrame = function () { return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) { setTimeout(e, 1e3 / 60) } }(), n() }(window, document);
</script>
 -->
 
<script>
  // è¿›åº¦æ¡åŠ è½½: nprogress
  NProgress.start()
  NProgress.done()
</script>

<script type="text/javascript" defer>
  $(document).ready(function () {
    $.goup({
      trigger: 100,
      bottomOffset: 50,
      locationOffset: 50,
      title: '0%',
      titleAsText: true
    });
    $(".goup-container").css("background", "#64dcf0 none repeat scroll 0% 0%").css("opacity", 0.9);
    $(".goup-text").css("font-weight", 600).css("opacity", 0.9);
  });

  $(document).scroll(function () {
    var d_h = $(document).height();
    var c_h = $(window).height();
    var c_t_h = $(window).scrollTop();
    var schedule = c_t_h / (d_h - c_h - 0.5);
    var str = Number(schedule * 100).toFixed();
    str += "%";
    $(".goup-text").text(str);
  });
</script>

<!-- ç«™å†…é€šçŸ¥ -->
<script src="/js/notification.js"></script>
<script>
  'use strict';

  (function () {
    $(function () {
      $('.position').click(function (event) {
        var el = $(event.target);
        $('.position').removeClass('selected');
        el.addClass('selected');
        position = el.attr('data-position');
      });
    });
  });

  var position = 2;
  // å…³é—­ç™¾æ¯«ç§’æ•°
  var closeTime = 50;
  var notifyFunc = function () {
    // Notification.create(
    //   //Â Title
    //   "Tencentå†…æ¨ä¸­ğŸ“§",
    //   //Â Text
    //   "ç®€å†æŠ•é€’å¤„ï¼š<BR/><a href='/hiring/'>ç®€å†æŠ•é€’</a>",
    //   //Â Illustration
    //   "/images/avatar4.jpg",
    //   //Â Effect
    //   'fadeInRight',
    //   //Â PositionÂ 1, 2,Â 3,Â 4
    //   position,
    //   closeTime
    // );
    // setTimeout(() => {
    //   Notification.create(
    //     "èµ„æºä¸‹è½½âš¡",
    //     "ä¼ é€é—¨ï¼š<BR/><a href='/sharing/'>æ–‡ä»¶åˆ†äº«</a>",
    //     "/images/avatar4.jpg",
    //     'fadeInRight',
    //     position,
    //     closeTime
    //   )
    // }, 350);
    setTimeout(() => {
      Notification.create(
        "RSSè®¢é˜…ğŸ“¢",
        "ä¼ é€é—¨ï¼š<BR/><a href='/atom.xml'>RSSè®¢é˜…</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 0);
    setTimeout(() => {
        Notification.create(
        "åœ¨çº¿ç¾¤èŠğŸ’­",
        "ä¼ é€é—¨ï¼š<BR/><a href='/chat/'>ç•…æ‰€æ¬²è¨€</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 350);
    setTimeout(() => {
        Notification.create(
        // "è·‘æ­¥å¥èº«ğŸƒ",
        // "ä¼ é€é—¨ï¼š<BR/><a href='/running/'>è·‘æ­¥å¥èº«</a>",
        "æ‘„å½±åˆ†äº«ğŸ“·",
        "ä¼ é€é—¨ï¼š<BR/><a href='http://159.75.131.252:32352/'>æ‘„å½±åˆ†äº«</a>",
        "/images/avatar4.jpg",
        'fadeInRight',
        position,
        closeTime
      )
    }, 700);
  };

  (function once() {
    if (sessionStorage.getItem('load') == null) {
      notifyFunc();
      sessionStorage.setItem('load', false);
    } else {
      return;
    }
  })();
</script>
<script>
  $(document).on("click", ".dismiss", function (e) {
    Notification.hide(e.currentTarget.classList[1].split('-')[1]);
  })
</script>

</html>